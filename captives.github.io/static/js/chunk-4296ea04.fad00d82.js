(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4296ea04"],{1441:function(e,t,n){"use strict";var i=n("c2c8"),a=n.n(i);a.a},"6e44":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-main",{staticClass:"center"},[n("url-input",{attrs:{list:e.$videoList},model:{value:e.url,callback:function(t){e.url=t},expression:"url"}}),n("el-row",{attrs:{gutter:50}},[n("el-col",{staticClass:"center",attrs:{xs:24,sm:24,md:12}},[n("el-divider",{attrs:{"content-position":"left"}},[e._v("Video")]),n("video",{ref:"localVideo",staticClass:"video-item",attrs:{src:e.url,controls:"",muted:"",loop:"",autoplay:""},domProps:{muted:!0}})],1),n("el-col",{staticClass:"center",attrs:{xs:24,sm:24,md:12}},[n("el-divider",{attrs:{"content-position":"left"}},[e._v("Canvas")]),n("canvas",{ref:"canvas",staticClass:"video-item"})],1)],1),n("el-row",[e._v("通过将video元素的功能与结合使用canvas，您可以实时处理视频数据，")]),n("el-code",[n("pre",{attrs:{lang:"html"}},[e._v('<template>\n  <el-main class="center">\n    <el-row :gutter="50">\n      <el-col class="center" :xs="24" :sm="24" :md="12">\n        <el-divider content-position="left">Video</el-divider>\n        <video ref="localVideo" class="video-item" \n          src="/medias/demo.mp4" controls muted loop autoplay ></video>\n      </el-col>\n\n      <el-col class="center" :xs="24" :sm="24" :md="12">\n        <el-divider content-position="left">Canvas</el-divider>\n        <canvas ref="canvas" class="video-item"></canvas>\n      </el-col>\n    </el-row>\n    <el-row>通过将video元素的功能与结合使用canvas，您可以实时处理视频数据，</el-row>\n  </el-main>\n</template>\n<script>\n\nexport default {\n  name: "DrawVideo",\n  data() {\n    return {\n      canvas: null,\n      context: null,\n    }\n  },\n  methods: {\n    init(event) {\n      let canvas = this.$refs.canvas;\n      canvas.setAttribute(\'width\', event.target.offsetWidth);\n      canvas.setAttribute(\'height\', event.target.offsetHeight);\n      this.context = canvas.getContext("2d");\n      this.animate();\n    },\n    animate() {\n      let source = this.$refs.localVideo;\n      this.context.clearRect(0, 0, source.offsetWidth, source.offsetHeight);\n      this.context.drawImage(source, 0, 0, source.offsetWidth, source.offsetHeight);\n\n      if ("requestAnimationFrame" in window) {\n        requestAnimationFrame(this.animate);\n      } else if ("webkitRequestAnimationFrame" in window) {\n        webkitRequestAnimationFrame(this.animate);\n      } else if ("msRequestAnimationFrame" in window) {\n        msRequestAnimationFrame(this.animate);\n      } else if ("mozRequestAnimationFrame" in window) {\n        mozRequestAnimationFrame(this.animate);\n      }\n    }\n  },\n  mounted() {\n    let video = this.$refs.localVideo;\n    video.addEventListener(\'canplay\', this.init);\n  },\n}\n<\/script>\n\n<style lang="stylus" scoped>\n.video-item {\n  background: #999;\n  width: 570px;\n  height: 320px;\n  background: #333;\n}\n</style>\n      ')])])],1)},a=[],s={name:"DrawVideo",data:function(){return{url:"",canvas:null,context:null}},methods:{init:function(e){var t=this.$refs.canvas;t.setAttribute("width",e.target.offsetWidth),t.setAttribute("height",e.target.offsetHeight),this.context=t.getContext("2d"),this.animate()},animate:function(){var e=this.$refs.localVideo;this.context.clearRect(0,0,e.offsetWidth,e.offsetHeight),this.context.drawImage(e,0,0,e.offsetWidth,e.offsetHeight),"requestAnimationFrame"in window?requestAnimationFrame(this.animate):"webkitRequestAnimationFrame"in window?webkitRequestAnimationFrame(this.animate):"msRequestAnimationFrame"in window?msRequestAnimationFrame(this.animate):"mozRequestAnimationFrame"in window&&mozRequestAnimationFrame(this.animate)}},mounted:function(){var e=this.$refs.localVideo;e.addEventListener("canplay",this.init)}},o=s,r=(n("1441"),n("2877")),l=Object(r["a"])(o,i,a,!1,null,"f862abf4",null);t["default"]=l.exports},c2c8:function(e,t,n){}}]);