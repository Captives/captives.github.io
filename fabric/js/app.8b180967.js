(function(e){function n(n){for(var r,a,c=n[0],l=n[1],s=n[2],f=0,d=[];f<c.length;f++)a=c[f],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&d.push(o[a][0]),o[a]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);u&&u(n);while(d.length)d.shift()();return i.push.apply(i,s||[]),t()}function t(){for(var e,n=0;n<i.length;n++){for(var t=i[n],r=!0,c=1;c<t.length;c++){var l=t[c];0!==o[l]&&(r=!1)}r&&(i.splice(n--,1),e=a(a.s=t[0]))}return e}var r={},o={app:0},i=[];function a(n){if(r[n])return r[n].exports;var t=r[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,a),t.l=!0,t.exports}a.m=e,a.c=r,a.d=function(e,n,t){a.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,n){if(1&n&&(e=a(e)),8&n)return e;if(4&n&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(a.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)a.d(t,r,function(n){return e[n]}.bind(null,r));return t},a.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(n,"a",n),n},a.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},a.p="";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=n,c=c.slice();for(var s=0;s<c.length;s++)n(c[s]);var u=l;i.push([0,"chunk-vendors"]),t()})({0:function(e,n,t){e.exports=t("56d7")},1:function(e,n){},2:function(e,n){},3:function(e,n){},"56d7":function(e,n,t){"use strict";t.r(n);t("e260"),t("e6cf"),t("cca6"),t("a79d");var r=t("2b0e"),o=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"fill",attrs:{id:"app"}},[t("BaseFabric",{staticClass:"fill"})],1)},i=[],a=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",[t("canvas",{ref:"draw",staticClass:"panel"}),t("ul",[t("li",[t("button",{on:{click:e.drawHandler}},[e._v("画图")])]),t("li",[t("button",{on:{click:e.selectHandler}},[e._v("选择")])]),t("li",[t("button",{on:{click:e.clearHandler}},[e._v("清除")])]),t("li",[t("button",{on:{click:e.resetHandler}},[e._v("重置")])])])])},c=[],l=t("7a94"),s={name:"BaseFabric",data:function(){return{canvas:null}},mounted:function(){var e=this,n=this.$refs.draw,t=n.parentElement.getBoundingClientRect();n.setAttribute("width",t.width+"px"),n.setAttribute("height",t.height+"px"),this.$nextTick((function(){e.init(n)})),document.addEventListener("keydown",(function(n){var t=window.event?n.keyCode:n.which;8==t&&e.canvas.remove(e.canvas.getActiveObject())}))},methods:{init:function(e){var n=this.canvas=new l["fabric"].Canvas(e,{isDrawingMode:!0});l["fabric"].Object.prototype.transparentCorners=!1,n.freeDrawingBrush&&(n.freeDrawingBrush.color="#ff0",n.freeDrawingBrush.width=10,n.freeDrawingBrush.shadow=new l["fabric"].Shadow({blur:0,offsetX:0,offsetY:0,affectStroke:!0,color:"blue"})),console.log("canvas",n,this.$refs.draw),n.on("object:moved",(function(e){var n=e.e,t=e.target;console.log("object:moved",t,n)})),n.on("object:moving",(function(e){var n=e.e,t=e.target;console.log("object:moving",t,n)})),n.on("mouse:up",(function(e){var t=e.e;console.log("mouse:up",t),n.renderAll()})),n.on("mouse:down",(function(e){var t=e.e,r=e.target;console.log("mouse:down",t,r),n.renderAll()})),n.on("mouse:move:before",(function(e){var n=e.e;console.log("mouse:move:before",n)})),n.on("mouse:move",(function(e){var n=e.e;console.log("mouse:move",n)}))},drawHandler:function(){this.canvas&&(this.canvas.isDrawingMode=!0)},selectHandler:function(){this.canvas&&(this.canvas.isDrawingMode=!1,console.log("对象集合",this.canvas.getObjects()))},resetHandler:function(){var e=this;this.clearHandler();for(var n=this.$refs.draw,t=n.offsetWidth,r=n.offsetHeight,o=15;o--;){var i=l["fabric"].util.getRandomInt(30,60),a=["image","Rect","Triangle","Circle"][l["fabric"].util.getRandomInt(0,2)],c={top:l["fabric"].util.getRandomInt(0,t),left:l["fabric"].util.getRandomInt(0,r),fill:"green"};if("Circle"===a){c.radius=i;var s=new l["fabric"].Circle({radius:i,fill:"blue",originX:"center",originY:"center"}),u=new l["fabric"].Text("F"+i,{fontSize:i,fill:"#FFF",originX:"center",originY:"center"});this.canvas.add(new l["fabric"].Group([s,u],c))}else"image"==a?l["fabric"].Image.fromURL("/assets/logo.png",(function(n){n.scale(.5).set({left:l["fabric"].util.getRandomInt(0,t/2),top:l["fabric"].util.getRandomInt(0,r)/2,angle:-15,clipTo:function(e){e.arc(0,0,300,0,2*Math.PI,!0)}}),e.canvas.add(n).setActiveObject(n)})):(c.width=i,c.height=i,this.canvas.add(new l["fabric"][a](c)))}},clearHandler:function(){this.canvas.clear()}}},u=s,f=(t("763c"),t("2877")),d=Object(f["a"])(u,a,c,!1,null,"0d8416d8",null),v=d.exports,p={name:"App",components:{BaseFabric:v}},b=p,g=(t("b044"),Object(f["a"])(b,o,i,!1,null,null,null)),h=g.exports;r["a"].config.productionTip=!1,new r["a"]({render:function(e){return e(h)}}).$mount("#app")},"763c":function(e,n,t){"use strict";t("f29b")},"8ae7":function(e,n,t){},b044:function(e,n,t){"use strict";t("8ae7")},f29b:function(e,n,t){}});
//# sourceMappingURL=app.8b180967.js.map