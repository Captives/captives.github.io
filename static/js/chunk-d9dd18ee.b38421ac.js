(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d9dd18ee"],{"0635":function(e,t,a){},"72c7":function(e,t,a){"use strict";var n=a("0635"),r=a.n(n);r.a},adc9:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-main",[e.canvas?a("el-row",[a("el-button",{attrs:{type:"danger"},on:{click:e.clear}},[e._v("清屏")]),a("el-button",{attrs:{type:"primary"},on:{click:e.reset}},[e._v("重置")])],1):e._e(),a("canvas",{ref:"draw",staticClass:"panel",attrs:{width:"1360px",height:"720px"}}),a("vue-source",{attrs:{value:"src/webrtc/views/canvas/BaseFabric.vue",lang:"html"}})],1)},r=[],o=a("7a94"),i={name:"BaseFabric",data:function(){return{canvas:null}},methods:{init:function(){var e=this.canvas=new o["fabric"].Canvas(this.$refs.draw,{isDrawingMode:!1});o["fabric"].Object.prototype.transparentCorners=!1,e.freeDrawingBrush&&(e.freeDrawingBrush.color="#ff0",e.freeDrawingBrush.width=10,e.freeDrawingBrush.shadow=new o["fabric"].Shadow({blur:0,offsetX:0,offsetY:0,affectStroke:!0,color:"blue"})),console.log("canvas",e),e.on("object:moved",(function(e){var t=e.e,a=e.target;e.subTargets;console.log("object:moved",a,t)})),e.on("object:moving",(function(e){var t=e.e,a=e.target;e.subTargets;console.log("object:moving",a,t)})),e.on("mouse:up",(function(t){var a=t.e;t.target,t.subTargets;console.log("mouse:up",a),e.isDrawingMode=!1,e.renderAll()})),e.on("mouse:down",(function(t){var a=t.e,n=t.target;t.subTargets;console.log("mouse:down",a,n),e.renderAll()})),e.on("mouse:move:before",(function(e){var t=e.e;e.target,e.subTargets;console.log("mouse:move:before",t)})),e.on("mouse:move",(function(t){var a=t.e,n=t.target;t.subTargets;console.log("mouse:move",a),e.isDrawingMode=!n}))},reset:function(){var e=this;this.clear();for(var t=this.$refs.draw,a=t.offsetWidth,n=t.offsetHeight,r=15;r--;){var i=o["fabric"].util.getRandomInt(30,60),s=["image","Rect","Triangle","Circle"][o["fabric"].util.getRandomInt(0,2)],c={top:o["fabric"].util.getRandomInt(0,a),left:o["fabric"].util.getRandomInt(0,n),fill:"green"};if("Circle"===s){c.radius=i;var l=new o["fabric"].Circle({radius:i,fill:"blue",originX:"center",originY:"center"}),u=new o["fabric"].Text("F"+i,{fontSize:i,fill:"#FFF",originX:"center",originY:"center"});this.canvas.add(new o["fabric"].Group([l,u],c))}else"image"==s?o["fabric"].Image.fromURL("/assets/corgi.jpg",(function(t){t.scale(.5).set({left:o["fabric"].util.getRandomInt(0,a/2),top:o["fabric"].util.getRandomInt(0,n)/2,angle:-15,clipTo:function(e){e.arc(0,0,300,0,2*Math.PI,!0)}}),e.canvas.add(t).setActiveObject(t)})):(c.width=i,c.height=i,this.canvas.add(new o["fabric"][s](c)))}},clear:function(){this.canvas.clear()}},mounted:function(){this.init(),this.reset()}},s=i,c=(a("72c7"),a("2877")),l=Object(c["a"])(s,n,r,!1,null,"1826c611",null);t["default"]=l.exports}}]);