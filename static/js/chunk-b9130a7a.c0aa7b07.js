(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b9130a7a"],{"1dcd":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-row",[t.srcElement?i("ol",[i("li",[t._v("title: "+t._s(t.srcElement.title))]),i("li",[t._v("dom size: "+t._s(t.srcElement.clientWidth)+"x"+t._s(t.srcElement.clientHeight))]),i("li",[t._v("video size: "+t._s(t.srcElement.videoWidth)+"x"+t._s(t.srcElement.videoHeight))]),i("li",[t._v("src: "),i("el-link",{attrs:{href:t.srcElement.src,target:"_blank"}},[t._v(t._s(t.srcElement.src))])],1),i("li",[t._v("poster: "+t._s(t.srcElement.poster))]),i("li",[t._v("srcObject: "+t._s(t.srcElement.srcObject))]),i("li",[t._v("sinkId: "+t._s(t.srcElement.sinkId))]),i("li",[t._v("paused: "+t._s(t.srcElement.paused))]),i("li",[t._v("currentTime: "+t._s(t.currentTime))]),i("li",[t._v("duration: "+t._s(t.srcElement.duration))]),i("li",[t._v("autoplay: "+t._s(t.srcElement.autoplay))]),i("li",[t._v("loop: "+t._s(t.srcElement.loop))]),i("li",[t._v("muted: "+t._s(t.srcElement.muted))]),i("li",[t._v("volume: "+t._s(t.srcElement.volume))]),i("li",[t._v("controls: "+t._s(t.srcElement.controls))]),i("li",[t._v("webkitDecodedFrameCount: "+t._s(t.srcElement.webkitDecodedFrameCount))]),i("li",[t._v("webkitDroppedFrameCount: "+t._s(t.srcElement.webkitDroppedFrameCount))]),i("li",[t._v("webkitAudioDecodedByteCount: "+t._s(t.srcElement.webkitAudioDecodedByteCount))]),i("li",[t._v("webkitVideoDecodedByteCount: "+t._s(t.srcElement.webkitVideoDecodedByteCount))])]):t._e()])},s=[],o={name:"VideoMetaData",data:function(){return{video:null,loading:!1,currentTime:0,srcElement:null,info:null}},methods:{listen:function(t){this.video=t,t&&(t.addEventListener("canplay",this.oncanplay),t.addEventListener("loadeddata",this.onloadedmetadata),t.addEventListener("loadedmetadata",this.onloadedmetadata),t.addEventListener("progress",this.onprogress),t.addEventListener("timeupdate",this.ontimeupdate),t.addEventListener("play",this.onplay))},oncanplay:function(t){this.srcElement=t.srcElement,console.log(this.srcElement.videoWidth,this.srcElement.videoHeight)},onloadedmetadata:function(t){this.loading=!1,console.log("onloadedmetadata",t)},onplay:function(t){this.loading=!1,console.log("onplay",t)},onprogress:function(t){this.loading=!0},ontimeupdate:function(t){this.currentTime=t.target.currentTime}},mounted:function(){}},a=o,l=(i("b9e4"),i("2877")),r=Object(l["a"])(a,n,s,!1,null,"c22c8c0a",null);e["a"]=r.exports},2809:function(t,e,i){},"28a0":function(t,e,i){"use strict";var n=i("7ad5"),s=i.n(n);s.a},"7ad5":function(t,e,i){},b368:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-main",{staticClass:"center"},[i("url-input",{attrs:{list:t.$videoList},model:{value:t.url,callback:function(e){t.url=e},expression:"url"}}),i("el-row",{attrs:{gutter:50}},[i("el-col",{staticClass:"center",attrs:{xs:24,sm:24,md:12}},[i("el-divider",{attrs:{"content-position":"left"}},[t._v("Video")]),i("video",{ref:"localVideo",staticClass:"video-item",attrs:{src:t.url,controls:"",muted:"",loop:"",autoplay:""},domProps:{muted:!0}})],1),i("el-col",{staticClass:"center",attrs:{xs:24,sm:24,md:12}},[i("el-divider",{attrs:{"content-position":"left"}},[t._v("Canvas")]),i("canvas",{ref:"canvas",staticClass:"video-item",on:{mousemove:t.canvasMouseMove}}),i("el-row",[t._v(" 行 "),i("el-input-number",{attrs:{min:1,max:10,size:"small"},model:{value:t.row,callback:function(e){t.row=e},expression:"row"}}),t._v("列 "),i("el-input-number",{attrs:{min:1,max:10,size:"small"},model:{value:t.column,callback:function(e){t.column=e},expression:"column"}})],1)],1),t.image?i("el-col",{staticClass:"center",attrs:{xs:24,sm:24,md:12}},[i("el-divider",{attrs:{"content-position":"left"}},[t._v("Image")]),i("img",{ref:"img",staticClass:"video-item",attrs:{src:t.image}})],1):t._e()],1),i("el-row",{attrs:{gutter:50}},[i("el-col",{staticClass:"center",attrs:{xs:24,sm:24,md:12}},[i("el-divider",{attrs:{"content-position":"left"}},[t._v("MetaData")]),i("VideoMetaData",{ref:"videoMedata"})],1)],1),i("vue-source",{attrs:{value:"src/webrtc/views/canvas/DrawVideoSplicing.vue",lang:"html"}})],1)},s=[],o=i("1dcd"),a={name:"DrawVideoSplicing",components:{VideoMetaData:o["a"]},data:function(){return{url:"",context:null,row:2,column:2,image:null,pixsColor:null}},methods:{init:function(t){var e=this.$refs.canvas;e&&(e.setAttribute("width",2*t.target.offsetWidth),e.setAttribute("height",2*t.target.offsetHeight),this.context=e.getContext("2d"),this.animate())},drawLine:function(t,e,i,n,s){s=s||2,this.context.beginPath(),this.context.moveTo(t-s/2,e),this.context.lineTo(i-s/2,n),this.context.lineWidth=s,this.context.strokeStyle="#FFF",this.context.stroke()},drawText:function(t,e,i){this.context.font="32px 微软雅黑",this.context.fillStyle="#FFF",this.context.fillText("video "+i,t,e)},animate:function(){var t=this.$refs.localVideo,e=this.$refs.canvas;if(t){var i=Math.floor(t.videoWidth/this.column),n=Math.floor(t.videoHeight/this.row),s=Math.floor(e.width/this.column),o=Math.floor(e.height/this.row);this.context.clearRect(0,0,e.width,e.height);for(var a=0;a<this.column;a++)for(var l=0;l<this.row;l++)this.context.drawImage(t,a*i,l*n,i,n,a*s+1,l*o+1,s-1,o-1),this.drawText((a+1)*s-150,l*o+50,l*this.column+a+1);"requestAnimationFrame"in window?requestAnimationFrame(this.animate):"webkitRequestAnimationFrame"in window?webkitRequestAnimationFrame(this.animate):"msRequestAnimationFrame"in window?msRequestAnimationFrame(this.animate):"mozRequestAnimationFrame"in window&&mozRequestAnimationFrame(this.animate)}},canvasMouseMove:function(t){}},mounted:function(){var t=this.$refs.localVideo;this.$refs.videoMedata.listen(t),t.addEventListener("canplay",this.init)}},l=a,r=(i("28a0"),i("2877")),c=Object(r["a"])(l,n,s,!1,null,"5ff31d3f",null);e["default"]=c.exports},b9e4:function(t,e,i){"use strict";var n=i("2809"),s=i.n(n);s.a}}]);