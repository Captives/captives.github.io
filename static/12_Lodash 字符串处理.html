<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/css/code-style.css">
    <link rel="stylesheet" href="/css/page.css">
    <title>Lodash 字符串处理</title>
</head>

<body>
    <div class="content"><h1><a id="Lodash 字符串处理"></a>Lodash 字符串处理</h1>
<h2><a id="转换"></a>转换</h2>
<h3><a id="_.toLower([string=''])"></a>_.toLower([string=’’])</h3>
<p>转换整个string字符串的字符为小写，类似<a href="https://mdn.io/toLowerCase" target="_blank">String#toLowerCase</a>。</p>
<pre><div class="hljs"><code class="lang-js">_.toLower(<span class="hljs-string">'--Foo-Bar--'</span>);
<span class="hljs-comment">// =&gt; '--foo-bar--'</span>
 
_.toLower(<span class="hljs-string">'fooBar'</span>);
<span class="hljs-comment">// =&gt; 'foobar'</span>
 
_.toLower(<span class="hljs-string">'__FOO_BAR__'</span>);
<span class="hljs-comment">// =&gt; '__foo_bar__'</span>
</code></div></pre>
<h3><a id="_.toUpper([string=''])"></a>_.toUpper([string=’’])</h3>
<p>转换整个string字符串的字符为大写，类似<a href="https://mdn.io/toUpperCase" target="_blank">String#toUpperCase</a>。</p>
<h3><a id="_.lowerCase([string=''])"></a>_.lowerCase([string=’’])</h3>
<p>转换字符串string以空格分开单词，并转换为小写。</p>
<pre><div class="hljs"><code class="lang-js">_.lowerCase(<span class="hljs-string">'--Foo-Bar--'</span>);
<span class="hljs-comment">// =&gt; 'foo bar'</span>
 
_.lowerCase(<span class="hljs-string">'fooBar'</span>);
<span class="hljs-comment">// =&gt; 'foo bar'</span>
 
_.lowerCase(<span class="hljs-string">'__FOO_BAR__'</span>);
<span class="hljs-comment">// =&gt; 'foo bar'</span>
</code></div></pre>
<h3><a id="_.lowerFirst([string=''])"></a>_.lowerFirst([string=’’])</h3>
<p>转换字符串string的首字母为小写, 其余不变。</p>
<pre><div class="hljs"><code class="lang-js">_.lowerFirst(<span class="hljs-string">'Fred'</span>);
<span class="hljs-comment">// =&gt; 'fred'</span>
 
_.lowerFirst(<span class="hljs-string">'FRED'</span>);
<span class="hljs-comment">// =&gt; 'fRED'</span>
</code></div></pre>
<h3><a id="_.upperCase([string=''])"></a>_.upperCase([string=’’])</h3>
<p>转换字符串string为 空格 分隔的大写单词。</p>
<pre><div class="hljs"><code class="lang-js">_.upperCase(<span class="hljs-string">'--foo-bar'</span>);
<span class="hljs-comment">// =&gt; 'FOO BAR'</span>
 
_.upperCase(<span class="hljs-string">'fooBar'</span>);
<span class="hljs-comment">// =&gt; 'FOO BAR'</span>
 
_.upperCase(<span class="hljs-string">'__foo_bar__'</span>);
<span class="hljs-comment">// =&gt; 'FOO BAR'</span>
</code></div></pre>
<h3><a id="_.upperFirst([string=''])"></a>_.upperFirst([string=’’])</h3>
<p>转换字符串string的首字母为大写，其余不变。</p>
<pre><div class="hljs"><code class="lang-js">_.upperFirst(<span class="hljs-string">'fred'</span>);
<span class="hljs-comment">// =&gt; 'Fred'</span>
 
_.upperFirst(<span class="hljs-string">'FRED'</span>);
<span class="hljs-comment">// =&gt; 'FRED'</span>
</code></div></pre>
<h3><a id="_.capitalize([string=''])"></a>_.capitalize([string=’’])</h3>
<p>字符串首字符大写，其余小写</p>
<pre><div class="hljs"><code class="lang-js">_.capitalize(<span class="hljs-string">'FRED'</span>);
<span class="hljs-comment">// =&gt; 'Fred'</span>
</code></div></pre>
<h3><a id="_.camelCase([string=''])"></a>_.camelCase([string=’’])</h3>
<p>转换字符串string为驼峰写法。</p>
<pre><div class="hljs"><code class="lang-js">_.camelCase(<span class="hljs-string">'Foo Bar'</span>);
<span class="hljs-comment">// =&gt; 'fooBar'</span>
 
_.camelCase(<span class="hljs-string">'--foo-bar--'</span>);
<span class="hljs-comment">// =&gt; 'fooBar'</span>
 
_.camelCase(<span class="hljs-string">'__FOO_BAR__'</span>);
<span class="hljs-comment">// =&gt; 'fooBar'</span>
</code></div></pre>
<h3><a id="_.kebabCase([string=''])"></a>_.kebabCase([string=’’])</h3>
<p>转换字符串string为<a href="https://en.wikipedia.org/wiki/Letter_case#Special_case_styles" target="_blank">kebab case</a>.</p>
<pre><div class="hljs"><code class="lang-js">_.kebabCase(<span class="hljs-string">'Foo Bar'</span>);
<span class="hljs-comment">// =&gt; 'foo-bar'</span>
 
_.kebabCase(<span class="hljs-string">'fooBar'</span>);
<span class="hljs-comment">// =&gt; 'foo-bar'</span>
 
_.kebabCase(<span class="hljs-string">'__FOO_BAR__'</span>);
<span class="hljs-comment">// =&gt; 'foo-bar'</span>
</code></div></pre>
<h3><a id="_.snakeCase([string=''])"></a>_.snakeCase([string=’’])</h3>
<p>转换字符串string为<a href="https://en.wikipedia.org/wiki/Snake_case" target="_blank">snake case</a>。</p>
<pre><div class="hljs"><code class="lang-js">_.snakeCase(<span class="hljs-string">'Foo Bar'</span>);
<span class="hljs-comment">// =&gt; 'foo_bar'</span>
 
_.snakeCase(<span class="hljs-string">'fooBar'</span>);
<span class="hljs-comment">// =&gt; 'foo_bar'</span>
 
_.snakeCase(<span class="hljs-string">'--FOO-BAR--'</span>);
<span class="hljs-comment">// =&gt; 'foo_bar'</span>
</code></div></pre>
<h3><a id="_.startCase([string=''])"></a>_.startCase([string=’’])</h3>
<p>转换string字符串为<a href="https://en.wikipedia.org/wiki/Letter_case#Stylistic_or_specialised_usage" target="_blank">start case</a>。</p>
<pre><div class="hljs"><code class="lang-js">_.startCase(<span class="hljs-string">'--foo-bar--'</span>);
<span class="hljs-comment">// =&gt; 'Foo Bar'</span>
 
_.startCase(<span class="hljs-string">'fooBar'</span>);
<span class="hljs-comment">// =&gt; 'Foo Bar'</span>
 
_.startCase(<span class="hljs-string">'__FOO_BAR__'</span>);
<span class="hljs-comment">// =&gt; 'FOO BAR'</span>
</code></div></pre>
<h2><a id="转义"></a>转义</h2>
<h3><a id="_.escape([string=''])"></a>_.escape([string=’’])</h3>
<p>转义string中的 “&amp;”, “&lt;”, “&gt;”, ‘&quot;’, “’”, 和 “`” 字符为HTML实体字符。</p>
<div class='tip-block warning'><span class='title'> 注意： </span><p>不会转义其他字符。如果需要，可以使用第三方库，例如he。</p>
</div><p>虽然 “&gt;” 是对称转义的，字符如 “&gt;” 和 “/” 没有特殊的意义，所以不需要在 HTML 转义。 除非它们是标签的一部分，或者是不带引号的属性值。</p>
<p>当解析 HTML 时，总应该在<a href="http://wonko.com/post/html-escaping" target="_blank">属性值上使用引号</a> 以减少 XSS 的可能性。</p>
<pre><div class="hljs"><code class="lang-js">_.escape(<span class="hljs-string">'fred, barney, &amp; pebbles'</span>);
<span class="hljs-comment">// =&gt; 'fred, barney, &amp; pebbles'</span>
</code></div></pre>
<h3><a id="_.escapeRegExp([string=''])"></a>_.escapeRegExp([string=’’])</h3>
<p>转义 RegExp 字符串中特殊的字符 “^”, “$”, “”, “.”, “*”, “+”, “?”, “(”, “)”, “[”, “]”, &quot;, &quot;, 和 “|” in .</p>
<pre><div class="hljs"><code class="lang-js">_.escapeRegExp(<span class="hljs-string">'[lodash](https://lodash.com/)'</span>);
<span class="hljs-comment">// =&gt; '\[lodash\]\(https://lodash\.com/\)'</span>
</code></div></pre>
<h3><a id="_.unescape([string=''])"></a>_.unescape([string=’’])</h3>
<p><code>_.escape</code>的反向版。 这个方法转换string字符串中的 HTML 实体 &amp;, &lt;, &gt;, &quot;, ', 和 ` 为对应的字符。</p>
<div class='tip-block warning'><span class='title'> 注意： </span><p>不会转义其他字符。如果需要，可以使用第三方库，例如he。</p>
</div><pre><div class="hljs"><code class="lang-js">_.unescape(<span class="hljs-string">'fred, barney, &amp; pebbles'</span>);
<span class="hljs-comment">// =&gt; 'fred, barney, &amp; pebbles'</span>
</code></div></pre>
<h2><a id="分割"></a>分割</h2>
<h3><a id="_.split([string=''], separator, [limit])"></a>_.split([string=’’], separator, [limit])</h3>
<p>根据<code>separator</code>拆分字符串<code>string</code>。</p>
<div class='tip-block warning'><span class='title'> 注意： </span><p>这个方法基于<a href="https://mdn.io/String/split" target="_blank">String#split</a>。</p>
</div><pre><div class="hljs"><code class="lang-js">_.split(<span class="hljs-string">'a-b-c'</span>, <span class="hljs-string">'-'</span>, <span class="hljs-number">2</span>);
<span class="hljs-comment">// =&gt; ['a', 'b']</span>
</code></div></pre>
<h3><a id="_.words([string=''], [pattern])"></a>_.words([string=’’], [pattern])</h3>
<p>拆分字符串string中的词为数组 。</p>
<pre><div class="hljs"><code class="lang-js">_.words(<span class="hljs-string">'fred, barney, &amp; pebbles'</span>);
<span class="hljs-comment">// =&gt; ['fred', 'barney', 'pebbles']</span>
 
_.words(<span class="hljs-string">'fred, barney, &amp; pebbles'</span>, /[^, ]+<span class="hljs-regexp">/g);
/</span><span class="hljs-regexp">/ =&gt; ['fred', 'barney', '&amp;', 'pebbles']
</span></code></div></pre>
<h2><a id="检索"></a>检索</h2>
<h3><a id="_.startsWith([string=''], [target], [position=0])"></a>_.startsWith([string=’’], [target], [position=0])</h3>
<p>检查字符串string是否以<code>target</code>开头。</p>
<pre><div class="hljs"><code class="lang-js">_.startsWith(<span class="hljs-string">'abc'</span>, <span class="hljs-string">'a'</span>);
<span class="hljs-comment">// =&gt; true</span>
 
_.startsWith(<span class="hljs-string">'abc'</span>, <span class="hljs-string">'b'</span>);
<span class="hljs-comment">// =&gt; false</span>
 
_.startsWith(<span class="hljs-string">'abc'</span>, <span class="hljs-string">'b'</span>, <span class="hljs-number">1</span>);
<span class="hljs-comment">// =&gt; true</span>
</code></div></pre>
<h3><a id="_.endsWith([string=''], [target], [position=string.length])"></a>_.endsWith([string=’’], [target], [position=string.length])</h3>
<p>检查字符串string是否以给定的target字符串结尾;如果字符串string以target字符串结尾，那么返回 true，否则返回 false</p>
<pre><div class="hljs"><code class="lang-js">_.endsWith(<span class="hljs-string">'abc'</span>, <span class="hljs-string">'c'</span>);
<span class="hljs-comment">// =&gt; true</span>
 
_.endsWith(<span class="hljs-string">'abc'</span>, <span class="hljs-string">'b'</span>);
<span class="hljs-comment">// =&gt; false</span>
 
_.endsWith(<span class="hljs-string">'abc'</span>, <span class="hljs-string">'b'</span>, <span class="hljs-number">2</span>);
<span class="hljs-comment">// =&gt; true</span>
</code></div></pre>
<h2><a id="替换"></a>替换</h2>
<h3><a id="_.replace([string=''], pattern, replacement)"></a>_.replace([string=’’], pattern, replacement)</h3>
<p>替换string字符串中匹配的<code>pattern</code>为给定的<code>replacement</code></p>
<div class='tip-block warning'><span class='title'> 注意： </span><p>这个方法基于<a href="https://mdn.io/String/replace" target="_blank">String#replace</a>.</p>
</div><pre><div class="hljs"><code class="lang-js">_.replace(<span class="hljs-string">'Hi Fred'</span>, <span class="hljs-string">'Fred'</span>, <span class="hljs-string">'Barney'</span>);
<span class="hljs-comment">// =&gt; 'Hi Barney'</span>
</code></div></pre>
<h3><a id="_.trim([string=''], [chars=whitespace])"></a>_.trim([string=’’], [chars=whitespace])</h3>
<p>从string字符串中移除前面和后面的 空格 或 指定的字符。</p>
<pre><div class="hljs"><code class="lang-js">_.trim(<span class="hljs-string">'  abc  '</span>);
<span class="hljs-comment">// =&gt; 'abc'</span>
 
_.trim(<span class="hljs-string">'-_-abc-_-'</span>, <span class="hljs-string">'_-'</span>);
<span class="hljs-comment">// =&gt; 'abc'</span>
 
_.map([<span class="hljs-string">'  foo  '</span>, <span class="hljs-string">'  bar  '</span>], _.trim);
<span class="hljs-comment">// =&gt; ['foo', 'bar']</span>
</code></div></pre>
<h3><a id="_.trimStart([string=''], [chars=whitespace])"></a>_.trimStart([string=’’], [chars=whitespace])</h3>
<p>从string字符串中移除前面的 空格 或 指定的字符。</p>
<pre><div class="hljs"><code class="lang-js">_.trimStart(<span class="hljs-string">'  abc  '</span>);
<span class="hljs-comment">// =&gt; 'abc  '</span>
 
_.trimStart(<span class="hljs-string">'-_-abc-_-'</span>, <span class="hljs-string">'_-'</span>);
<span class="hljs-comment">// =&gt; 'abc-_-'</span>
</code></div></pre>
<h3><a id="_.trimEnd([string=''], [chars=whitespace])"></a>_.trimEnd([string=’’], [chars=whitespace])</h3>
<p>从string字符串中移除后面的 空格 或 指定的字符。</p>
<pre><div class="hljs"><code class="lang-js">_.trimEnd(<span class="hljs-string">'  abc  '</span>);
<span class="hljs-comment">// =&gt; '  abc'</span>
 
_.trimEnd(<span class="hljs-string">'-_-abc-_-'</span>, <span class="hljs-string">'_-'</span>);
<span class="hljs-comment">// =&gt; '-_-abc'</span>
</code></div></pre>
<h3><a id="_.pad([string=''], [length=0], [chars=' '])"></a>_.pad([string=’’], [length=0], [chars=’ '])</h3>
<p>如果string字符串长度小于 length 则从左侧和右侧填充字符。 如果没法平均分配，则截断超出的长度。</p>
<div class='more-block'><details><summary>参数：</summary>
<ul>
<li>[string=’’] (string): 要填充的字符串。</li>
<li>[length=0] (number): 填充的长度。</li>
<li>[chars=’ '] (string): 填充字符。</li>
</ul>
</details></div><pre><div class="hljs"><code class="lang-js">_.pad(<span class="hljs-string">'abc'</span>, <span class="hljs-number">8</span>);
<span class="hljs-comment">// =&gt; '  abc   '</span>
 
_.pad(<span class="hljs-string">'abc'</span>, <span class="hljs-number">8</span>, <span class="hljs-string">'_-'</span>);
<span class="hljs-comment">// =&gt; '_-abc_-_'</span>
 
_.pad(<span class="hljs-string">'abc'</span>, <span class="hljs-number">3</span>);
<span class="hljs-comment">// =&gt; 'abc'</span>
</code></div></pre>
<h3><a id="_.padStart([string=''], [length=0], [chars=' '])"></a>_.padStart([string=’’], [length=0], [chars=’ '])</h3>
<p>如果string字符串长度小于 length 则在左侧填充字符。 如果超出length长度则截断超出的部分。</p>
<pre><div class="hljs"><code class="lang-js">_.padStart(<span class="hljs-string">'abc'</span>, <span class="hljs-number">6</span>);
<span class="hljs-comment">// =&gt; '   abc'</span>
 
_.padStart(<span class="hljs-string">'abc'</span>, <span class="hljs-number">6</span>, <span class="hljs-string">'_-'</span>);
<span class="hljs-comment">// =&gt; '_-_abc'</span>
 
_.padStart(<span class="hljs-string">'abc'</span>, <span class="hljs-number">3</span>);
<span class="hljs-comment">// =&gt; 'abc'</span>
</code></div></pre>
<h3><a id="_.padEnd([string=''], [length=0], [chars=' '])"></a>_.padEnd([string=’’], [length=0], [chars=’ '])</h3>
<p>如果string字符串长度小于 length 则在右侧填充字符。 如果超出length长度则截断超出的部分。</p>
<pre><div class="hljs"><code class="lang-js">_.padEnd(<span class="hljs-string">'abc'</span>, <span class="hljs-number">6</span>);
<span class="hljs-comment">// =&gt; 'abc   '</span>
 
_.padEnd(<span class="hljs-string">'abc'</span>, <span class="hljs-number">6</span>, <span class="hljs-string">'_-'</span>);
<span class="hljs-comment">// =&gt; 'abc_-_'</span>
 
_.padEnd(<span class="hljs-string">'abc'</span>, <span class="hljs-number">3</span>);
<span class="hljs-comment">// =&gt; 'abc'</span>
</code></div></pre>
<h2><a id="其它"></a>其它</h2>
<h3><a id="_.parseInt(string, [radix=10])"></a>_.parseInt(string, [radix=10])</h3>
<p>转换string字符串为指定基数的整数。 如果基数是 <code>undefined</code> 或者 <code>0</code>，则<code>radix</code>基数默认是10，如果<code>string</code>字符串是16进制，则<code>radix</code>基数为 16。</p>
<div class='tip-block warning'><span class='title'> 注意： </span><p>注意: 这个方法与ES5 implementation 的 parseInt是一样的。</p>
</div><pre><div class="hljs"><code class="lang-js">_.parseInt(<span class="hljs-string">'08'</span>);
<span class="hljs-comment">// =&gt; 8</span>
 
_.map([<span class="hljs-string">'6'</span>, <span class="hljs-string">'08'</span>, <span class="hljs-string">'10'</span>], _.parseInt);
<span class="hljs-comment">// =&gt; [6, 8, 10]</span>
</code></div></pre>
<h3><a id="_.repeat([string=''], [n=1])"></a>_.repeat([string=’’], [n=1])</h3>
<p>重复 N 次给定字符串</p>
<pre><div class="hljs"><code class="lang-js">_.repeat(<span class="hljs-string">'*'</span>, <span class="hljs-number">3</span>);
<span class="hljs-comment">// =&gt; '***'</span>
 
_.repeat(<span class="hljs-string">'abc'</span>, <span class="hljs-number">2</span>);
<span class="hljs-comment">// =&gt; 'abcabc'</span>
 
_.repeat(<span class="hljs-string">'abc'</span>, <span class="hljs-number">0</span>);
<span class="hljs-comment">// =&gt; ''</span>
</code></div></pre>
<h3><a id="_.truncate([string=''], [options=])"></a>_.truncate([string=’’], [options=])</h3>
<p>截断string字符串，如果字符串超出了限定的最大值。 被截断的字符串后面会以<code>omission</code>代替，<code>omission</code>默认是 “…”。</p>
<div class='more-block'><details><summary>参数</summary>
<p>[string=’’] (string): 要截断的字符串。<br />
[options=] (Object): 选项对象。<br />
[options.length=30] (number): 允许的最大长度。<br />
[options.omission=’…’] (string): 超出后的代替字符。<br />
[options.separator] (RegExp|string): 截断点。</p>
</details></div><pre><div class="hljs"><code class="lang-js">_.truncate(<span class="hljs-string">'hi-diddly-ho there, neighborino'</span>);
<span class="hljs-comment">// =&gt; 'hi-diddly-ho there, neighbo...'</span>
 
_.truncate(<span class="hljs-string">'hi-diddly-ho there, neighborino'</span>, {
  <span class="hljs-string">'length'</span>: <span class="hljs-number">24</span>,
  <span class="hljs-string">'separator'</span>: <span class="hljs-string">' '</span>
});
<span class="hljs-comment">// =&gt; 'hi-diddly-ho there,...'</span>
 
_.truncate(<span class="hljs-string">'hi-diddly-ho there, neighborino'</span>, {
  <span class="hljs-string">'length'</span>: <span class="hljs-number">24</span>,
  <span class="hljs-string">'separator'</span>: <span class="hljs-regexp">/,? +/</span>
});
<span class="hljs-comment">// =&gt; 'hi-diddly-ho there...'</span>
 
_.truncate(<span class="hljs-string">'hi-diddly-ho there, neighborino'</span>, {
  <span class="hljs-string">'omission'</span>: <span class="hljs-string">' [...]'</span>
});
<span class="hljs-comment">// =&gt; 'hi-diddly-ho there, neig [...]'</span>
</code></div></pre>
<h3><a id="_.template([string=''], [options=])"></a>_.template([string=’’], [options=])</h3>
<p>创建一个预编译模板方法，可以插入数据到模板中<code>&quot;interpolate&quot;</code>分隔符相应的位置。 HTML会在<code>&quot;escape&quot;</code>分隔符中转换为相应实体。 在<code>&quot;evaluate&quot;</code>分隔符中允许执行JavaScript代码。 在模板中可以自由访问变量。 如果设置了选项对象，则会优先覆盖<a href="https://www.lodashjs.com/docs/lodash.template#templateSettings" target="_blank">_.templateSettings</a>的值。</p>
<div class='tip-block warning'><span class='title'> 注意： </span><p>在开发过程中，构建<a href="https://www.lodashjs.com/docs/lodash.template#template" target="_blank">_.template</a>可以使用<a href="http://www.html5rocks.com/en/tutorials/developertools/sourcemaps/#toc-sourceurl" target="_blank">sourceURLs</a>， 便于调试。<br />
了解更多预编译模板的信息查看<a href="https://lodash.com/custom-builds" target="_blank">lodash的自定义构建文档</a>。<br />
了解更多 Chrome 沙箱扩展的信息查看<a href="https://developer.chrome.com/extensions/sandboxingEval" target="_blank">Chrome的扩展文档</a>。</p>
</div><div class='more-block'><details><summary>参数：</summary>
<ul>
<li>[string=’’] (string): 模板字符串.</li>
<li>[options=] (Object): 选项对象.</li>
<li>[options.escape=_.templateSettings.escape] (RegExp): “escape” 分隔符.</li>
<li>[options.evaluate=_.templateSettings.evaluate] (RegExp): “evaluate” 分隔符.</li>
<li>[options.imports=_.templateSettings.imports] (Object): 导入对象到模板中作为自由变量。</li>
<li>[options.interpolate=_.templateSettings.interpolate] (RegExp): “interpolate” 分隔符。</li>
<li>[options.sourceURL=‘lodash.templateSources[n]’] (string): 模板编译的来源URL。</li>
<li>[options.variable=‘obj’] (string): 数据对象的变量名。</li>
</ul>
</details></div><pre><div class="hljs"><code class="lang-js"><span class="hljs-comment">// 使用 "interpolate" 分隔符创建编译模板</span>
<span class="hljs-keyword">var</span> compiled = _.template(<span class="hljs-string">'hello &lt;%= user %&gt;!'</span>);
compiled({ <span class="hljs-string">'user'</span>: <span class="hljs-string">'fred'</span> });
<span class="hljs-comment">// =&gt; 'hello fred!'</span>
 
<span class="hljs-comment">// 使用 HTML "escape" 转义数据的值</span>
<span class="hljs-keyword">var</span> compiled = _.template(<span class="hljs-string">'&lt;b&gt;&lt;%- value %&gt;&lt;/b&gt;'</span>);
compiled({ <span class="hljs-string">'value'</span>: <span class="hljs-string">'&lt;script&gt;'</span> });
<span class="hljs-comment">// =&gt; '&lt;b&gt;&lt;script&gt;&lt;/b&gt;'</span>
 
<span class="hljs-comment">// 使用 "evaluate" 分隔符执行 JavaScript 和 生成HTML代码</span>
<span class="hljs-keyword">var</span> compiled = _.template(<span class="hljs-string">'&lt;% _.forEach(users, function(user) { %&gt;&lt;li&gt;&lt;%- user %&gt;&lt;/li&gt;&lt;% }); %&gt;'</span>);
compiled({ <span class="hljs-string">'users'</span>: [<span class="hljs-string">'fred'</span>, <span class="hljs-string">'barney'</span>] });
<span class="hljs-comment">// =&gt; '&lt;li&gt;fred&lt;/li&gt;&lt;li&gt;barney&lt;/li&gt;'</span>
 
<span class="hljs-comment">// 在 "evaluate" 分隔符中使用内部的 `print` 函数</span>
<span class="hljs-keyword">var</span> compiled = _.template(<span class="hljs-string">'&lt;% print("hello " + user); %&gt;!'</span>);
compiled({ <span class="hljs-string">'user'</span>: <span class="hljs-string">'barney'</span> });
<span class="hljs-comment">// =&gt; 'hello barney!'</span>
 
<span class="hljs-comment">// 使用 ES 分隔符代替默认的 "interpolate" 分隔符</span>
<span class="hljs-keyword">var</span> compiled = _.template(<span class="hljs-string">'hello ${ user }!'</span>);
compiled({ <span class="hljs-string">'user'</span>: <span class="hljs-string">'pebbles'</span> });
<span class="hljs-comment">// =&gt; 'hello pebbles!'</span>
 
<span class="hljs-comment">// 使用自定义的模板分隔符</span>
_.templateSettings.interpolate = <span class="hljs-regexp">/{{([\s\S]+?)}}/g</span>;
<span class="hljs-keyword">var</span> compiled = _.template(<span class="hljs-string">'hello {{ user }}!'</span>);
compiled({ <span class="hljs-string">'user'</span>: <span class="hljs-string">'mustache'</span> });
<span class="hljs-comment">// =&gt; 'hello mustache!'</span>
 
<span class="hljs-comment">// 使用反斜杠符号作为纯文本处理</span>
<span class="hljs-keyword">var</span> compiled = _.template(<span class="hljs-string">'&lt;%= "\\&lt;%- value %\\&gt;" %&gt;'</span>);
compiled({ <span class="hljs-string">'value'</span>: <span class="hljs-string">'ignored'</span> });
<span class="hljs-comment">// =&gt; '&lt;%- value %&gt;'</span>
 
<span class="hljs-comment">// 使用 `imports` 选项导入 `jq` 作为 `jQuery` 的别名</span>
<span class="hljs-keyword">var</span> text = <span class="hljs-string">'&lt;% jq.each(users, function(user) { %&gt;&lt;li&gt;&lt;%- user %&gt;&lt;/li&gt;&lt;% }); %&gt;'</span>;
<span class="hljs-keyword">var</span> compiled = _.template(text, { <span class="hljs-string">'imports'</span>: { <span class="hljs-string">'jq'</span>: jQuery } });
compiled({ <span class="hljs-string">'users'</span>: [<span class="hljs-string">'fred'</span>, <span class="hljs-string">'barney'</span>] });
<span class="hljs-comment">// =&gt; '&lt;li&gt;fred&lt;/li&gt;&lt;li&gt;barney&lt;/li&gt;'</span>
 
<span class="hljs-comment">// 使用 `sourceURL` 选项指定模板的来源URL</span>
<span class="hljs-keyword">var</span> compiled = _.template(<span class="hljs-string">'hello &lt;%= user %&gt;!'</span>, { <span class="hljs-string">'sourceURL'</span>: <span class="hljs-string">'/basic/greeting.jst'</span> });
compiled(data);
<span class="hljs-comment">// =&gt; 在开发工具的 Sources 选项卡 或 Resources 面板中找到 "greeting.jst"</span>
 
<span class="hljs-comment">// 使用 `variable` 选项确保在编译模板中不声明变量</span>
<span class="hljs-keyword">var</span> compiled = _.template(<span class="hljs-string">'hi &lt;%= data.user %&gt;!'</span>, { <span class="hljs-string">'variable'</span>: <span class="hljs-string">'data'</span> });
compiled.source;
<span class="hljs-comment">// =&gt; function(data) {</span>
<span class="hljs-comment">//   var __t, __p = '';</span>
<span class="hljs-comment">//   __p += 'hi ' + ((__t = ( data.user )) == null ? '' : __t) + '!';</span>
<span class="hljs-comment">//   return __p;</span>
<span class="hljs-comment">// }</span>
 
<span class="hljs-comment">// 使用 `source` 特性内联编译模板</span>
<span class="hljs-comment">// 便以查看行号、错误信息、堆栈</span>
fs.writeFileSync(path.join(cwd, <span class="hljs-string">'jst.js'</span>), <span class="hljs-string">'\
  var JST = {\
    "main": '</span> + _.template(mainText).source + <span class="hljs-string">'\
  };\
'</span>);
</code></div></pre>
</div>
</body>
<script src="/js/prism.js"></script>
<script>
    window.onload = function() {
        window.Prism = window.Prism || {};
        window.Prism.manual = true;
    }
</script>

</html>