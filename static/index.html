<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <div class="wrapper">

    </div>
    <script>
        String.prototype.interpolate = function(params) {
            console.log(">>>", params);
            if (!!params.styles) {
                const styles = params.styles;
                delete params.styles;
                params.style = styles.map(value => '\<link rel="stylesheet" href="${value}"\>'.interpolate({
                    value
                })).join(" ");
            } else {
                params.style = "";
            }

            if (!!params.scripts) {
                const scripts = params.scripts;
                delete params.scripts;
                params.script = scripts.map(value => "\<script src='${value}' type='text/javascript'\> \</script\>".interpolate({
                    value
                })).join(" ");
            } else {
                params.script = "";
            }
            console.log("2 >>> ", params);
            const keys = Object.keys(params);
            const values = Object.values(params);
            return new Function(...keys, `return \`${this}\`;`)(...values);
        }

        const html = "<div> <h1> ${title} </h1>  ${style}  ${script} ${ styles.map(value => `<link rel=\"stylesheet\" href=\"${value}\">`).join(' ')}  </div>";


        const dom = html.interpolate({
            title: "测试页面",
            styles: ["css/bootstrap.css", "css/prims.css"],
            scripts: ["js/vue.min.js", "js/vue.js", "js/jquery.min.js"]
        });
        console.log(dom);
        document.querySelector('.wrapper').innerHTML = dom;
    </script>
</body>

</html>