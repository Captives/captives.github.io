<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>自动播放策略</title>
    <style>
        body {
            text-align: center;
        }
        
        video {
            width: 720px;
            height: 405px;
            outline: none;
        }
    </style>
</head>

<body>
    <h1></h1>
    <h5></h5>
    <video id="video" src="/assets/medias/Piper_720P.mp4" controls></video>
</body>
<script>
    function play() {
        const video = document.getElementById('video');
        console.log("视频音量", video.volume);

        video.play().then(() => {
            console.log('播放开始');
            document.querySelector('h1').innerText = '播放开始';
        }).catch(err => {
            console.log('播放失败', err);
            document.querySelector('h1').innerText = '播放失败';
        })
    }

    function timerChange() {
        const d = new Date();
        document.querySelector('h5').innerText = d.toLocaleTimeString();
    }

    window.onload = function() {
        document.querySelector('h1').innerText = '3秒后开始播放';
        setTimeout(play, 3000);
        setInterval(timerChange, 1000);
        timerChange();
    }
</script>

</html>