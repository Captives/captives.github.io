(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4fb53738"],{"11c4":function(t,e,l){"use strict";var i=l("748a"),o=l.n(i);o.a},"748a":function(t,e,l){},"8ada":function(t,e,l){"use strict";l.r(e);var i=function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("el-main",[l("mavon-editor",{staticClass:"fill",attrs:{toolbars:t.toolbars,fontSize:"16px",placeholder:"请输入文本"},on:{change:t.changeHandler},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},[l("button",{staticClass:"op-icon fa fa-mavon-floppy-o",attrs:{slot:"left-toolbar-after",type:"button"},on:{click:function(e){t.dialog.visible=!0}},slot:"left-toolbar-after"}),l("template",{slot:"left-toolbar-after"},[l("el-popover",{attrs:{placement:"top-start",title:"文章列表",width:"200",trigger:"hover","popper-class":"popper-list"}},[l("ul",{staticClass:"list"},t._l(t.list,(function(e,i){return l("li",{key:i,on:{click:function(l){return t.editHandler(e)}}},[t._v(t._s(e.title))])})),0),l("button",{staticClass:"op-icon fa fa-mavon-bars",attrs:{slot:"reference",type:"button"},on:{click:t.getList},slot:"reference"})])],1)],2),l("el-dialog",{attrs:{title:"保存",visible:t.dialog.visible,width:"520px",center:""},on:{"update:visible":function(e){return t.$set(t.dialog,"visible",e)}}},[l("el-form",{ref:"dialog-form",attrs:{model:t.dialog,"label-width":"60px"}},[l("el-form-item",{attrs:{label:"标题",prop:"title",rules:[{required:!0,message:"请输入文章标题",trigger:["blur","change"]}]}},[l("el-input",{attrs:{placeholder:"请输入文章标题"},model:{value:t.dialog.title,callback:function(e){t.$set(t.dialog,"title",e)},expression:"dialog.title"}})],1),l("el-form-item",{attrs:{label:"描述"}},[l("el-input",{attrs:{type:"textarea",rows:3,maxlength:"50",placeholder:"请输入描述信息"},model:{value:t.dialog.desc,callback:function(e){t.$set(t.dialog,"desc",e)},expression:"dialog.desc"}})],1)],1),l("div",{attrs:{slot:"footer"},slot:"footer"},[l("el-button",{on:{click:function(e){t.dialog.visible=!1}}},[t._v("取 消")]),l("el-button",{attrs:{type:"primary"},on:{click:t.saveHandler}},[t._v("确 定")])],1)],1)],1)},o=[],a=(l("d3b7"),l("ac1f"),l("5319"),l("bc3a")),n=l.n(a),s=function(t,e){return new Promise((function(l,i){n.a.post(location.origin.replace(location.port,2020)+t,e).then((function(t){var e=t.data;return l(e)})).catch(i)}))},r={name:"VueMarkdownEditor",data:function(){return{value:"# 这是默认值",list:[],dialog:{visible:!1,id:null,text:"",html:"",title:"",desc:"",anchor:[]},toolbars:{bold:!0,italic:!0,header:!0,underline:!0,strikethrough:!0,mark:!0,superscript:!0,subscript:!0,quote:!0,ol:!0,ul:!0,link:!0,imagelink:!0,code:!0,table:!0,fullscreen:!0,readmodel:!0,htmlcode:!0,help:!0,undo:!0,redo:!0,trash:!0,save:!1,navigation:!0,alignleft:!0,aligncenter:!0,alignright:!0,subfield:!0,preview:!0}}},mounted:function(){this.getList()},methods:{changeHandler:function(t,e){this.dialog.text=t,this.dialog.html=t,console.log(t,e)},getList:function(){var t=this;s("/edit/list").then((function(e){var l=e.data;console.log(l),t.list=l}))},editHandler:function(t){var e=this;s("/edit/read",{id:t.id}).then((function(l){console.log("read",t.id,l),l.success&&(e.value=l.data.text,e.dialog.title=l.data.title,e.dialog.id=l.data.id,e.dialog.desc=l.data.desc)}))},saveHandler:function(){var t=this;this.$refs["dialog-form"].validate((function(e){e&&(s("/edit/save",{id:t.dialog.id,title:t.dialog.title,text:t.dialog.text,html:t.dialog.html,desc:t.dialog.desc}).then((function(t){console.log("保存",t)})),t.dialog.visible=!1,t.$message("内容已经发送服务器"))}))}}},c=r,d=(l("11c4"),l("2877")),u=function(t){t.options.__source="src/home/views/VueMarkdownEditor.vue"},f=u,g=Object(d["a"])(c,i,o,!1,null,"3dc92136",null);"function"===typeof f&&f(g);e["default"]=g.exports}}]);