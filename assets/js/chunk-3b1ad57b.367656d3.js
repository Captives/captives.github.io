(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3b1ad57b"],{"23e0f":function(t,e,r){},4795:function(t,e,r){var n=r("23e7"),i=r("da84"),s=r("342f"),o=[].slice,a=/MSIE .\./.test(s),c=function(t){return function(e,r){var n=arguments.length>2,i=n?o.call(arguments,2):void 0;return t(n?function(){("function"==typeof e?e:Function(e)).apply(this,i)}:e,r)}};n({global:!0,bind:!0,forced:a},{setTimeout:c(i.setTimeout),setInterval:c(i.setInterval)})},"498a":function(t,e,r){"use strict";var n=r("23e7"),i=r("58a8").trim,s=r("c8d2");n({target:"String",proto:!0,forced:s("trim")},{trim:function(){return i(this)}})},"4c28":function(t,e,r){"use strict";var n=r("23e0f"),i=r.n(n);i.a},"4e82":function(t,e,r){"use strict";var n=r("23e7"),i=r("1c0b"),s=r("7b0b"),o=r("d039"),a=r("a640"),c=[],l=c.sort,u=o((function(){c.sort(void 0)})),f=o((function(){c.sort(null)})),p=a("sort"),d=u||!f||!p;n({target:"Array",proto:!0,forced:d},{sort:function(t){return void 0===t?l.call(s(this)):l.call(s(this),i(t))}})},"7e12":function(t,e,r){var n=r("da84"),i=r("58a8").trim,s=r("5899"),o=n.parseFloat,a=1/o(s+"-0")!==-1/0;t.exports=a?function(t){var e=i(String(t)),r=o(e);return 0===r&&"-"==e.charAt(0)?-0:r}:o},acd8:function(t,e,r){var n=r("23e7"),i=r("7e12");n({global:!0,forced:parseFloat!=i},{parseFloat:i})},c8d2:function(t,e,r){var n=r("d039"),i=r("5899"),s="​᠎";t.exports=function(t){return n((function(){return!!i[t]()||s[t]()!=s||i[t].name!==t}))}},d047:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("el-main",[r("audio",{ref:"audio",attrs:{controls:"",autoplay:""}}),r("div",{ref:"wrapper",staticClass:"wrapper"})])},i=[];r("4e82"),r("acd8"),r("e25e"),r("ac1f"),r("5319"),r("1276"),r("498a"),r("4795");function s(t,e){for(var r in t)void 0!=t[r]&&(e[r]=t[r])}function o(t){this.settings={},s(o.settings,this.settings),s(t,this.settings),this.init()}o.version="1.0.0",o.settings={row:7,lineHeight:40,currentPlayTime:function(){return 0},lrc:[],url:"",wrapper:null,el:"",delay:0,freq:250},o.prototype.getLrc=function(t,e){var r=new XMLHttpRequest;r.onreadystatechange=function(){if(4==r.readyState)if(200==r.status){var t=r.responseText;e(t)}else e()},r.open("GET",t,!0),r.send(null)},o.prototype.parseLrc=function(t){for(var e=t.split("\n"),r=[],n=0;n<e.length;n++){var i=e[n].split("]");if(/^\[\d+:\d+/g.test(i[0]))for(var s=i.pop().trim(),o=0;o<i.length;o++){var a=i[o].replace(/^\s*\[/g,"").split(":"),c=60*parseInt(a[0])+parseFloat(a[1]);r.push([c,s])}}return r.sort((function(t,e){return t[0]<e[0]?-1:t[0]>e[0]?1:0})),r},o.prototype.init=function(){this.settings.el&&(this.settings.wrapper=this.settings.el);var t=this;this.getLrc(this.settings.url,(function(e){if(!e)throw new Error("下载歌词文件失败！");console.log(e),window.fff=e,t.settings.lrc=t.parseLrc(e),t.initDOM(),t.start()}))},o.prototype.initDOM=function(){for(var t=document.createElement("ul"),e="",r=this.settings.lrc,n=0;n<r.length;n++)e+="<li>"+r[n][1]+"</li>";t.innerHTML=e,this.settings.wrapper.appendChild(t),this.childNodes=t.childNodes,this.ul=t},o.prototype.start=function(){var t=this;this.currentLine=-1;var e=Math.floor(t.settings.row/2);function r(t,e,r){(r<0||void 0==r)&&(r=0);for(var n=r;n<t.length;n++)if(e>=t[n][0]&&(!t[n+1]||t[n+1]&&e<t[n+1][0]))return n;return-1}this.interval=setInterval((function(){var n=t.settings.currentPlayTime()-t.settings.delay,i=t.settings.lrc,s=t.currentLine,o=r(i,n,s);o<0&&(o=r(i,n)),o<0&&(o=s),s!=o&&(t.currentLine=o,s>=0&&(t.childNodes[s].className=""),o>=0&&(t.childNodes[o].className="current"),o>e&&(t.ul.style.top=(e-o)*t.settings.lineHeight+"px"))}),this.settings.freq)},o.prototype.stop=function(){this.interval&&clearInterval(this.interval)};var a=o,c={name:"AudioLRC",data:function(){return{lrc:null}},methods:{init:function(t){var e=this.$refs.audio;e.src=t.url,e.play(),console.log(this.$refs.wrapper),this.lrc=new a({el:this.$refs.wrapper,url:t.lrc,row:7,lineHeight:40,delay:0,currentPlayTime:function(){return e.currentTime||0}})}},mounted:function(){this.init({url:"/medias/xnbsw.mp3",lrc:"/medias/xnbsw.lrc"})}},l=c,u=(r("4c28"),r("2877")),f=Object(u["a"])(l,n,i,!1,null,"0f906f4a",null);e["default"]=f.exports}}]);