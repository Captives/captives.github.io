(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f6964b02"],{"2d6b":function(t,e,i){},"3f48":function(t,e,i){"use strict";var n=i("2d6b"),o=i.n(n);o.a},bef4:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-main",{staticClass:"center"},[i("url-input",{attrs:{list:t.$videoList},model:{value:t.url,callback:function(e){t.url=e},expression:"url"}}),i("el-row",{attrs:{gutter:50}},[i("el-col",{staticClass:"center",attrs:{xs:24,sm:24,md:12}},[i("el-divider",{attrs:{"content-position":"left"}},[t._v("Video")]),i("video",{ref:"localVideo",staticClass:"video-item",attrs:{src:t.url,controls:"",muted:"",loop:"",autoplay:""},domProps:{muted:!0}})],1),i("el-col",{staticClass:"center",attrs:{xs:24,sm:24,md:12}},[i("el-divider",{attrs:{"content-position":"left"}},[t._v("Canvas")]),i("canvas",{ref:"draw",staticClass:"video-item"}),i("el-row",[t._v(" 行 "),i("el-input-number",{attrs:{min:1,max:10,size:"small"},model:{value:t.row,callback:function(e){t.row=e},expression:"row"}}),t._v("列 "),i("el-input-number",{attrs:{min:1,max:10,size:"small"},model:{value:t.column,callback:function(e){t.column=e},expression:"column"}})],1)],1)],1),i("vue-source",{attrs:{src:"guide/views/canvas/DrawVideoSplitScreen.vue",lang:"html"}})],1)},o=[],s={name:"DrawVideoSplicing",data:function(){return{url:null,canvas:null,context:null,row:3,column:3}},mounted:function(){var t=this.$refs.localVideo;t.addEventListener("canplay",this.init)},methods:{init:function(t){var e=this.$refs.draw;e&&(e.setAttribute("width",t.target.offsetWidth),e.setAttribute("height",t.target.offsetHeight),this.context=e.getContext("2d"),this.animate())},drawLine:function(t,e,i,n,o){o=o||2,this.context.beginPath(),this.context.moveTo(t-o/2,e),this.context.lineTo(i-o/2,n),this.context.lineWidth=o,this.context.strokeStyle="#FFF",this.context.stroke()},drawText:function(t,e,i){this.context.font="16px 微软雅黑",this.context.fillStyle="#FFF",this.context.fillText("video "+i,t,e)},animate:function(){var t=this.$refs.localVideo,e=this.$refs.draw;if(t){Math.floor(t.videoWidth/this.column),Math.floor(t.videoHeight/this.row);var i=Math.floor(e.width/this.column),n=Math.floor(e.height/this.row);this.context.clearRect(0,0,e.width,e.height);for(var o=0;o<this.column;o++)for(var s=0;s<this.row;s++)this.context.drawImage(t,0,0,t.videoWidth,t.videoHeight,o*i+1,s*n+1,i-1,n-1),this.drawText((o+1)*i-70,s*n+20,s*this.column+o+1);"requestAnimationFrame"in window?requestAnimationFrame(this.animate):"webkitRequestAnimationFrame"in window?webkitRequestAnimationFrame(this.animate):"msRequestAnimationFrame"in window?msRequestAnimationFrame(this.animate):"mozRequestAnimationFrame"in window&&mozRequestAnimationFrame(this.animate)}}}},a=s,r=(i("3f48"),i("2877")),l=function(t){t.options.__source="src/guide/views/canvas/DrawVideoSplitScreen.vue"},c=l,u=Object(r["a"])(a,n,o,!1,null,"5aec2f0c",null);"function"===typeof c&&c(u);e["default"]=u.exports}}]);