(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c91b9ab4"],{8120:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h2",[e._v("PropSync")]),n("vue-code",[n("pre",{attrs:{lang:"js"}},[e._v("@PropSync(propName: string, options: ( Constructor | Constructor[] | PropOptions ) = {}) decorator ")])]),n("h3",[e._v("示例：")]),n("vue-code",[n("pre",{attrs:{lang:"js"}},[e._v("import { Vue, Component, PropSync } from 'vue-property-decorator'\n \n@Component({ name: 'VueItem' })\nexport default class VueItem extends Vue {\n  @PropSync('name', { type: String }) syncedName!: string\n}\n                ")])]),e._v(" 等同于 "),n("vue-code",[n("pre",{attrs:{lang:"js"}},[e._v("export default {\n  name:\"VueItem\",\n  props: {\n    name: {\n      type: String,\n    },\n  },\n  computed: {\n    syncedName: {\n      get() {\n        return this.name\n      },\n      set(value) {\n        this.$emit('update:name', value)\n      },\n    },\n  }\n} ")]),n("pre",{attrs:{lang:"html"}},[e._v('<VueItem :name="name" @update="(value) => name = value"></VueItem>\n')])]),n("div",[n("h3",[e._v("例子： 数据类型是String")]),n("el-button",{attrs:{type:"danger",size:"mini"},on:{click:e.changeHandler}},[e._v("外部恢复默认值")]),n("VuePropSyncItem",{attrs:{name:e.title},on:{"update:name":function(t){e.title=t}}})],1),n("div",[n("h3",[e._v("例子：数据类型是Array<string>:")]),n("p",[e._v("数据源:"+e._s(e.list)+" "),n("el-button",{attrs:{type:"success",size:"mini"},on:{click:e.addItemHandler}},[e._v("添加")]),n("el-button",{attrs:{type:"danger",size:"mini"},on:{click:e.removeItemHandler}},[e._v("移除")])],1),n("VuePropSyncArrayItem",{attrs:{list:e.list},on:{"update:list":function(t){e.list=t}}})],1),n("div",[n("h3",[e._v("例子：数据类型是Map:")]),n("p",[e._v("数据源:"+e._s(e.value)+" "),n("el-button",{attrs:{type:"success",size:"mini"},on:{click:e.addMapItemHandler}},[e._v("添加")]),n("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(t){e.value={}}}},[e._v("移除")])],1),n("VuePropSyncMapItem",{ref:"mapItem",attrs:{value:e.value},on:{"update:value":function(t){e.value=t}}})],1),n("el-divider",[e._v("注意：")]),n("h3",[e._v("A：PropSync不支持默认值，以下情况，内部显示不了声明的默认值")]),n("vue-code",[n("p",[e._v("item.vue")]),n("pre",{attrs:{lang:"html"}},[e._v("<div>{ { syncedName } }</div>")]),n("pre",{attrs:{lang:"js"}},[e._v("@PropSync('name', { type: String, default: \"这是默认值\" }) syncedName!: string;")]),n("p",[e._v("index.vue")]),n("pre",{attrs:{lang:"html"}},[e._v('<item :name="name"></item>')]),n("pre",{attrs:{lang:"js"}},[e._v("private name: string | null = null;")])]),n("p",[n("VuePropSyncItem",{attrs:{name:e.name}})],1),n("h3",[e._v('B：".sync"忽略后只能单向传值；在组件内部，是不能更改值的。')]),n("p",[n("VuePropSyncItem",{attrs:{name:e.title}})],1),n("h3",[e._v('".sync"修饰符无法更新迭代变量（数组、对象、对象数组）等，以下写法是错误的')]),n("vue-code",[n("pre",{attrs:{lang:"html"}},[e._v(' <PropSyncItem v-for="(item,index) in list" :key="index" :name.sync="item"> </PropSyncItem>')])]),e._m(0)],1)},r=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[e._v("背景样式，是通过"),n("em",[e._v("@Provide")]),e._v("注入type方法，进行随机设置")])}],s=(n("a434"),n("b0c0"),n("d4ec")),i=n("bee2"),o=n("262e"),c=n("2caf"),l=n("9ab4"),u=n("1b40"),p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-alert",{attrs:{type:e.type(),closable:!1}},[e._v(e._s(e.syncedName)+" "),n("div",{attrs:{slot:"title"},slot:"title"},[n("el-button",{attrs:{type:e.type(),size:"mini"},on:{click:e.changeHandler}},[e._v("更改值")])],1)])},m=[],d=function(e){Object(o["a"])(n,e);var t=Object(c["a"])(n);function n(){return Object(s["a"])(this,n),t.apply(this,arguments)}return Object(i["a"])(n,[{key:"changeHandler",value:function(){this.syncedName="内部更改"+Date.now(),console.log("更改后",this.syncedName)}}]),n}(u["l"]);Object(l["b"])([Object(u["b"])()],d.prototype,"type",void 0),Object(l["b"])([Object(u["g"])("name",{type:String,default:"这是默认值"})],d.prototype,"syncedName",void 0),d=Object(l["b"])([Object(u["a"])({name:"VuePropSyncItem"})],d);var v=d,y=v,h=n("2877"),f=function(e){e.options.__source="src/tutorial/views/vue-property-decorator/propsync/VuePropSyncItem.vue"},b=f,g=Object(h["a"])(y,p,m,!1,null,null,null);"function"===typeof b&&b(g);var _=g.exports,j=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._l(e.data,(function(t,a){return n("el-alert",{key:a,attrs:{type:t}},[e._v(e._s(t)+" "),n("el-button",{staticStyle:{float:"right"},attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.updateHandler(a)}}},[e._v("更改值")])],1)})),n("p",[e._v(" 内部： "),n("el-button",{attrs:{type:"success",size:"mini"},on:{click:e.addItemHandler}},[e._v("添加")]),n("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(t){return e.removeItemHandler()}}},[e._v("移除")])],1)],2)},O=[],I=function(e){Object(o["a"])(n,e);var t=Object(c["a"])(n);function n(){return Object(s["a"])(this,n),t.apply(this,arguments)}return Object(i["a"])(n,[{key:"addItemHandler",value:function(){1==Math.round(this.data.length%2)?(this.data.push(this.data[Math.round(Math.random()%4)]),this.$message({type:"success",message:"新元素添加"})):(this.data.splice(4,0,this.data[Math.round(Math.random()%4)]),this.$message({type:"info",message:"新元素置顶添加"}))}},{key:"removeItemHandler",value:function(e){var t=e||Math.round(Math.random()*(this.data.length-1));console.log("移除指定元素",e,t),t<=3?this.$message({type:"error",message:"保留元素不可以删除 - "+t}):(this.data.splice(t,1),this.$message({type:"error",message:"元素"+t+" 被删除"}))}},{key:"updateHandler",value:function(e){this.$set(this.data,e,"更改后 ---\x3e "+Date.now()),console.log("更改值。。。。。",e)}}]),n}(u["l"]);Object(l["b"])([Object(u["g"])("list",{type:Array})],I.prototype,"data",void 0),I=Object(l["b"])([Object(u["a"])({name:"VuePropSyncArrayItem"})],I);var S=I,k=S,P=function(e){e.options.__source="src/tutorial/views/vue-property-decorator/propsync/VuePropSyncArrayItem.vue"},M=P,V=Object(h["a"])(k,j,O,!1,null,null,null);"function"===typeof M&&M(V);var H=V.exports,$=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._l(e.data,(function(t,a){return n("el-alert",{key:a,on:{close:function(t){return e.removeItemHandler(a)}}},[e._v(e._s(a)+" - "+e._s(t))])})),n("p",[e._v(" 内部： "),n("el-button",{attrs:{type:"success",size:"mini"},on:{click:e.addItemHandler}},[e._v("添加")])],1)],2)},w=[],x=function(e){Object(o["a"])(n,e);var t=Object(c["a"])(n);function n(){var e;return Object(s["a"])(this,n),e=t.apply(this,arguments),e.user={name:"禹",age:20,height:185,country:"China",province:"豫",city:"牡丹",language:"zh_CN"},e}return Object(i["a"])(n,[{key:"addItemHandler",value:function(){for(var e in this.user)if(!this.data[e]){this.$set(this.data,e,this.user[e]),this.$message({type:"success",message:e+":"+this.user[e]+"---- 属性已经添加"});break}}},{key:"removeItemHandler",value:function(e){delete this.data[e],this.data=Object.assign({},this.data),this.$message({type:"error",message:e+":"+this.data[e]+"---- 移除"})}}]),n}(u["l"]);Object(l["b"])([Object(u["g"])("value",{type:Object})],x.prototype,"data",void 0),x=Object(l["b"])([Object(u["a"])({name:"VuePropSyncMapItem"})],x);var z=x,N=z,A=function(e){e.options.__source="src/tutorial/views/vue-property-decorator/propsync/VuePropSyncMapItem.vue"},C=A,E=Object(h["a"])(N,$,w,!1,null,null,null);"function"===typeof C&&C(E);var D=E.exports,J=function(e){Object(o["a"])(n,e);var t=Object(c["a"])(n);function n(){var e;return Object(s["a"])(this,n),e=t.apply(this,arguments),e.title="这是标题",e.name=null,e.list=["info","success","warning","error"],e.value={name:"张三",age:20,height:185},e}return Object(i["a"])(n,[{key:"changeHandler",value:function(){this.title="这是默认值标题"}},{key:"addItemHandler",value:function(){1==Math.round(this.list.length%2)?(this.list.push(this.list[Math.round(Math.random()%4)]),this.$message({type:"success",message:"新元素添加"})):(this.list.splice(4,0,this.list[Math.round(Math.random()%4)]),this.$message({type:"info",message:"新元素置顶添加"}))}},{key:"removeItemHandler",value:function(){var e=Math.round(Math.random()*(this.list.length-1));e<=3?this.$message({type:"error",message:"保留元素不可以删除"}):(this.list.splice(e,1),this.$message({type:"error",message:"元素"+e+" 被删除"}))}},{key:"addMapItemHandler",value:function(){this.mapItem.addItemHandler()}}]),n}(u["l"]);Object(l["b"])([Object(u["j"])("mapItem")],J.prototype,"mapItem",void 0),J=Object(l["b"])([Object(u["a"])({name:"VuePropSync",components:{VuePropSyncItem:_,VuePropSyncArrayItem:H,VuePropSyncMapItem:D}})],J);var B=J,R=B,T=function(e){e.options.__source="src/tutorial/views/vue-property-decorator/propsync/index.vue"},q=T,F=Object(h["a"])(R,a,r,!1,null,null,null);"function"===typeof q&&q(F);t["default"]=F.exports},a434:function(e,t,n){"use strict";var a=n("23e7"),r=n("23cb"),s=n("a691"),i=n("50c4"),o=n("7b0b"),c=n("65f0"),l=n("8418"),u=n("1dde"),p=n("ae40"),m=u("splice"),d=p("splice",{ACCESSORS:!0,0:0,1:2}),v=Math.max,y=Math.min,h=9007199254740991,f="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!m||!d},{splice:function(e,t){var n,a,u,p,m,d,b=o(this),g=i(b.length),_=r(e,g),j=arguments.length;if(0===j?n=a=0:1===j?(n=0,a=g-_):(n=j-2,a=y(v(s(t),0),g-_)),g+n-a>h)throw TypeError(f);for(u=c(b,a),p=0;p<a;p++)m=_+p,m in b&&l(u,p,b[m]);if(u.length=a,n<a){for(p=_;p<g-a;p++)m=p+a,d=p+n,m in b?b[d]=b[m]:delete b[d];for(p=g;p>g-a+n;p--)delete b[p-1]}else if(n>a)for(p=g-a;p>_;p--)m=p+a-1,d=p+n-1,m in b?b[d]=b[m]:delete b[d];for(p=0;p<n;p++)b[p+_]=arguments[p+2];return b.length=g-a+n,u}})}}]);