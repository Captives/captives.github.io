(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6f0261bc"],{"1f6d":function(e,s,t){},"25e1":function(e,s,t){"use strict";var n=t("1f6d"),o=t.n(n);o.a},dc79:function(e,s,t){"use strict";t.r(s);var n=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("el-main",{staticClass:"center"},[t("el-row",{staticClass:"center",attrs:{gutter:50}},[t("el-col",{staticClass:"center",attrs:{xs:24,sm:24,md:12}},[t("el-table",{attrs:{data:e.tableData,stripe:""}},[t("el-table-column",{attrs:{prop:"name",label:"User"}}),t("el-table-column",{attrs:{prop:"pass",label:"Password"}}),t("el-table-column",{attrs:{prop:"role",label:"Role"}}),t("el-table-column",{attrs:{label:""},scopedSlots:e._u([{key:"default",fn:function(s){return t("el-button",{on:{click:function(t){return e.loginHandler(s.row)}}},[e._v("Enter")])}}])})],1)],1),t("el-col",{staticClass:"center",attrs:{xs:12,sm:12,md:6}},[t("el-divider",{attrs:{"content-position":"left"}},[e._v("video session")]),t("el-form",{attrs:{"label-width":"80px"}},[t("el-form-item",{attrs:{label:"Participant:"}},[t("el-input",{model:{value:e.participant,callback:function(s){e.participant=s},expression:"participant"}})],1),t("el-form-item",{attrs:{label:"Session:"}},[t("el-input",{model:{value:e.session,callback:function(s){e.session=s},expression:"session"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"success"}},[e._v("join !")]),t("el-button",{attrs:{type:"primary"}},[e._v("logout")])],1)],1)],1)],1),t("el-row",{staticClass:"video-view",attrs:{gutter:50}},[t("div",{staticClass:"videoplay main"},[t("video",{attrs:{autoplay:"",muted:"",loop:""},domProps:{muted:!0}}),t("p",[e._v("标签二")]),t("p",{staticClass:"right"},[e._v("标签二")])]),t("div",{staticClass:"videoplay"},[t("video",{attrs:{autoplay:"",muted:"",loop:""},domProps:{muted:!0}}),t("p",[e._v("标签二")]),t("p",{staticClass:"right"},[e._v("标签二")])])])],1)},o=[],a=t("ade3"),i=t("3d9c"),l="https://local.uuabc.com:5000/",r={name:"AudioVideoCall",data:function(){return Object(a["a"])({tableData:[{name:"publisher1",pass:"pass",role:"PUBLISHER"},{name:"publisher2",pass:"pass",role:"PUBLISHER"},{name:"subscriber",pass:"pass",role:"SUBSCRIBER"}],username:"SessionA3",password:"",participant:"",session:"",OV:null},"session",null)},methods:{httpPostRequest:function(e,s,t,n){var o=new XMLHttpRequest;function a(){if(4==o.readyState)if(200==o.status)try{n(JSON.parse(o.responseText))}catch(e){n()}else console.warn(t),console.warn(o.responseText)}o.open("POST",e,!0),o.setRequestHeader("Content-type","application/json"),o.addEventListener("readystatechange",a,!1),o.send(JSON.stringify(s))},loginHandler:function(e){console.log("login",e),this.httpPostRequest(l+"api-login/login",{user:e.name,pass:e.pass},"Login WRONG",(function(e){console.log(e)}))},joinSession:function(){var e=this;this.OV=new i["OpenVidu"],this.session=this.OV.initSession(),this.session.on("streamCreated",(function(s){var t=s.stream;e.session.subscribe(t,"subscriber")})),this.getToken(this.userName).then((function(s){e.session.connect(s).then((function(){var s=e.OV.initPublisher("publisher");e.session.publish(s)})).catch((function(e){console.log("There was an error connecting to the session:",e.code,e.message)}))}))},leaveSession:function(){this.session&&this.session.disconnect()}}},c=r,u=(t("25e1"),t("2877")),p=function(e){e.options.__source="src/guide/views/openvidu/AudioVideoCall.vue"},d=p,m=Object(u["a"])(c,n,o,!1,null,"73e30f02",null);"function"===typeof d&&d(m);s["default"]=m.exports}}]);