(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["live"],{1:function(e,t,n){e.exports=n("5a6a")},"545e":function(e,t,n){},"5a6a":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var s,o,i=n("8bbf"),a=n.n(i),r=n("b40e"),c=n("740a"),l=n("2f62"),u=(n("4de4"),n("ade3"));(function(e){e["USER_ENTER"]="userEnter",e["USER_QUIT"]="userQuit"})(o||(o={}));var d,h={namespaced:!0,state:{chat:[],list:[]},actions:{SOCKET_enterSuccess:function(e,t){e.commit,e.dispatch,e.state;console.log("enter success",t)},SOCKET_enterReject:function(e,t){e.commit;console.log("enter enterReject",t)},SOCKET_userEnter:function(e,t){e.commit,e.dispatch;console.log("enter userEnter",t)},SOCKET_userQuit:function(e,t){e.commit,e.dispatch;console.log("enter userQuit",t)},SOCKET_offline:function(e,t){e.commit;console.log("enter offline",t)},SOCKET_share:function(e,t){e.commit,e.dispatch;var n=t.event,s=t.data;console.log("share",n,s)}},mutations:(s={},Object(u["a"])(s,o.USER_ENTER,(function(e,t){})),Object(u["a"])(s,o.USER_QUIT,(function(e,t){})),s),getters:{online:function(e){return function(t){var n=e.list.filter((function(e){return t===e.userId}));return n.length>0}}}},p={namespaced:!0,state:{},mutations:{},actions:{},getters:{}};n("a9e3");(function(e){e["SET_ROOM"]="setRoom"})(d||(d={}));var f={namespaced:!0,state:{padding:20,ratio:1,page:1,completed:!1,supported:!0,networkLevel:1},mutations:Object(u["a"])({},d.SET_ROOM,(function(e,t){for(var n in t)e[n]=t[n]})),actions:{setRoom:function(e,t){var n=e.commit;n(d.SET_ROOM,t)},onResize:function(e,t){var n=e.state,s=e.commit,o=t.element,i=t.whiteBoard,a=t.padding;if(o){var r=o.parentElement.clientWidth-2*(a||n.padding),c=o.parentElement.clientHeight-2*(a||n.padding);console.log("视窗宽高",r,c,"内容宽高",o.offsetWidth,o.offsetHeight);var l=r/o.offsetWidth,u=o.offsetHeight*l;u>c&&(l=c/o.offsetHeight),s(d.SET_ROOM,{ratio:Number(l),padding:a||n.padding})}setTimeout((function(){var e={wrapperRect:{},whiteBoardRect:{}};e.wrapperRect=o&&o.getBoundingClientRect(),e.whiteBoardRect=i&&i.getBoundingClientRect(),s(d.SET_ROOM,e)}),50)}},getters:{domStyle:function(e){return{position:"absolute",left:"50%",top:"50%","transform-origin":"left top",transform:"scale(".concat(e.ratio,") translate(-50%,-50%)"),"-moz-transform":"scale(".concat(e.ratio,") translate(-50%,-50%)")}},appid:function(e){return e.settings&&e.settings.agora_app_id?e.settings.agora_app_id:""},appToken:function(e){return e.appToken||null},setting:function(e){return e.setting}}},g={namespaced:!0,state:{},mutations:{},actions:{},getters:{}};a.a.use(l["a"]);var m=new l["a"].Store({modules:{RoomStore:f,UserStore:p,TeacherStore:g,SocketStore:h}}),v=n("5132"),w=n.n(v);a.a.use(new w.a({debug:!0,connection:"https://local.uuabc.com:2020",vuex:{store:m,actionPrefix:"SOCKET_",mutationPrefix:"SOCKET_"},options:{path:"/metting",transports:["websocket"]}})),a.a.config.productionTip=!1,new a.a({router:c["a"],store:m,render:function(e){return e(r["default"])}}).$mount("#app")},6389:function(e,t){e.exports=VueRouter},"740a":function(e,t,n){"use strict";n("d3b7");var s=n("8bbf"),o=n.n(s),i=n("6389"),a=n.n(i);o.a.use(a.a);var r="",c=[{path:r,name:"直播会议",component:function(){return n.e("chunk-5c9e175c").then(n.bind(null,"b40e"))},redirect:r+"/login"},{path:r+"/login",name:"登入",component:function(){return Promise.all([n.e("chunk-958b0b22"),n.e("chunk-3cc7cab7")]).then(n.bind(null,"27cb"))}},{path:r+"/home",name:"首页",component:function(){return Promise.all([n.e("chunk-958b0b22"),n.e("chunk-726f25ec")]).then(n.bind(null,"32d9"))}},{path:r+"/chat/:td",name:"聊天室",component:function(){return Promise.all([n.e("chunk-958b0b22"),n.e("chunk-20f7b76a")]).then(n.bind(null,"25be"))}},{path:r+"/1v1/:td",name:"私密会议室",component:function(){return Promise.all([n.e("chunk-ab569ec4"),n.e("chunk-3549a0b0")]).then(n.bind(null,"6853"))}},{path:r+"/1vn/:td",name:"多人会议室",component:function(){return Promise.all([n.e("chunk-ab569ec4"),n.e("chunk-2848ce58")]).then(n.bind(null,"d8c6"))}},{path:r+"/live/:td",name:"直播",component:function(){return Promise.all([n.e("chunk-ab569ec4"),n.e("chunk-80bbf62e")]).then(n.bind(null,"8335"))}}],l=a.a.prototype.push;a.a.prototype.push=function(e){return l.call(this,e).catch((function(e){return e}))};var u=new a.a({routes:c});t["a"]=u},"8bbf":function(e,t){e.exports=Vue},b40e:function(e,t,n){"use strict";n.r(t),n.d(t,"browserAstrict",(function(){return p}));var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-container",{staticClass:"fill",attrs:{direction:"vertical"}},[e.visible?e._e():n("el-button",{staticStyle:{position:"fixed",right:"10px",top:"0","z-index":"5"},attrs:{type:"text"},on:{click:function(t){return e.toggleHeaderHandler(!0)}}},[e._v("开启")]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"header",class:e.titleClass},[n("el-button",{staticStyle:{float:"right"},attrs:{type:"text"},on:{click:function(t){return e.toggleHeaderHandler(!1)}}},[e._v("关闭")])],1),n("el-container",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[n("router-view")],1)],1)},o=[],i=(n("99af"),n("4de4"),n("7db0"),n("c975"),n("a15b"),n("d81d"),n("b0c0"),n("a9e3"),n("d4ec")),a=n("bee2"),r=n("262e"),c=n("2caf"),l=n("9ab4"),u=n("1b40"),d=n("f6a7"),h=(n("d3b7"),n("ac1f"),n("25f0"),n("466d"),n("5319"),function(){function e(){Object(i["a"])(this,e),this.ua=navigator.userAgent.toLowerCase()||""}return Object(a["a"])(e,[{key:"testUa",value:function(e){return e.test(this.ua)}},{key:"testVs",value:function(e){return this.ua.match(e).toString().replace(/[^0-9|_.]/g,"").replace(/_/g,".")}},{key:"system",value:function(){var e="";return this.testUa(/windows|win32|win64|wow32|wow64/g)?e="windows":this.testUa(/macintosh|macintel/g)?e="macos":this.testUa(/x11/g)?e="linux":this.testUa(/android|adr/g)?e="android":this.testUa(/ios|iphone|ipad|ipod|iwatch/g)&&(e="ios"),e}},{key:"systemVs",value:function(){var e=this.system(),t="";return"windows"===e?this.testUa(/windows nt 5.0|windows 2000/g)?t="2000":this.testUa(/windows nt 5.1|windows xp/g)?t="xp":this.testUa(/windows nt 5.2|windows 2003/g)?t="2003":this.testUa(/windows nt 6.0|windows vista/g)?t="vista":this.testUa(/windows nt 6.1|windows 7/g)?t="7":this.testUa(/windows nt 6.2|windows 8/g)?t="8":this.testUa(/windows nt 6.3|windows 8.1/g)?t="8.1":this.testUa(/windows nt 10.0|windows 10/g)&&(t="10"):"macos"===e?t=this.testVs(/os x [\d._]+/g):"android"===e?t=this.testVs(/android [\d._]+/g):"ios"===e&&(t=this.testVs(/os [\d._]+/g)),t}},{key:"platform",value:function(){var e=this.system(),t="";return"windows"===e||"macos"===e||"linux"===e?t="desktop":("android"===e||"ios"===e||this.testUa(/mobile/g))&&(t="mobile"),t}},{key:"engine",value:function(){var e="";return this.testUa(/applewebkit/g)?e="webkit":this.testUa(/gecko/g)&&this.testUa(/firefox/g)?e="gecko":this.testUa(/presto/g)?e="presto":this.testUa(/trident|compatible|msie/g)&&(e="trident"),e}},{key:"engineVs",value:function(){var e=this.engine(),t="";return"webkit"===e?t=this.testVs(/applewebkit\/[\d._]+/g):"gecko"===e?t=this.testVs(/gecko\/[\d._]+/g):"presto"===e?t=this.testVs(/presto\/[\d._]+/g):"trident"===e&&(t=this.testVs(/trident\/[\d._]+/g)),t}},{key:"supporter",value:function(){var e="";return this.testUa(/applewebkit/g)?this.testUa(/edge/g)?e="edge":this.testUa(/opr/g)?e="opera":this.testUa(/chrome/g)?e="chrome":this.testUa(/safari/g)&&(e="safari"):this.testUa(/gecko/g)&&this.testUa(/firefox/g)?e="firefox":this.testUa(/presto/g)?e="opera":this.testUa(/trident|compatible|msie/g)&&(e="iexplore"),e}},{key:"supporterVs",value:function(){var e=this.supporter(),t="";return"chrome"===e?t=this.testVs(/chrome\/[\d._]+/g):"safari"===e?t=this.testVs(/version\/[\d._]+/g):"firefox"===e?t=this.testVs(/firefox\/[\d._]+/g):"opera"===e?t=this.testVs(/opr\/[\d._]+/g):"iexplore"===e?t=this.testVs(/(msie [\d._]+)|(rv:[\d._]+)/g):"edge"===e&&(t=this.testVs(/edge\/[\d._]+/g)),t}},{key:"shell",value:function(){var e="";return this.testUa(/micromessenger/g)?e="wechat":this.testUa(/qqbrowser/g)?e="qq":this.testUa(/ucbrowser/g)?e="uc":this.testUa(/qihu 360se/g)?e="360":this.testUa(/2345explorer/g)?e="2345":this.testUa(/metasr/g)?e="sougou":this.testUa(/lbbrowser/g)?e="liebao":this.testUa(/maxthon/g)&&(e="maxthon"),e}},{key:"shellVs",value:function(){var e="";return this.testUa(/micromessenger/g)?e=this.testVs(/micromessenger\/[\d._]+/g):this.testUa(/qqbrowser/g)?e=this.testVs(/qqbrowser\/[\d._]+/g):this.testUa(/ucbrowser/g)?e=this.testVs(/ucbrowser\/[\d._]+/g):this.testUa(/2345explorer/g)?e=this.testVs(/2345explorer\/[\d._]+/g):this.testUa(/metasr/g)||this.testUa(/maxthon/g)&&(e=this.testVs(/maxthon\/[\d._]+/g)),e}},{key:"compareVersion",value:function(e,t){return e===t||parseFloat(e)===parseFloat(t)?0:parseFloat(e)>parseFloat(t)?1:2}},{key:"browserType",value:function(){return{system:this.system(),systemVs:this.systemVs(),platform:this.platform(),engine:this.engine(),engineVs:this.engineVs(),supporter:this.supporter(),supporterVs:this.supporterVs(),shell:this.shell(),shellVs:this.shellVs()}}}]),e}()),p=[{os:"windows",name:"chrome",version:58,ignore:[]},{os:"windows",name:"firefox",version:56,ignore:[]},{os:"windows",name:"opera",version:45,ignore:[]},{os:"macos",name:"chrome",version:58,ignore:[88]},{os:"macos",name:"firefox",version:56,ignore:[]},{os:"macos",name:"opera",version:45,ignore:[]}],f=(new h).browserType(),g=function(e){Object(r["a"])(n,e);var t=Object(c["a"])(n);function n(){var e;return Object(i["a"])(this,n),e=t.apply(this,arguments),e.visible=!0,e.titleClass="",e.loading=!1,e.browser=null,e}return Object(a["a"])(n,[{key:"created",value:function(){var e=this;this.$router.onReady((function(t,n){e.titleClass=t.path.indexOf("login")>=0?"login":"",console.log("$router.onReady",t)})),this.$router.beforeEach((function(t,n,s){e.loading=!0,console.log("$router.beforeEach",t),setTimeout((function(){return s()}),2e3)})),this.$router.afterEach((function(t,n){e.titleClass=t.path.indexOf("login")>=0?"login":"",e.loading=!1,console.log("$router.afterEach")}));var t=this.checkBrowser(),n=t.code||0;console.log("浏览器检查",t),2==n||this.$confirm(t.desc||"",{confirmButtonText:"去下载",cancelButtonText:"继续进入",center:!0,dangerouslyUseHTMLString:!0,iconClass:"icon_warning",closeOnClickModal:!1,closeOnPressEscape:!1,closeOnHashChange:!1,showCancelButton:n>=0,cancelButtonClass:"el-button--warning",showClose:!1}).then((function(){window.open(Object({NODE_ENV:"production",VUE_APP_LABEL:"online",VUE_APP_SOCKET_URI:"",VUE_APP_SOCKET_XTERM_URL:"",BASE_URL:""}).VUE_APP_BROWSER_DOWNPAGE,"_self")})).catch((function(){}))}},{key:"beforeRouteEnter",value:function(e,t,n){console.log("进入路由"),n()}},{key:"beforeRouteUpdate",value:function(e,t,n){console.log("路由改变")}},{key:"beforeRouteLeave",value:function(e,t,n){console.log("路由离开")}},{key:"toggleHeaderHandler",value:function(e){this.visible=e,setTimeout((function(){return window.dispatchEvent(new Event("resize"))}),20)}},{key:"checkBrowser",value:function(){document.title="checking....";var e=Number(f.supporterVs.substr(0,f.supporterVs.indexOf("."))),t=p.find((function(e){return e.name==f.supporter&&e.os==f.system})),n='<p class="el-link">您当前使用的是 '.concat(f.supporter," ").concat(e," 浏览器</p>");if(!t){var s=p.filter((function(e){return e.os==f.system})),o={name:f.supporter,os:f.system,code:-1,version:0,ignore:[],desc:'<p class="el-link el-link--danger">您当前使用的是 '.concat(f.supporter," ").concat(e," 浏览器, 暂不支持!</p> <p>请使用以下浏览器: ")};return s.length?(o.desc+=s.map((function(e){return e.name+": "+e.version})).join("、"),o.desc+="</p>"):(o.code=-2,o.desc='<p class="el-link el-link--danger">当前的系统和浏览器均不支持上课！</p>'),o}if(e<t.version)t.code=0,t.desc=n+'<p class="el-link el-link--warning">浏览器版本较低, 建议您升级到最新版本</p>';else{var i=t.ignore.indexOf(e);t.code=i>=0?1:2,i>=0&&(t.desc=n+'<p class="el-link el-link--warning">兼容性较差, 建议您升级到最新版本</p>')}return t}}]),n}(u["l"]);g=Object(l["b"])([Object(u["a"])({name:"Main",components:{Splash:d["a"]}})],g);var m=g,v=m,w=(n("e621"),n("2877")),b=function(e){e.options.__source="src/live/Main.vue"},_=b,k=Object(w["a"])(v,s,o,!1,null,"2d1bba31",null);"function"===typeof _&&_(k);t["default"]=k.exports},cebe:function(e,t){e.exports=axios},e621:function(e,t,n){"use strict";var s=n("545e"),o=n.n(s);o.a},f6a7:function(e,t,n){"use strict";var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"el-loading-fade"},on:{"after-leave":e.handleAfterLeave}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"el-loading-mask",class:[e.customClass,{"is-fullscreen":e.fullscreen}],style:{backgroundColor:e.background||""}},[n("div",{staticClass:"el-loading-spinner"},[e.spinner?n("i",{class:e.spinner}):n("svg",{staticClass:"circular",attrs:{viewBox:"25 25 50 50"}},[n("circle",{staticClass:"path",attrs:{cx:"50",cy:"50",r:"20",fill:"none"}})]),e.text?n("p",{staticClass:"el-loading-text"},[e._v(e._s(e.text))]):e._e()])])])},o=[],i={name:"loading",data:function(){return{text:"loading....",spinner:null,background:null,fullscreen:!0,visible:!0,customClass:""}},methods:{handleAfterLeave:function(){this.$emit("after-leave")},setText:function(e){this.text=e}}},a=i,r=n("2877"),c=function(e){e.options.__source="src/components/Splash.vue"},l=c,u=Object(r["a"])(a,s,o,!1,null,null,null);"function"===typeof l&&l(u);t["a"]=u.exports}},[[1,"runtime","chunk-libs"]]]);