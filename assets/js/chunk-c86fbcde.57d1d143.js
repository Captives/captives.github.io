(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c86fbcde"],{4795:function(t,r,e){var n=e("23e7"),i=e("da84"),a=e("b39a"),s=[].slice,o=/MSIE .\./.test(a),c=function(t){return function(r,e){var n=arguments.length>2,i=n?s.call(arguments,2):void 0;return t(n?function(){("function"==typeof r?r:Function(r)).apply(this,i)}:r,e)}};n({global:!0,bind:!0,forced:o},{setTimeout:c(i.setTimeout),setInterval:c(i.setInterval)})},"498a":function(t,r,e){"use strict";var n=e("23e7"),i=e("58a8").trim,a=e("e070");n({target:"String",proto:!0,forced:a("trim")},{trim:function(){return i(this)}})},"4e82":function(t,r,e){"use strict";var n=e("23e7"),i=e("1c0b"),a=e("7b0b"),s=e("d039"),o=e("b301"),c=[],u=c.sort,l=s((function(){c.sort(void 0)})),f=s((function(){c.sort(null)})),p=o("sort"),d=l||!f||p;n({target:"Array",proto:!0,forced:d},{sort:function(t){return void 0===t?u.call(a(this)):u.call(a(this),i(t))}})},5319:function(t,r,e){"use strict";var n=e("d784"),i=e("825a"),a=e("7b0b"),s=e("50c4"),o=e("a691"),c=e("1d80"),u=e("8aa5"),l=e("14c3"),f=Math.max,p=Math.min,d=Math.floor,v=/\$([$&'`]|\d\d?|<[^>]*>)/g,h=/\$([$&'`]|\d\d?)/g,g=function(t){return void 0===t?t:String(t)};n("replace",2,(function(t,r,e){return[function(e,n){var i=c(this),a=void 0==e?void 0:e[t];return void 0!==a?a.call(e,i,n):r.call(String(i),e,n)},function(t,a){var c=e(r,t,this,a);if(c.done)return c.value;var d=i(t),v=String(this),h="function"===typeof a;h||(a=String(a));var m=d.global;if(m){var w=d.unicode;d.lastIndex=0}var b=[];while(1){var y=l(d,v);if(null===y)break;if(b.push(y),!m)break;var x=String(y[0]);""===x&&(d.lastIndex=u(v,s(d.lastIndex),w))}for(var S="",I=0,$=0;$<b.length;$++){y=b[$];for(var L=String(y[0]),M=f(p(o(y.index),v.length),0),T=[],E=1;E<y.length;E++)T.push(g(y[E]));var k=y.groups;if(h){var A=[L].concat(T,M,v);void 0!==k&&A.push(k);var N=String(a.apply(void 0,A))}else N=n(L,v,M,T,k,a);M>=I&&(S+=v.slice(I,M)+N,I=M+L.length)}return S+v.slice(I)}];function n(t,e,n,i,s,o){var c=n+t.length,u=i.length,l=h;return void 0!==s&&(s=a(s),l=v),r.call(o,l,(function(r,a){var o;switch(a.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,n);case"'":return e.slice(c);case"<":o=s[a.slice(1,-1)];break;default:var l=+a;if(0===l)return r;if(l>u){var f=d(l/10);return 0===f?r:f<=u?void 0===i[f-1]?a.charAt(1):i[f-1]+a.charAt(1):r}o=i[l-1]}return void 0===o?"":o}))}}))},5899:function(t,r){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,r,e){var n=e("1d80"),i=e("5899"),a="["+i+"]",s=RegExp("^"+a+a+"*"),o=RegExp(a+a+"*$"),c=function(t){return function(r){var e=String(n(r));return 1&t&&(e=e.replace(s,"")),2&t&&(e=e.replace(o,"")),e}};t.exports={start:c(1),end:c(2),trim:c(3)}},"6fe5":function(t,r,e){var n=e("da84"),i=e("58a8").trim,a=e("5899"),s=n.parseFloat,o=1/s(a+"-0")!==-1/0;t.exports=o?function(t){var r=i(String(t)),e=s(r);return 0===e&&"-"==r.charAt(0)?-0:e}:s},a7ec:function(t,r,e){"use strict";e.r(r);var n=function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("el-main",[e("audio",{ref:"audio",attrs:{controls:"",autoplay:""}}),e("div",{ref:"wrapper",staticClass:"wrapper"})])},i=[];e("4e82"),e("acd8"),e("e25e"),e("ac1f"),e("5319"),e("1276"),e("498a"),e("4795");function a(t,r){for(var e in t)void 0!=t[e]&&(r[e]=t[e])}function s(t){this.settings={},a(s.settings,this.settings),a(t,this.settings),this.init()}s.version="1.0.0",s.settings={row:7,lineHeight:40,currentPlayTime:function(){return 0},lrc:[],url:"",wrapper:null,el:"",delay:0,freq:250},s.prototype.getLrc=function(t,r){var e=new XMLHttpRequest;e.onreadystatechange=function(){if(4==e.readyState)if(200==e.status){var t=e.responseText;r(t)}else r()},e.open("GET",t,!0),e.send(null)},s.prototype.parseLrc=function(t){for(var r=t.split("\n"),e=[],n=0;n<r.length;n++){var i=r[n].split("]");if(/^\[\d+:\d+/g.test(i[0]))for(var a=i.pop().trim(),s=0;s<i.length;s++){var o=i[s].replace(/^\s*\[/g,"").split(":"),c=60*parseInt(o[0])+parseFloat(o[1]);e.push([c,a])}}return e.sort((function(t,r){return t[0]<r[0]?-1:t[0]>r[0]?1:0})),e},s.prototype.init=function(){this.settings.el&&(this.settings.wrapper=this.settings.el);var t=this;this.getLrc(this.settings.url,(function(r){if(!r)throw new Error("下载歌词文件失败！");console.log(r),window.fff=r,t.settings.lrc=t.parseLrc(r),t.initDOM(),t.start()}))},s.prototype.initDOM=function(){for(var t=document.createElement("ul"),r="",e=this.settings.lrc,n=0;n<e.length;n++)r+="<li>"+e[n][1]+"</li>";t.innerHTML=r,this.settings.wrapper.appendChild(t),this.childNodes=t.childNodes,this.ul=t},s.prototype.start=function(){var t=this;this.currentLine=-1;var r=Math.floor(t.settings.row/2);function e(t,r,e){(e<0||void 0==e)&&(e=0);for(var n=e;n<t.length;n++)if(r>=t[n][0]&&(!t[n+1]||t[n+1]&&r<t[n+1][0]))return n;return-1}this.interval=setInterval((function(){var n=t.settings.currentPlayTime()-t.settings.delay,i=t.settings.lrc,a=t.currentLine,s=e(i,n,a);s<0&&(s=e(i,n)),s<0&&(s=a),a!=s&&(t.currentLine=s,a>=0&&(t.childNodes[a].className=""),s>=0&&(t.childNodes[s].className="current"),s>r&&(t.ul.style.top=(r-s)*t.settings.lineHeight+"px"))}),this.settings.freq)},s.prototype.stop=function(){this.interval&&clearInterval(this.interval)};var o=s,c={name:"AudioLRC",data:function(){return{lrc:null}},methods:{init:function(t){var r=this.$refs.audio;r.src=t.url,r.play(),console.log(this.$refs.wrapper),this.lrc=new o({el:this.$refs.wrapper,url:t.lrc,row:7,lineHeight:40,delay:0,currentPlayTime:function(){return r.currentTime||0}})}},mounted:function(){this.init({url:"/medias/xnbsw.mp3",lrc:"/medias/xnbsw.lrc"})}},u=c,l=(e("b986"),e("2877")),f=Object(l["a"])(u,n,i,!1,null,"429b8164",null);r["default"]=f.exports},acd8:function(t,r,e){var n=e("23e7"),i=e("6fe5");n({global:!0,forced:parseFloat!=i},{parseFloat:i})},b986:function(t,r,e){"use strict";var n=e("cc92"),i=e.n(n);i.a},cc92:function(t,r,e){},e070:function(t,r,e){var n=e("d039"),i=e("5899"),a="​᠎";t.exports=function(t){return n((function(){return!!i[t]()||a[t]()!=a||i[t].name!==t}))}},e25e:function(t,r,e){var n=e("23e7"),i=e("e583");n({global:!0,forced:parseInt!=i},{parseInt:i})},e583:function(t,r,e){var n=e("da84"),i=e("58a8").trim,a=e("5899"),s=n.parseInt,o=/^[+-]?0[Xx]/,c=8!==s(a+"08")||22!==s(a+"0x16");t.exports=c?function(t,r){var e=i(String(t));return s(e,r>>>0||(o.test(e)?16:10))}:s}}]);