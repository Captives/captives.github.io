(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-85f02ea8"],{"1f4b":function(e,t,a){"use strict";var s=a("3d33"),n=a.n(s);n.a},"3d33":function(e,t,a){},5604:function(e,t,a){"use strict";var s=a("f903"),n=a.n(s);n.a},6:function(e,t){},"60daf":function(e,t,a){},7:function(e,t){},"7e33":function(e,t,a){function s(e,t){for(item in t)e[item]=t[item];return e}a("a15b"),a("d3b7"),a("25f0"),e.exports={merge:s}},8:function(e,t){},"8c75":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",[a("el-container",[a("el-main",[a("canvas",{ref:"canvasElement",staticClass:"canvas",attrs:{width:"1360px",height:"720px"}}),a("DrawTypeBar",{on:{change:e.drawTypeChange}},[a("li",{on:{click:e.clear}},[e._v("清屏")])])],1),a("el-aside",{attrs:{width:"300px"}},[a("el-collapse",{model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[a("el-collapse-item",{attrs:{title:"示例",name:"1"}},[a("div",[e._v("http://fabricjs.com/kitchensink")])]),a("el-collapse-item",{attrs:{title:"图形",name:"2"}},[a("BasicAssembly",{on:{change:e.rectChangeHandler}})],1),a("el-collapse-item",{attrs:{title:"属性",name:"3"}},[a("ElementProperties",{attrs:{drawType:e.drawType},on:{input:e.elementPropertiesHandler},model:{value:e.options,callback:function(t){e.options=t},expression:"options"}})],1),a("el-divider",{attrs:{"content-position":"left"}},[e._v("画布尺寸")]),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.changeCanvasSize("640x480")}}},[e._v("640x480")]),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.changeCanvasSize("1360x720")}}},[e._v("1360x720")]),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.changeCanvasSize("1920x1080")}}},[e._v("1920x1080")])],1)],1)],1),a("el-container",[a("DrawBoardFabricRemote",{attrs:{size:e.domSize}})],1)],1)},n=[],r=(a("cb29"),a("c975"),a("ac1f"),a("1276"),a("7a94")),i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",[a("h1",[e._v("基本图形")]),a("el-select",{attrs:{placeholder:"请选择"},on:{change:e.changeHandler},model:{value:e.typeValue,callback:function(t){e.typeValue=t},expression:"typeValue"}},e._l(e.options,(function(t){return a("el-option-group",{key:t.label,attrs:{label:t.label}},e._l(t.options,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)})),1),a("h1",[e._v("矢量图形")]),a("label",{staticStyle:{"font-weight":"bold",padding:"0 10px"}},[a("el-input-number",{attrs:{min:1,max:183,label:"矢量图形"},model:{value:e.inputNumber,callback:function(t){e.inputNumber=t},expression:"inputNumber"}}),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.changeHandler("shape"+e.inputNumber)}}},[e._v("添加")])],1)],1)},o=[],l=(a("fb6a"),a("d3b7"),a("5530")),c=(a("96cf"),a("1da1")),u=a("7e33"),h={name:"BasicAssembly",data:function(){return{typeValue:1,inputNumber:1,options:[{label:"简单图形",options:[{label:"长方形",value:"rect"},{label:"圆圈",value:"circle"},{label:"三角形",value:"triangle"},{label:"线条",value:"line"},{label:"多边形",value:"polygon"},{label:"文字",value:"text"},{label:"文本框",value:"itext"},{label:"文本域",value:"textbox"},{label:"矩形图案",value:"patternrect"}]},{label:"图形图像",options:[{label:"图片1",value:"image1"},{label:"图片2",value:"image2"},{label:"图片3",value:"image3"},{label:"视频",value:"image4"}]},{label:"渐变图形",options:[{label:"渐变1",value:"shape74"},{label:"渐变2",value:"shape66"},{label:"渐变3",value:"shape75"},{label:"渐变4",value:"shape148"}]},{label:"组合图形",options:[{label:"弧线1",value:"shape104"},{label:"弧线2",value:"shape105"},{label:"弧线3",value:"shape106"},{label:"弧线4",value:"shape107"},{label:"转换路径",value:"shape103"}]}]}},mounted:function(){},methods:{addImage:function(e,t,a,s){return new Promise((function(n,i){r["fabric"].Image.fromURL("assets/"+e,(function(e){e.set(t).scale(Object(u["getRandomNum"])(a,s)).setCoords(),n(e)}))}))},addShape:function(e,t){return console.log("adding shape",e),new Promise((function(a,s){r["fabric"].loadSVGFromURL("assets/shapes/"+e+".svg",(function(e,s){var n=r["fabric"].util.groupSVGElements(e,s);n.set(t).setCoords(),a(n)}))}))},changeHandler:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function a(){var s,n,i,o,c;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:s=Object(u["getRandomLeftTop"])(),n="#"+Object(u["getRandomColor"])(),i=new r["fabric"].Pattern({source:"assets/logo.png",repeat:"repeat"}),o="Lorem ipsum dolor sit amet,\nconsectetur adipisicing elit,\nsed do eiusmod tempor incididunt\nut labore et dolore magna aliqua.\nUt enim ad minim veniam,\nquis nostrud exercitation ullamco\nlaboris nisi ut aliquip ex ea commodo consequat.",c=null,a.t0=e,a.next="rect"===a.t0?8:"circle"===a.t0?10:"triangle"===a.t0?12:"line"===a.t0?14:"polygon"===a.t0?16:"text"===a.t0?18:"itext"===a.t0?20:"textbox"===a.t0?21:"patternrect"===a.t0?23:"image1"===a.t0?26:"image2"===a.t0?30:"image3"===a.t0?34:38;break;case 8:return c=new r["fabric"].Rect(Object(l["a"])(Object(l["a"])({},s),{},{fill:n,width:50,height:50,opacity:.8})),a.abrupt("break",44);case 10:return c=new r["fabric"].Circle(Object(l["a"])(Object(l["a"])({},s),{},{fill:n,radius:50,opacity:.8})),a.abrupt("break",44);case 12:return c=new r["fabric"].Triangle(Object(l["a"])(Object(l["a"])({},s),{},{fill:n,width:50,height:50,opacity:.8})),a.abrupt("break",44);case 14:return c=new r["fabric"].Line([50,100,200,200],Object(l["a"])(Object(l["a"])({},s),{},{stroke:n})),a.abrupt("break",44);case 16:return c=new r["fabric"].Polygon([{x:185,y:0},{x:250,y:100},{x:385,y:170},{x:0,y:245}],Object(l["a"])(Object(l["a"])({},s),{},{fill:n})),a.abrupt("break",44);case 18:return c=new r["fabric"].Text(o.slice(0,Object(u["getRandomNum"])(0,o.length)),Object(l["a"])(Object(l["a"])({},s),{},{fill:n,fontFamily:"helvetica",angle:Object(u["getRandomNum"])(-10,10),scaleX:.5,scaleY:.5,fontWeight:"",originX:"left",hasRotatingPoint:!0,centerTransform:!0})),a.abrupt("break",44);case 20:c=new r["fabric"].IText(o.slice(0,Object(u["getRandomNum"])(0,o.length)),Object(l["a"])(Object(l["a"])({},s),{},{fill:n,fontFamily:"helvetica",angle:Object(u["getRandomNum"])(-10,10),scaleX:.5,scaleY:.5,fontWeight:"",originX:"left",hasRotatingPoint:!0,centerTransform:!0}));case 21:return c=new r["fabric"].Textbox(o.slice(0,Object(u["getRandomNum"])(0,o.length)),Object(l["a"])(Object(l["a"])({},s),{},{fill:n,fontSize:20,fontFamily:"helvetica",angle:Object(u["getRandomNum"])(-10,10),fontWeight:"",originX:"left",width:300,hasRotatingPoint:!0,centerTransform:!0})),a.abrupt("break",44);case 23:return c=new r["fabric"].Rect(Object(l["a"])(Object(l["a"])({width:300,height:300},s),{},{angle:Object(u["getRandomNum"])(-10,10),fill:i})),alert("添加不生效,需要检查"),a.abrupt("break",44);case 26:return a.next=28,t.addImage("image.jpg",Object(l["a"])(Object(l["a"])({},s),{},{angle:Object(u["getRandomNum"])(-10,10)}),.1,.25);case 28:return c=a.sent,a.abrupt("break",44);case 30:return a.next=32,t.addImage("logo.png",Object(l["a"])(Object(l["a"])({},s),{},{angle:Object(u["getRandomNum"])(-10,10)}),.1,1);case 32:return c=a.sent,a.abrupt("break",44);case 34:return a.next=36,t.addImage("logo.png",Object(l["a"])(Object(l["a"])({},s),{},{angle:Object(u["getRandomNum"])(-10,10)}),.5,.75);case 36:return c=a.sent,a.abrupt("break",44);case 38:if(-1==e.indexOf("shape")){a.next=44;break}return a.next=41,t.addShape(e,Object(l["a"])(Object(l["a"])({},s),{},{angle:Object(u["getRandomNum"])(-10,10)}));case 41:c=a.sent,a.next=44;break;case 44:console.log(s,n),t.$emit("change",e,c);case 46:case"end":return a.stop()}}),a)})))()}}},m=h,p=a("2877"),d=function(e){e.options.__source="src/guide/views/canvas/drawboard/BasicAssembly.vue"},f=d,b=Object(p["a"])(m,i,o,!1,null,"1cb76a66",null);"function"===typeof f&&f(b);var v=b.exports,g=a("ad48"),T=a("b063"),w=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-main",[a("canvas",{ref:"canvasElement",staticClass:"canvas",attrs:{width:"1360px",height:"720px"}})])},y=[],k={name:"DrawBoardFabricRemote",components:{},data:function(){return{canvas:null,canvasObject:null,textBoxObject:null,drawing:!1}},mounted:function(){this.init()},methods:{init:function(){var e=this.canvas=new r["fabric"].Canvas(this.$refs.canvasElement);e.selectionColor="rgba(236, 245, 255, 0.05)";e._drawSelection;r["fabric"].Object.prototype.transparentCorners=!0,e.freeDrawingBrush&&(e.freeDrawingBrush.color=this.selectColor,e.freeDrawingBrush.width=this.selecteWidth),e.interactive=!1,console.log("canvas",e)},transformMouse:function(e,t){return{x:e,y:t}}}},x=k,O=(a("9926"),function(e){e.options.__source="src/guide/views/canvas/DrawBoardFabricRemote.vue"}),E=O,C=Object(p["a"])(x,w,y,!1,null,"39ea9910",null);"function"===typeof E&&E(C);var j=C.exports,D={name:"DrawBoardFabric",components:{DrawTypeBar:T["b"],BasicAssembly:v,ElementProperties:g["a"],DrawBoardFabricRemote:j},data:function(){return{domSize:"1360x720",canvas:null,canvasObject:null,textBoxObject:null,drawing:!1,options:{fill:"#00BABD",stroke:"#FFD700",background:"#FF8C00",strokeWidth:2,opacity:1,textAlign:"left",fontSize:12,lineHeight:20,charSpacing:1,horizontalLock:!1,verticalLock:!1,horizontalScale:!1,verticalScale:!1,rotation:!1,scaling:!1},mouseDown:!1,mouseFrom:{x:0,y:0},mouseTo:{x:0,y:0},drawType:"select",DrawType:T["a"],activeNames:"3",moveCount:1,doDrawing:!1}},computed:{selectColor:function(){return this.options.fill},selecteWidth:function(){return this.options.strokeWidth}},mounted:function(){var e=this;this.init(),document.addEventListener("keydown",(function(t){var a=window.event?t.keyCode:t.which;8==a&&e.canvas.remove(e.canvas.getActiveObject())}))},methods:{init:function(){var e=this,t=this.canvas=new r["fabric"].Canvas(this.$refs.canvasElement,{containerClass:"fabric-container"});t._drawSelection;r["fabric"].Object.prototype.transparentCorners=!1,t.selectionLineWidth=1,t.selectionColor="rgba(236, 245, 255, 0.25)",t.selectionBorderColor="rgb(121, 187, 255)",t.freeDrawingBrush&&(t.freeDrawingBrush.color=this.selectColor,t.freeDrawingBrush.width=this.selecteWidth),console.log("canvas",t),t.on("mouse:down",(function(t){var a=t.e,s=t.target,n=t.subTargets;e.mouseDown=!0,e.doDrawing=!0,e.mouseFrom=e.transformMouse(a.offsetX,a.offsetY),console.log("mouse:down",a,s,n),e.drawType,e.DrawType.SELECT})),t.on("mouse:up",(function(t){var a=t.e,s=t.target,n=t.subTargets;e.mouseDown=!1,e.doDrawing=!1,e.moveCount=1,e.mouseTo=e.transformMouse(a.offsetX,a.offsetY),console.log("mouse:up",a,s,n),e.drawType==e.DrawType.SELECT||e.canvasObject&&-1==[e.DrawType.TEXTBOX,e.DrawType.ITEXT].indexOf(e.canvasObject.drawType)&&(e.canvasObject=null),console.log("----",e.canvas.getActiveObject())})),t.on("mouse:move",(function(t){var a=t.e;t.target,t.subTargets;if(e.mouseDown){if(e.moveCount%3&&!e.doDrawing)return;e.moveCount++,e.mouseTo=e.transformMouse(a.offsetX,a.offsetY),e.canvasObject&&(e.canvas.remove(e.canvasObject),-1!==[e.DrawType.TEXTBOX,e.DrawType.ITEXT].indexOf(e.canvasObject.drawType)&&e.canvasObject.exitEditing()),e.startDrawing()}})),t.on("selection:created",(function(t){var a=t.target;if(e.drawType===T["a"].ERASER){if(a._objects)for(var s=a._objects.length,n=0;n<s;n++)e.canvas.remove(a._objects[n]);else e.canvas.remove(a);e.canvas.discardActiveObject()}})),t.on("selection:updated",(function(e){e.e;var t=e.target;e.subTargets;t.set({borderColor:"red",cornerColor:"green",cornerSize:6,transparentCorners:!1}),console.log("selection:updated",t)})),t.on("object:selected",(function(e){var t=e.e,a=e.target,s=e.subTargets;console.log("object:selected",t,a,s)})),t.on("selection:cleared",(function(e){var t=e.e,a=e.target,s=e.subTargets;console.log("selection:cleared",t,a,s)})),t.on("path:created",(function(e){console.log("path:created",e)}))},changeCanvasSize:function(e){this.domSize=e;var t=e.split("x");this.canvas.setWidth(t[0]),this.canvas.setHeight(t[1])},transformMouse:function(e,t){return{x:e,y:t}},startDrawing:function(){var e="这是文本内容";switch(this.drawType){case this.DrawType.LINE:this.canvasObject=new r["fabric"].Line([this.mouseFrom.x,this.mouseFrom.y,this.mouseTo.x,this.mouseTo.y],{stroke:this.selectColor,strokeWidth:this.selecteWidth,strokeLineJoin:"round"});break;case this.DrawType.DOTTEDLINE:this.canvasObject=new r["fabric"].Line([this.mouseFrom.x,this.mouseFrom.y,this.mouseTo.x,this.mouseTo.y],{strokeDashArray:[this.selecteWidth,this.selecteWidth],stroke:this.selectColor,strokeWidth:this.selecteWidth,strokeLineJoin:"round"});break;case this.DrawType.ARROW:this.canvasObject=new r["fabric"].Path(this.drawArrow(this.mouseFrom.x,this.mouseFrom.y,this.mouseTo.x,this.mouseTo.y,30,30),{fill:"rgba(255, 255, 255, 0)",stroke:this.selectColor,strokeWidth:this.selecteWidth});break;case this.DrawType.ARROW2:this.canvasObject=new r["fabric"].Path(this.drawArrow2(this.mouseFrom.x,this.mouseFrom.y,this.mouseTo.x,this.mouseTo.y,30,30),{fill:this.selectColor,strokeWidth:2});break;case this.DrawType.CIRCLE:var t=(this.mouseTo.x-this.mouseFrom.x)*(this.mouseTo.x-this.mouseFrom.x)+(this.mouseTo.y-this.mouseFrom.y)*(this.mouseTo.y-this.mouseFrom.y),a=Math.sqrt(t)/2;this.canvasObject=new r["fabric"].Circle({left:this.mouseFrom.x,top:this.mouseFrom.y,fill:"rgba(255, 255, 255, 0)",originX:"center",originY:"center",radius:a,stroke:this.selectColor,strokeWidth:this.selecteWidth});break;case this.DrawType.ELLIPSE:this.canvasObject=new r["fabric"].Ellipse({left:(this.mouseTo.x-this.mouseFrom.x)/2+this.mouseFrom.x,top:(this.mouseTo.y-this.mouseFrom.y)/2+this.mouseFrom.y,fill:"rgba(255, 255, 255, 0)",originX:"center",originY:"center",rx:Math.abs(this.mouseFrom.x-this.mouseTo.x),ry:Math.abs(this.mouseFrom.y-this.mouseTo.y),stroke:this.selectColor,strokeWidth:this.selecteWidth});break;case this.DrawType.SQUARE:var s="M "+this.mouseFrom.x+" "+this.mouseFrom.y+" L "+this.mouseTo.x+" "+this.mouseFrom.y+" L "+this.mouseTo.x+" "+this.mouseTo.y+" L "+this.mouseFrom.x+" "+this.mouseTo.y+" L "+this.mouseFrom.x+" "+this.mouseFrom.y+" z";this.canvasObject=new r["fabric"].Path(s,{left:this.mouseTo.x-(this.mouseTo.x-this.mouseFrom.x)/2,top:this.mouseTo.y-(this.mouseTo.y-this.mouseFrom.y)/2,fill:"rgba(255, 255, 255, 0)",originX:"center",originY:"center",stroke:this.selectColor,strokeWidth:this.selecteWidth});break;case this.DrawType.RECTANGLE:this.canvasObject=new r["fabric"].Rect({left:this.mouseFrom.x,top:this.mouseFrom.y,fill:"rgba(255, 255, 255, 0)",width:this.mouseTo.x-this.mouseFrom.x,height:this.mouseTo.y-this.mouseFrom.y,stroke:this.selectColor,strokeWidth:this.selecteWidth});break;case this.DrawType.RIGHTANGLE:s="M "+this.mouseFrom.x+" "+this.mouseFrom.y+" L "+this.mouseFrom.x+" "+this.mouseTo.y+" L "+this.mouseTo.x+" "+this.mouseTo.y+" z";this.canvasObject=new r["fabric"].Path(s,{left:this.mouseTo.x-(this.mouseTo.x-this.mouseFrom.x)/2,top:this.mouseTo.y-(this.mouseTo.y-this.mouseFrom.y)/2,fill:"rgba(255, 255, 255, 0)",originX:"center",originY:"center",stroke:this.selectColor,strokeWidth:this.selecteWidth});break;case this.DrawType.EQUILATERAL:var n=this.mouseTo.y-this.mouseFrom.y;this.canvasObject=new r["fabric"].Triangle({left:this.mouseFrom.x,top:this.mouseFrom.y,fill:"rgba(255, 255, 255, 0)",originX:"center",originY:"center",width:Math.sqrt(Math.pow(n,2)+Math.pow(n/2,2)),height:n,stroke:this.selectColor,strokeWidth:this.selecteWidth});break;case this.DrawType.TEXT:this.canvasObject=new r["fabric"].Text(e,{fontSize:40,left:this.mouseFrom.x,top:this.mouseFrom.y,fill:this.selectColor,scaleX:.5,scaleY:.5,fontWeight:"",originX:"left",hasRotatingPoint:!0,centerTransform:!0,backgroundColor:"#ff0000",borderColor:"#00ff00"});break;case this.DrawType.TEXTBOX:this.canvasObject=new r["fabric"].Textbox(e,{fontSize:40,left:this.mouseFrom.x,top:this.mouseFrom.y-10,fill:this.selectColor,scaleX:.5,scaleY:.5,fontWeight:"",originX:"left",borderColor:this.selectColor,backgroundColor:"rgba(0, 0, 0, 0.55)"});break;case this.DrawType.ITEXT:this.canvasObject=new r["fabric"].IText(e,{fontSize:40,left:this.mouseFrom.x,top:this.mouseFrom.y-10,fill:this.selectColor,scaleX:.5,scaleY:.5,fontWeight:"",originX:"left",borderColor:this.selectColor});break}this.canvasObject&&(this.canvas.add(this.canvasObject),this.canvasObject.drawType=this.drawType,-1!==[this.DrawType.TEXTBOX,this.DrawType.ITEXT].indexOf(this.canvasObject.drawType)&&(this.canvasObject.enterEditing(),this.canvasObject.hiddenTextarea.focus()))},drawArrow:function(e,t,a,s,n,r){n="undefined"!=typeof n?n:30,r="undefined"!=typeof n?r:10;var i=180*Math.atan2(t-s,e-a)/Math.PI,o=(i+n)*Math.PI/180,l=(i-n)*Math.PI/180,c=r*Math.cos(o),u=r*Math.sin(o),h=r*Math.cos(l),m=r*Math.sin(l),p=e-c,d=t-u,f=" M "+e+" "+t;return f+=" L "+a+" "+s,p=a+c,d=s+u,f+=" M "+p+" "+d,f+=" L "+a+" "+s,p=a+h,d=s+m,f+=" L "+p+" "+d,f},drawArrow2:function(e,t,a,s,n,r){var i=e,o=a,l=t,c=s,u=o-i,h=c-l,m=16*Math.cos(Math.PI/4),p=h/Math.sqrt(Math.pow(u,2)+Math.pow(h,2)),d=u/Math.sqrt(Math.pow(u,2)+Math.pow(h,2)),f=16*p/4,b=16*d/4,v=m*d,g=m*p,T=" M "+i+" "+l;return T+=" L "+(o-v+f)+" "+(c-g-b),T+=" L "+(o-v+2*f)+" "+(c-g-2*b),T+=" L "+o+" "+c,T+=" L "+(o-v-2*f)+" "+(c-g+2*b),T+=" L "+(o-v-f)+" "+(c-g+b),T+=" Z",T},drawFiveStars:function(e,t,a,s){var n=e,r=a,i=t,o=s,l=Math.abs(r-n),c=Math.abs(o-i),u=Math.sqrt(l*l+c*c),h=Math.cos(18*Math.PI/180),m=Math.sin(18*Math.PI/180),p=[n,i+u],d=[n+2*u*m,i+u-2*u*h],f=[n-u*h,i+u*m],b=[n+u*h,i+u*m],v=[n-2*u*m,i+u-2*u*h],g=" M "+p[0]+" "+p[1];return g+=" L "+d[0]+" "+d[1],g+=" L "+f[0]+" "+f[1],g+=" L "+b[0]+" "+b[1],g+=" L "+v[0]+" "+v[1],g+=" Z",g},drawTypeChange:function(e){switch(this.drawType=e,e){case T["a"].PEN:this.canvas.isDrawingMode=!0;break;case T["a"].SELECT:this.canvas.isDrawingMode=!1,this.canvas.skipTargetFind=!1,this.canvas.selection=!0,this.canvas.selectable=!0;break;case T["a"].ERASER:this.canvas.isDrawingMode=!1,this.canvas.skipTargetFind=!1,this.canvas.selection=!0,this.canvas.selectable=!0,this.canvas.discardActiveObject();break;default:this.canvas.isDrawingMode=!1,this.canvas.skipTargetFind=!0,this.canvas.selection=!1,this.canvas.discardActiveObject();break}this.behaviorHandler()},behaviorHandler:function(){this.canvasObject&&(console.log("当前绘图对象",this.canvasObject.drawType),-1!==[this.DrawType.TEXTBOX,this.DrawType.ITEXT].indexOf(this.drawType)?(this.canvasObject.enterEditing(),this.canvasObject.hiddenTextarea.focus(),console.log("进入编辑")):-1!==[this.DrawType.TEXTBOX,this.DrawType.ITEXT].indexOf(this.canvasObject.drawType)&&(this.canvasObject.exitEditing(),console.log("退出编辑")),console.log("当前绘制类型",this.drawType,"\n数据",this.canvasObject.toObject(),"\nSVG",this.canvasObject.toSVG()))},elementPropertiesHandler:function(e){console.log("属性更改",e),this.canvas&&(this.canvas.freeDrawingBrush.color=e.fill,this.canvas.freeDrawingBrush.width=e.strokeWidth)},clear:function(){this.canvas.clear()},rectChangeHandler:function(e,t){console.log("draw type",e,t),t&&this.canvas.add(t)}}},_=D,L=(a("5604"),function(e){e.options.__source="src/guide/views/canvas/DrawBoardFabric.vue"}),R=L,F=Object(p["a"])(_,s,n,!1,null,"20044679",null);"function"===typeof R&&R(F);t["default"]=F.exports},9926:function(e,t,a){"use strict";var s=a("60daf"),n=a.n(s);n.a},abb7:function(e,t,a){"use strict";var s=a("f5df3"),n=a.n(s);n.a},ad48:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{attrs:{gutter:10}},[a("el-col",{staticClass:"center",attrs:{span:6}},[e._v("颜色")]),a("el-col",{staticClass:"center",attrs:{span:4}},[a("el-color-picker",{attrs:{predefine:e.predefineColors,size:"small"},model:{value:e.element.fill,callback:function(t){e.$set(e.element,"fill",t)},expression:"element.fill"}})],1),a("el-col",{attrs:{span:10}},[a("el-input",{attrs:{size:"small"},model:{value:e.element.fill,callback:function(t){e.$set(e.element,"fill",t)},expression:"element.fill"}})],1)],1),a("el-row",{attrs:{gutter:10}},[a("el-col",{staticClass:"center",attrs:{span:6}},[e._v("边框")]),a("el-col",{staticClass:"center",attrs:{span:4}},[a("el-color-picker",{attrs:{predefine:e.predefineColors,size:"small"},model:{value:e.element.stroke,callback:function(t){e.$set(e.element,"stroke",t)},expression:"element.stroke"}})],1),a("el-col",{attrs:{span:10}},[a("el-input",{attrs:{size:"small"},model:{value:e.element.stroke,callback:function(t){e.$set(e.element,"stroke",t)},expression:"element.stroke"}})],1)],1),a("el-row",{attrs:{gutter:10}},[a("el-col",{staticClass:"center",attrs:{span:6}},[e._v("边框宽度")]),a("el-col",{staticClass:"center",attrs:{span:14}},[a("el-slider",{attrs:{min:1,max:20,step:1,size:"mini"},model:{value:e.element.strokeWidth,callback:function(t){e.$set(e.element,"strokeWidth",t)},expression:"element.strokeWidth"}})],1)],1),a("el-row",{attrs:{gutter:10}},[a("el-col",{staticClass:"center",attrs:{span:6}},[e._v("背景色")]),a("el-col",{staticClass:"center",attrs:{span:4}},[a("el-color-picker",{attrs:{predefine:e.predefineColors,size:"small"},model:{value:e.element.background,callback:function(t){e.$set(e.element,"background",t)},expression:"element.background"}})],1),a("el-col",{attrs:{span:10}},[a("el-input",{attrs:{size:"small"},model:{value:e.element.background,callback:function(t){e.$set(e.element,"background",t)},expression:"element.background"}})],1)],1),a("el-row",{attrs:{gutter:10}},[a("el-col",{staticClass:"center",attrs:{span:6}},[e._v("透明度")]),a("el-col",{staticClass:"center",attrs:{span:14}},[a("el-slider",{attrs:{min:.001,max:1,step:.005},model:{value:e.element.opacity,callback:function(t){e.$set(e.element,"opacity",t)},expression:"element.opacity"}})],1)],1),a("el-divider",{attrs:{"content-position":"left"}},[e._v("锁定")]),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:12}},[a("el-checkbox",{model:{value:e.element.horizontalLock,callback:function(t){e.$set(e.element,"horizontalLock",t)},expression:"element.horizontalLock"}}),a("span",[e._v("水平调整")])],1),a("el-col",{attrs:{span:12}},[a("el-checkbox",{model:{value:e.element.verticalLock,callback:function(t){e.$set(e.element,"verticalLock",t)},expression:"element.verticalLock"}}),a("span",[e._v("垂直调整")])],1)],1),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:12}},[a("el-checkbox",{model:{value:e.element.horizontalScale,callback:function(t){e.$set(e.element,"horizontalScale",t)},expression:"element.horizontalScale"}}),a("span",[e._v("水平缩放")])],1),a("el-col",{attrs:{span:12}},[a("el-checkbox",{model:{value:e.element.verticalScale,callback:function(t){e.$set(e.element,"verticalScale",t)},expression:"element.verticalScale"}}),a("span",[e._v("垂直缩放")])],1)],1),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:12}},[a("el-checkbox",{model:{value:e.element.rotation,callback:function(t){e.$set(e.element,"rotation",t)},expression:"element.rotation"}}),a("span",[e._v("旋转")])],1),a("el-col",{attrs:{span:12}},[a("el-checkbox",{model:{value:e.element.scaling,callback:function(t){e.$set(e.element,"scaling",t)},expression:"element.scaling"}}),a("span",[e._v("缩放")])],1)],1),a("el-divider",{attrs:{"content-position":"left"}},[e._v("特定文本组件")]),e.isText?[a("el-row",{attrs:{gutter:10}},[a("el-col",{staticClass:"center",attrs:{span:6}},[e._v("对齐方式")]),a("el-col",{staticClass:"center",attrs:{span:14}},[a("el-select",{attrs:{placeholder:"请选择",size:"small"},model:{value:e.element.textAlign,callback:function(t){e.$set(e.element,"textAlign",t)},expression:"element.textAlign"}},[a("el-option",{attrs:{value:"left"}},[e._v("left")]),a("el-option",{attrs:{value:"center"}},[e._v("center")]),a("el-option",{attrs:{value:"right"}},[e._v("right")]),a("el-option",{attrs:{value:"justify"}},[e._v("justify")]),a("el-option",{attrs:{value:"justify-left"}},[e._v("justify-left")]),a("el-option",{attrs:{value:"justify-right"}},[e._v("justify-right")]),a("el-option",{attrs:{value:"justify-center"}},[e._v("justify-center")])],1)],1)],1),a("el-row",{attrs:{gutter:10}},[a("el-col",{staticClass:"center",attrs:{span:6}},[e._v("字体大小")]),a("el-col",{staticClass:"center",attrs:{span:14}},[a("el-slider",{attrs:{min:10,max:60,step:1,size:"small"},model:{value:e.element.fontSize,callback:function(t){e.$set(e.element,"fontSize",t)},expression:"element.fontSize"}})],1)],1),a("el-row",{attrs:{gutter:10}},[a("el-col",{staticClass:"center",attrs:{span:6}},[e._v("行高")]),a("el-col",{staticClass:"center",attrs:{span:14}},[a("el-slider",{attrs:{min:10,max:60,step:1,size:"small"},model:{value:e.element.lineHeight,callback:function(t){e.$set(e.element,"lineHeight",t)},expression:"element.lineHeight"}})],1)],1),a("el-row",{attrs:{gutter:10}},[a("el-col",{staticClass:"center",attrs:{span:6}},[e._v("字符间距")]),a("el-col",{staticClass:"center",attrs:{span:14}},[a("el-slider",{attrs:{min:0,max:20,step:.1,size:"small"},model:{value:e.element.charSpacing,callback:function(t){e.$set(e.element,"charSpacing",t)},expression:"element.charSpacing"}})],1)],1),a("el-row",[a("i",{}),a("el-button",{attrs:{type:"primary",size:"mini"}},[e._v("粗体")]),a("el-button",{attrs:{type:"success",size:"mini"}},[e._v("斜体")]),a("el-button",{attrs:{type:"danger",size:"mini"}},[e._v("上划线")]),a("el-button",{attrs:{type:"info",size:"mini"}},[e._v("下划线")]),a("el-button",{attrs:{type:"danger",size:"mini"}},[e._v("上标")]),a("el-button",{attrs:{type:"info",size:"mini"}},[e._v("下标")]),a("el-button",{attrs:{type:"warning",size:"mini"}},[e._v("删除线")])],1)]:e._e()],2)},n=[],r=(a("c975"),a("b063")),i={name:"ElementProperties",props:{value:{type:Object,default:function(){}},drawType:{type:String}},data:function(){return{element:{fill:null,stroke:null,background:null,strokeWidth:3,opacity:1,textAlign:"left",fontSize:12,lineHeight:20,charSpacing:1,horizontalLock:!1,verticalLock:!1,horizontalScale:!1,verticalScale:!1,rotation:!1,scaling:!1},predefineColors:["#ff4500","#ff8c00","#ffd700","#90ee90","#00ced1","#1e90ff","#c71585","rgba(255, 69, 0, 0.68)","rgb(255, 120, 0)","hsv(51, 100, 98)","hsva(120, 40, 94, 0.5)"]}},computed:{isText:function(){return-1!=[r["a"].TEXTBOX,r["a"].ITEXT,r["a"].TEXT].indexOf(this.drawType)}},watch:{element:{deep:!0,handler:function(e){this.$emit("input",e)}}},created:function(){this.element=Object.assign({},this.element,this.value)}},o=i,l=(a("abb7"),a("2877")),c=function(e){e.options.__source="src/guide/views/canvas/drawboard/ElementProperties.vue"},u=c,h=Object(l["a"])(o,s,n,!1,null,"12127348",null);"function"===typeof u&&u(h);t["a"]=h.exports},b063:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ul",[a("li",{class:{active:e.selected(e.DrawType.SELECT)},on:{click:function(t){return e.drawTypeChange(e.DrawType.SELECT)}}},[e._v(" 选中 ")]),a("li",{staticClass:"divider"}),a("li",{class:{active:e.selected(e.DrawType.PEN)},on:{click:function(t){return e.drawTypeChange(e.DrawType.PEN)}}},[e._v(" 画笔 ")]),a("li",{class:{active:e.selected(e.DrawType.ARROW)},on:{click:function(t){return e.drawTypeChange(e.DrawType.ARROW)}}},[e._v(" 箭头 ")]),a("li",{class:{active:e.selected(e.DrawType.ARROW2)},on:{click:function(t){return e.drawTypeChange(e.DrawType.ARROW2)}}},[e._v(" 箭头2 ")]),a("li",{class:{active:e.selected(e.DrawType.LINE)},on:{click:function(t){return e.drawTypeChange(e.DrawType.LINE)}}},[e._v(" 直线 ")]),a("li",{class:{active:e.selected(e.DrawType.DOTTEDLINE)},on:{click:function(t){return e.drawTypeChange(e.DrawType.DOTTEDLINE)}}},[e._v(" 虚线 ")]),a("li",{class:{active:e.selected(e.DrawType.CIRCLE)},on:{click:function(t){return e.drawTypeChange(e.DrawType.CIRCLE)}}},[e._v(" 圆 ")]),a("li",{class:{active:e.selected(e.DrawType.ELLIPSE)},on:{click:function(t){return e.drawTypeChange(e.DrawType.ELLIPSE)}}},[e._v(" 椭圆 ")]),a("li",{class:{active:e.selected(e.DrawType.SQUARE)},on:{click:function(t){return e.drawTypeChange(e.DrawType.SQUARE)}}},[e._v(" 正方形 ")]),a("li",{class:{active:e.selected(e.DrawType.SQUARE)},on:{click:function(t){return e.drawTypeChange(e.DrawType.RECTANGLE)}}},[e._v(" 矩形 ")]),a("li",{class:{active:e.selected(e.DrawType.RIGHTANGLE)},on:{click:function(t){return e.drawTypeChange(e.DrawType.RIGHTANGLE)}}},[e._v(" 直角三角 ")]),a("li",{class:{active:e.selected(e.DrawType.EQUILATERAL)},on:{click:function(t){return e.drawTypeChange(e.DrawType.EQUILATERAL)}}},[e._v(" 正三角形 ")]),a("li",{class:{active:e.selected(e.DrawType.TEXT)},on:{click:function(t){return e.drawTypeChange(e.DrawType.TEXT)}}},[e._v(" 文字 ")]),a("li",{class:{active:e.selected(e.DrawType.TEXTBOX)},on:{click:function(t){return e.drawTypeChange(e.DrawType.TEXTBOX)}}},[e._v(" 文本框 ")]),a("li",{class:{active:e.selected(e.DrawType.ITEXT)},on:{click:function(t){return e.drawTypeChange(e.DrawType.ITEXT)}}},[e._v(" 文本域 ")]),a("li",{class:{active:e.selected(e.DrawType.ERASER)},on:{click:function(t){return e.drawTypeChange(e.DrawType.ERASER)}}},[e._v(" 橡皮擦 ")]),a("li",{staticClass:"divider"}),e._t("default")],2)},n=[],r={PEN:"pen",BRUSH:"brush",ARROW:"arrow",ARROW2:"arrow2",LINE:"line",DOTTEDLINE:"dottedline",CIRCLE:"circle",ELLIPSE:"ellipse",SQUARE:"square",RECTANGLE:"rectangle",RIGHTANGLE:"rightangle",EQUILATERAL:"equilateral",TEXT:"text",TEXTBOX:"textbox",ITEXT:"itext",SELECT:"select",ERASER:"eraser"},i={name:"DrawTypeBar",data:function(){return{drawType:"select",DrawType:r}},computed:{selected:function(){var e=this;return function(t){return e.drawType===t}}},methods:{drawTypeChange:function(e){this.drawType=e,this.$emit("change",e)}}},o=i,l=(a("1f4b"),a("2877")),c=function(e){e.options.__source="src/guide/views/canvas/drawboard/DrawTypeBar.vue"},u=c,h=Object(l["a"])(o,s,n,!1,null,"e2a46b82",null);"function"===typeof u&&u(h);t["b"]=h.exports},f5df3:function(e,t,a){},f903:function(e,t,a){}}]);