(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ed514d90"],{"35e0":function(e,t,o){},"581c":function(e,t,o){"use strict";o.r(t);var i=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-main",[o("el-row",{attrs:{gutter:50}},[o("el-col",{staticClass:"center",attrs:{xs:24,sm:24,md:12}},[o("el-divider",{attrs:{"content-position":"left"}},[e._v("编辑")]),e.option.img?o("vue-cropper",{ref:"cropper",staticClass:"viewport",attrs:{info:e.option.info,infoTrue:!0,img:e.option.img,"output-size":e.option.outputSize,"output-type":e.option.outputType,full:e.option.full,fixed:e.option.fixed,"fixed-number":e.option.fixedNumber,"can-move":e.option.canMove,"can-move-box":e.option.canMoveBox,"fixed-box":e.option.fixedBox,original:e.option.original,"auto-crop":e.option.autoCrop,"auto-crop-width":e.option.autoCropWidth,"auto-crop-height":e.option.autoCropHeight,"center-box":e.option.centerBox,high:e.option.high,enlarge:e.option.enlarge,mode:"cover"},on:{"real-time":e.realTime,"img-load":e.imgLoad,cropMoving:e.cropMovingHandler,imgMoving:e.imgMovingHandler}}):e._e(),e.option.img?o("el-row",{staticStyle:{"padding-top":"2em"}},[o("el-button",{attrs:{icon:"el-icon-picture",size:"mini",type:"success"},on:{click:function(t){return e.changeFixedNumber("4:3")}}},[e._v("4:3")]),o("el-button",{attrs:{icon:"el-icon-picture",size:"mini",type:"success"},on:{click:function(t){return e.changeFixedNumber("1:1")}}},[e._v("1:1")]),o("el-button",{attrs:{icon:"el-icon-picture",type:"success",size:"mini"},on:{click:function(t){return e.changeFixedNumber("2:3")}}},[e._v("2:3")]),o("el-button",{attrs:{icon:"el-icon-picture",size:"mini",type:"success"},on:{click:function(t){return e.changeFixedNumber("16:9")}}},[e._v("16:9")]),o("el-button",{attrs:{type:"primary",icon:"el-icon-refresh-left",size:"mini"},on:{click:e.rotateLeft}}),o("el-button",{attrs:{type:"primary",icon:"el-icon-refresh-right",size:"mini"},on:{click:e.rotateRight}}),o("el-button",{attrs:{type:"primary",icon:"el-icon-zoom-in",size:"mini"},on:{click:function(t){return e.changeScale(5)}}}),o("el-button",{attrs:{type:"primary",icon:"el-icon-zoom-out",size:"mini"},on:{click:function(t){return e.changeScale(-5)}}}),o("el-button",{attrs:{icon:"el-icon-tickets",size:"mini",type:"primary"},on:{click:function(t){e.option.autoCropWidth=800}}},[e._v("800xAuto")]),o("el-button",{attrs:{icon:"el-icon-tickets",size:"mini",type:"primary"},on:{click:function(t){e.option.autoCropWidth=400}}},[e._v("400xAuto")])],1):e._e(),o("el-row",{staticStyle:{"padding-top":"2em"}},[o("el-upload",{staticClass:"el-upload",attrs:{action:"#",accept:".png, .jpg, .jpeg, .bmp, .webp",limit:1,"auto-upload":!1,"show-file-list":!1,"before-upload":e.beforeUploadHandler,"on-change":e.fileChangeHandler}},[o("el-button",{attrs:{type:"primary",icon:"el-icon-picture"}})],1),e.option.img?[o("el-button",{attrs:{type:"primary",icon:"el-icon-delete"},on:{click:e.clearCrop}}),o("el-button",{attrs:{type:"primary",icon:"el-icon-refresh"},on:{click:e.refreshCrop}}),o("el-button",{attrs:{type:"primary",icon:"el-icon-edit-outline"},on:{click:e.startCrop}}),o("el-button",{attrs:{type:"primary",icon:"el-icon-crop"},on:{click:e.stopCrop}}),o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.finish("base64")}}},[e._v("base64预览")]),o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.finish("blob")}}},[e._v("blob预览")])]:e._e()],2)],1),o("el-col",{staticClass:"center",attrs:{xs:24,sm:24,md:6}},[o("el-divider",{attrs:{"content-position":"left"}},[e._v("实时预览")]),o("div",{staticClass:"view-item"},[o("div",{staticClass:"view-item",staticStyle:{overflow:"hidden"},style:e.previews.div},[o("img",{style:e.previews.img,attrs:{src:e.previews.url}})])]),o("el-divider",{attrs:{"content-position":"left"}},[e._v("截图预览")]),o("div",{staticClass:"view-item"},[o("el-image",{staticClass:"view-item",attrs:{src:e.src}})],1)],1),o("el-col",{attrs:{xs:24,sm:24,md:6}},[o("el-divider",{attrs:{"content-position":"left"}},[e._v("信息")]),o("p",[e._v(" 图片尺寸："+e._s(e.previews.img&&e.previews.img.width||0)+"-"+e._s(e.previews.img&&e.previews.img.height||0)+" ")]),o("p",[e._v("裁剪尺寸："+e._s(e.previews.w||0)+"x"+e._s(e.previews.h||0))]),o("p",[e._v(" 输出尺寸："+e._s(e.previews.w*e.option.enlarge||0)+"x"+e._s(e.previews.h*e.option.enlarge||0)+" ")]),o("p",[e._v("输出大小："+e._s(e._f("byteConver")(e.previews.size)))])],1)],1),o("el-row",{attrs:{gutter:50}},[o("el-col",{attrs:{xs:24,sm:24,md:12}},[o("el-divider",{attrs:{"content-position":"left"}},[e._v("选项")]),o("el-form",{ref:"form",staticClass:"cropper",attrs:{model:e.option,"label-width":"120px"}},[o("el-form-item",{attrs:{label:"尺寸信息"}},[o("el-switch",{model:{value:e.option.info,callback:function(t){e.$set(e.option,"info",t)},expression:"option.info"}})],1),o("el-form-item",{attrs:{label:"固定截图框比例"}},[o("el-switch",{model:{value:e.option.fixed,callback:function(t){e.$set(e.option,"fixed",t)},expression:"option.fixed"}})],1),o("el-form-item",{attrs:{label:"固定截图框大小"}},[o("el-switch",{model:{value:e.option.fixedBox,callback:function(t){e.$set(e.option,"fixedBox",t)},expression:"option.fixedBox"}})],1),o("el-form-item",{attrs:{label:"原始宽高"}},[o("el-tooltip",{attrs:{content:"上传图片是否显示原始宽高 (针对大图 可以铺满)",placement:"top"}},[o("el-switch",{model:{value:e.option.original,callback:function(t){e.$set(e.option,"original",t)},expression:"option.original"}})],1)],1),o("el-form-item",{attrs:{label:"拖动图片"}},[o("el-switch",{model:{value:e.option.canMove,callback:function(t){e.$set(e.option,"canMove",t)},expression:"option.canMove"}})],1),o("el-form-item",{attrs:{label:"滚轮缩放"}},[o("el-switch",{model:{value:e.option.canScale,callback:function(t){e.$set(e.option,"canScale",t)},expression:"option.canScale"}})],1),o("el-form-item",{attrs:{label:"拖动截图框"}},[o("el-switch",{model:{value:e.option.canMoveBox,callback:function(t){e.$set(e.option,"canMoveBox",t)},expression:"option.canMoveBox"}})],1),o("el-form-item",{attrs:{label:"等比例输出"}},[o("el-tooltip",{attrs:{content:"输出原图比例的截图",placement:"top"}},[o("el-switch",{model:{value:e.option.full,callback:function(t){e.$set(e.option,"full",t)},expression:"option.full"}})],1)],1),o("el-form-item",{attrs:{label:"自动生成截图框"}},[o("el-switch",{model:{value:e.option.autoCrop,callback:function(t){e.$set(e.option,"autoCrop",t)},expression:"option.autoCrop"}})],1),o("el-form-item",{attrs:{label:"生成高清图"}},[o("el-tooltip",{attrs:{content:"根据dpr生成适合屏幕的高清图片",placement:"top"}},[o("el-switch",{model:{value:e.option.high,callback:function(t){e.$set(e.option,"high",t)},expression:"option.high"}})],1)],1),o("el-form-item",{attrs:{label:"截图框在图片内"}},[o("el-tooltip",{attrs:{content:"截图框限制在图片内，只有在自动生成截图框时才能生效",placement:"top"}},[o("el-switch",{model:{value:e.option.centerBox,callback:function(t){e.$set(e.option,"centerBox",t)},expression:"option.centerBox"}})],1)],1),o("el-form-item",{attrs:{label:"输出格式"}},[o("el-radio-group",{model:{value:e.option.outputType,callback:function(t){e.$set(e.option,"outputType",t)},expression:"option.outputType"}},[o("el-radio",{attrs:{label:"png",value:"png"}}),o("el-radio",{attrs:{label:"jpeg",value:"jpeg"}}),o("el-radio",{attrs:{label:"webp",value:"webp"}})],1)],1),o("el-form-item",{attrs:{label:"x倍高清图"}},[o("el-slider",{attrs:{"show-stops":"",marks:e.marks,min:1,max:5},model:{value:e.option.enlarge,callback:function(t){e.$set(e.option,"enlarge",t)},expression:"option.enlarge"}})],1),o("el-form-item",{attrs:{label:""}},[o("source-code",{attrs:{value:[{value:"guide/views/web/VueCropperjs.vue",lang:"html"}]}},[e._v("查看源码")])],1)],1)],1)],1)],1)},n=[],r=(o("a15b"),o("d3b7"),o("ac1f"),o("3ca3"),o("1276"),o("ddb0"),o("2b3d"),o("7e79")),l=o("f77c"),a={name:"Cropper",components:{VueCropper:r["VueCropper"]},filters:{byteConver:function(e){return Object(l["a"])(e)}},data:function(){return{marks:{1:"1x",2:"2x",3:"3x",4:"4x",5:"5x"},crap:!1,previews:{},src:null,axis:{},scaleX:1,scaleY:1,option:{info:!0,fixed:!0,fixedBox:!1,fixedNumber:[4,3],img:null,outputSize:1,outputType:"png",full:!1,original:!1,canMove:!0,canMoveBox:!0,canScale:!0,autoCrop:!0,autoCropWidth:400,autoCropHeight:150,centerBox:!1,enlarge:1,high:!0}}},methods:{beforeUploadHandler:function(e){console.log("beforeUploadHandler",e)},fileChangeHandler:function(e,t){console.log("file",e,t),this.option.img=URL.createObjectURL(e.raw)},changeFixedNumber:function(e){var t=this;this.option.fixedNumber.join(":")!==e&&(this.option.fixedNumber=e.split(":"),setTimeout((function(){t.$refs.cropper.goAutoCrop()}),100))},startCrop:function(){this.crap=!0,this.$refs.cropper.startCrop()},stopCrop:function(){this.crap=!1,this.$refs.cropper.stopCrop()},clearCrop:function(){this.$refs.cropper.clearCrop()},refreshCrop:function(){this.$refs.cropper.refresh()},changeScale:function(e){e=e||1,this.$refs.cropper.changeScale(e)},rotateLeft:function(){this.$refs.cropper.rotateLeft()},rotateRight:function(){this.$refs.cropper.rotateRight()},finish:function(e){var t=this;"blob"===e?this.$refs.cropper.getCropBlob((function(e){console.log(e),t.src=window.URL.createObjectURL(e)})):this.$refs.cropper.getCropData((function(e){t.src=e,t.previews.size=Object(l["b"])(e)}))},realTime:function(e){this.previews=e,console.log("realTime",e)},imgLoad:function(e){console.log("imgLoad",e)},cropMovingHandler:function(e){this.axis=e.axis},imgMovingHandler:function(e){this.axis=e.axis}}},c=a,s=(o("d250"),o("2877")),p=function(e){e.options.__source="src/guide/views/web/VueCropper.vue"},u=p,f=Object(s["a"])(c,i,n,!1,null,"4818c892",null);"function"===typeof u&&u(f);t["default"]=f.exports},d250:function(e,t,o){"use strict";var i=o("35e0"),n=o.n(i);n.a}}]);