(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f33a6126"],{"038b":function(t,e,n){},"498a":function(t,e,n){"use strict";var r=n("23e7"),i=n("58a8").trim,s=n("c8d2");r({target:"String",proto:!0,forced:s("trim")},{trim:function(){return i(this)}})},c8d2:function(t,e,n){var r=n("d039"),i=n("5899"),s="​᠎";t.exports=function(t){return r((function(){return!!i[t]()||s[t]()!=s||i[t].name!==t}))}},d047:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-main",[n("audio",{ref:"audio",attrs:{controls:"",autoplay:""}}),n("div",{ref:"wrapper",staticClass:"wrapper"})])},i=[];n("ac1f"),n("5319"),n("1276"),n("498a");function s(t,e){for(var n in t)void 0!=t[n]&&(e[n]=t[n])}function o(t){this.settings={},s(o.settings,this.settings),s(t,this.settings),this.init()}o.version="1.0.0",o.settings={row:7,lineHeight:40,currentPlayTime:function(){return 0},lrc:[],url:"",wrapper:null,el:"",delay:0,freq:250},o.prototype.getLrc=function(t,e){var n=new XMLHttpRequest;n.onreadystatechange=function(){if(4==n.readyState)if(200==n.status){var t=n.responseText;e(t)}else e()},n.open("GET",t,!0),n.send(null)},o.prototype.parseLrc=function(t){for(var e=t.split("\n"),n=[],r=0;r<e.length;r++){var i=e[r].split("]");if(/^\[\d+:\d+/g.test(i[0]))for(var s=i.pop().trim(),o=0;o<i.length;o++){var a=i[o].replace(/^\s*\[/g,"").split(":"),c=60*parseInt(a[0])+parseFloat(a[1]);n.push([c,s])}}return n.sort((function(t,e){return t[0]<e[0]?-1:t[0]>e[0]?1:0})),n},o.prototype.init=function(){this.settings.el&&(this.settings.wrapper=this.settings.el);var t=this;this.getLrc(this.settings.url,(function(e){if(!e)throw new Error("下载歌词文件失败！");console.log(e),window.fff=e,t.settings.lrc=t.parseLrc(e),t.initDOM(),t.start()}))},o.prototype.initDOM=function(){for(var t=document.createElement("ul"),e="",n=this.settings.lrc,r=0;r<n.length;r++)e+="<li>"+n[r][1]+"</li>";t.innerHTML=e,this.settings.wrapper.appendChild(t),this.childNodes=t.childNodes,this.ul=t},o.prototype.start=function(){var t=this;this.currentLine=-1;var e=Math.floor(t.settings.row/2);function n(t,e,n){(n<0||void 0==n)&&(n=0);for(var r=n;r<t.length;r++)if(e>=t[r][0]&&(!t[r+1]||t[r+1]&&e<t[r+1][0]))return r;return-1}this.interval=setInterval((function(){var r=t.settings.currentPlayTime()-t.settings.delay,i=t.settings.lrc,s=t.currentLine,o=n(i,r,s);o<0&&(o=n(i,r)),o<0&&(o=s),s!=o&&(t.currentLine=o,s>=0&&(t.childNodes[s].className=""),o>=0&&(t.childNodes[o].className="current"),o>e&&(t.ul.style.top=(e-o)*t.settings.lineHeight+"px"))}),this.settings.freq)},o.prototype.stop=function(){this.interval&&clearInterval(this.interval)};var a=o,c={name:"AudioLRC",data:function(){return{lrc:null}},mounted:function(){this.init({url:"assets/medias/xnbsw.mp3",lrc:"assets/medias/xnbsw.lrc"})},methods:{init:function(t){var e=this.$refs.audio;e.src=t.url,e.play(),console.log(this.$refs.wrapper),this.lrc=new a({el:this.$refs.wrapper,url:t.lrc,row:7,lineHeight:40,delay:0,currentPlayTime:function(){return e.currentTime||0}})}}},u=c,l=(n("ed1a"),n("2877")),p=function(t){t.options.__source="src/guide/views/web/AudioLRC.vue"},f=p,h=Object(l["a"])(u,r,i,!1,null,"1b2b95e4",null);"function"===typeof f&&f(h);e["default"]=h.exports},ed1a:function(t,e,n){"use strict";var r=n("038b"),i=n.n(r);i.a}}]);