(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-60e8c912"],{1034:function(e,t,a){a("cb29"),a("4de4"),a("4160"),a("c975"),a("a15b"),a("ac1f"),a("1276"),a("159b"),a("bf19");var n=a("ded3"),i=a("970b"),s=a("5bc3"),o=a("8962"),r=a("36c6"),c=a("ed6d"),l=a("2d0d"),h=a("c5ea"),d=h.BaseCanvas,u=h.CanvasEvent,v=h.DrawType,p=function(e){"use strict";c(a,e);var t=l(a);function a(e,n,s){var o;return i(this,a),o=t.call(this,e,n,s),o.mouseDown=!1,o.startTime=0,o.mouseFrom={x:0,y:0},o.mouseTo={x:0,y:0},o.canvasObject=null,o.textBoxObject=null,o.currentTarget={id:null,points:[]},o}return s(a,[{key:"eventListener",value:function(e){o(r(a.prototype),"eventListener",this).call(this,e),e.on("mouse:down",this.mouseDownHandler.bind(this)),e.on("mouse:up",this.mouseUpHandler.bind(this)),e.on("mouse:move",this.mouseMoveHandler.bind(this))}},{key:"mouseDownHandler",value:function(e){console.log("down....",this.canvas.isDrawingMode,e),this.options.writeMode&&(this.mouseDown=!0,this.startTime=Date.now(),this.mouseFrom=e.pointer)}},{key:"mouseUpHandler",value:function(e){console.log("up....",this.canvas.isDrawingMode,e),this.options.writeMode&&(this.mouseDown=!1,this.startTime=0,this.mouseTo=e.pointer,this.canvasObject?(this.startDrawing(e.e),this.emit(u.SHAP_ADD,n({id:this.canvasObject.id},this.canvasObject.toJSON())),this.canvasObject=null):this.drawType===v.TEXT&&(e.target||(this.drawTextBox(e.e),this.emit(u.SHAP_ADD,n({id:this.textBoxObject.id},this.textBoxObject.toJSON())))))}},{key:"mouseMoveHandler",value:function(e){this.mouseDown&&this.options.writeMode&&(this.mouseTo=e.pointer,Date.now()-this.startTime>=30&&(this.startTime=Date.now(),this.startDrawing(e.e)),this.drawType,v.PEN)}},{key:"changeMode",value:function(e){o(r(a.prototype),"changeMode",this).call(this,e),console.log("______",this.canvas.getObjects()),this.textBoxObject&&(this.textBoxObject.exitEditing(),this.canvas.discardActiveObject(),""==this.textBoxObject.text&&(this.remove(this.textBoxObject),this.textBoxObject=null))}},{key:"startDrawing",value:function(e){switch(this.remove(this.canvasObject),this.drawType){case v.PEN:break;case v.ARROW:this.canvasObject=this.createArrow(this.mouseFrom,this.mouseTo);break;case v.LINE:this.canvasObject=this.createLine(this.mouseFrom,this.mouseTo);break;case v.DOTTEDLINE:this.canvasObject=this.createDottedline(this.mouseFrom,this.mouseTo);break;case v.CIRCLE:this.canvasObject=this.createCircle(this.mouseFrom,this.mouseTo);break;case v.ELLIPSE:this.canvasObject=this.createEllipse(this.mouseFrom,this.mouseTo);break;case v.SQUARE:this.canvasObject=this.createSquare(this.mouseFrom,this.mouseTo);break;case v.RECTANGLE:this.canvasObject=this.createRectangle(this.mouseFrom,this.mouseTo);break;case v.RIGHTANGLE:this.canvasObject=this.createRightangle(this.mouseFrom,this.mouseTo);break;case v.TRIANGLE:this.canvasObject=this.createTriangle(this.mouseFrom,this.mouseTo);break;default:break}this.add(this.canvasObject,this.drawType)}},{key:"drawTextBox",value:function(e){this.drawType===v.TEXT&&["mouseup","touchend"].indexOf(e.type)>=0&&(this.textBoxObject&&(this.textBoxObject.exitEditing(),this.canvas.discardActiveObject(),""==this.textBoxObject.text&&(this.remove(this.textBoxObject),this.textBoxObject=null)),this.textBoxObject=this.createTextBox(this.mouseFrom,this.mouseTo,""),this.textBoxObject.setControlsVisibility({bl:!0,br:!0,mb:!1,ml:!0,mr:!0,mt:!1,tl:!0,tr:!0,mtr:!0}),console.log("这是文本框",this.textBoxObject),this.add(this.textBoxObject,this.drawType),this.textBoxObject.enterEditing(),this.canvas.setActiveObject(this.textBoxObject))}},{key:"drawChange",value:function(e,t){var a=this;switch(e){case u.SHAP_ADD:this.createShap(t.type,t);break;case u.SHAP_UPDATE:t=t||[],t.forEach((function(e){a.createShap(e.type,e)}));break;case u.SHAP_DELETE:t=t||[],t.forEach((function(e){a.removeById(e.id)}));break;default:break}}},{key:"createShap",value:function(e,t){var a=this;console.log(e,t);var n=this.canvas.getObjects(),i=n.filter((function(e){return e.id===t.id}));if(i.length>0)i.forEach((function(e){e.setOptions(t),a.canvas.requestRenderAll()}));else{var s=null;switch(e){case v.LINE:case v.DOTTEDLINE:s=this.createLine({x:t.x1,y:t.y1},{x:t.x2,y:t.y2},t);break;case v.CIRCLE:s=this.createCircle({x:0,y:0},{x:0,y:0},t);break;case v.ELLIPSE:s=this.createEllipse({x:0,y:0},{x:0,y:0},t);break;case v.TRIANGLE:s=this.createTriangle({x:0,y:0},{x:0,y:0},t);break;case v.TEXT:s=this.createText(t.text,t);break;case"path":case v.PEN:case v.ARROW:case v.SQUARE:case v.RECTANGLE:case v.TRIANGLE:case v.RIGHTANGLE:t.fill="rgba(0, 0, 0, 0)";var o=t.path.join(" ").split(",").join(" ");s=this.createPath(o,t);break;default:break}console.log("准备绘制",e,t,s),this.add(s,t.type,t.id)}}},{key:"loadFromJSON",value:function(e){var t=this,a=(e.version,e.objects);a.forEach((function(e){t.createShap(e.type,e)}))}}]),a}(d);e.exports={Canvas:p,CanvasEvent:u,DrawType:v}},"1f4b":function(e,t,a){"use strict";var n=a("3d33"),i=a.n(n);i.a},"3d33":function(e,t,a){},"591e":function(e,t,a){},6:function(e,t){},"610a":function(e,t,a){var n=a("970b"),i=a("ed6d"),s=a("2d0d"),o=a("faa1").EventEmitter;e.exports=function(e){"use strict";i(a,e);var t=s(a);function a(){var e;return n(this,a),e=t.call(this),e.defaultMaxListeners=20,e}return a}(o)},7:function(e,t){},"791c":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",[a("el-main",[a("el-divider",{attrs:{"content-position":"left"}},[e._v("工作画板")]),a("div",{staticClass:"canvas-container"},[a("canvas",{ref:"canvas",attrs:{width:"1280",height:"720"}})]),a("el-divider",{attrs:{"content-position":"left"}},[e._v("输出画板")]),a("div",{staticClass:"canvas-container"},[a("canvas",{ref:"remote",attrs:{width:"1280",height:"720"}})])],1),a("el-aside",{attrs:{width:"380px"}},[a("h3",[e._v("工具栏")]),a("el-divider",{attrs:{"content-position":"left"}},[e._v("画布尺寸")]),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.changeCanvasSize("640x480")}}},[e._v("640x480")]),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.changeCanvasSize("1280x720")}}},[e._v("1280x720")]),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.changeCanvasSize("1920x1080")}}},[e._v("1920x1080")]),a("el-divider",{attrs:{"content-position":"left"}},[e._v("画布属性")]),a("ElementProperties",{attrs:{drawType:e.drawType},on:{input:e.elementPropertiesHandler},model:{value:e.options,callback:function(t){e.options=t},expression:"options"}})],1)],1)},i=[],s=(a("ac1f"),a("1276"),a("2909")),o=a("1034"),r=a("ab52"),c=a.n(r),l=a("b893"),h=a.n(l),d=a("ad48"),u={name:"OrioleDrawBoard",components:{ElementProperties:d["a"]},data:function(){return{canvas:null,remote:null,drawType:"select",options:{fill:"#00BABD",stroke:"#FFD700",background:"#FF8C00",strokeWidth:2,opacity:1,textAlign:"left",fontSize:12,lineHeight:20,charSpacing:1,horizontalLock:!1,verticalLock:!1,horizontalScale:!1,verticalScale:!1,rotation:!1,scaling:!1}}},methods:{loadCss:function(e){var t=document.querySelector("head #oriole-sdk");t||(t=document.createElement("style"),t.setAttribute("id","oriole-sdk"),document.querySelector("head").appendChild(t)),t.innerHTML=e},elementPropertiesHandler:function(e){console.log("属性更改",e),this.canvas.setPaint(e)},changeCanvasSize:function(e){var t,a=e.split("x");(t=this.canvas).setSize.apply(t,Object(s["a"])(a))}},mounted:function(){var e=this;this.loadCss(c.a),this.$refs.canvas.insertAdjacentHTML("beforebegin",h.a),this.canvas=new o["Canvas"](this.$refs.canvas,{size:{width:1280,height:720}}),this.remote=new o["Canvas"](this.$refs.remote,{size:{width:1280,height:720}}),this.canvas.on(o["CanvasEvent"].DRAW_TYPE,(function(e){console.log("绘制类型切换",e)})),this.canvas.on(o["CanvasEvent"].CHANGE_PAINT,(function(e){})),this.canvas.on(o["CanvasEvent"].SHAP_ADD,(function(t){e.remote.drawChange(o["CanvasEvent"].SHAP_ADD,t)})),this.canvas.on(o["CanvasEvent"].SHAP_UPDATE,(function(t){e.remote.drawChange(o["CanvasEvent"].SHAP_UPDATE,t)})),this.canvas.on(o["CanvasEvent"].SHAP_DELETE,(function(t){e.remote.drawChange(o["CanvasEvent"].SHAP_DELETE,t)})),this.canvas.on(o["CanvasEvent"].ERROR,(function(e,t){}))}},v=u,p=(a("b343"),a("2877")),f=function(e){e.options.__source="src/guide/views/canvas/OrioleDrawBoard.vue"},y=f,m=Object(p["a"])(v,n,i,!1,null,"4382a006",null);"function"===typeof y&&y(m);t["default"]=m.exports},"7e33":function(e,t,a){function n(e,t){for(item in t)e[item]=t[item];return e}a("a15b"),a("d3b7"),a("25f0"),e.exports={merge:n}},8:function(e,t){},ab52:function(e,t){e.exports="\n/** 这是画板组件 */\n.canvas-container {\n    position: relative;\n}\n\n.canvas-container .oriole-container {\n    position: absolute !important;\n    top: 0px;\n    left: 0px;\n}\n\n.canvas-container ul {\n    list-style: none;\n    display: inline-block;\n    position: absolute;\n    top: 5px;\n    left: 5px;\n    padding: 0;\n    margin: 0;\n    transform-origin: left top;\n}\n\n.canvas-container ul li {\n    display: inline-block;\n    width: 30px;\n    height: 30px;\n    margin: 1px;\n    background: rgba(255,255,255, .75);\n    cursor: pointer;\n    text-align: center;\n    color: #333;\n    border-radius: 2px;\n}\n\n.canvas-container ul li.active {\n    background: rgba(245, 108, 108, .85);\n\n    color: #FFF;\n}\n\n.canvas-container .oriole-icon {\n    width: 16px;\n    height: 30px;\n    vertical-align: middle;\n    fill: currentColor;\n    overflow: hidden;\n }\n"},abb7:function(e,t,a){"use strict";var n=a("f5df3"),i=a.n(n);i.a},ad48:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{attrs:{gutter:10}},[a("el-col",{staticClass:"center",attrs:{span:6}},[e._v("颜色")]),a("el-col",{staticClass:"center",attrs:{span:4}},[a("el-color-picker",{attrs:{predefine:e.predefineColors,size:"small"},model:{value:e.element.fill,callback:function(t){e.$set(e.element,"fill",t)},expression:"element.fill"}})],1),a("el-col",{attrs:{span:10}},[a("el-input",{attrs:{size:"small"},model:{value:e.element.fill,callback:function(t){e.$set(e.element,"fill",t)},expression:"element.fill"}})],1)],1),a("el-row",{attrs:{gutter:10}},[a("el-col",{staticClass:"center",attrs:{span:6}},[e._v("边框")]),a("el-col",{staticClass:"center",attrs:{span:4}},[a("el-color-picker",{attrs:{predefine:e.predefineColors,size:"small"},model:{value:e.element.stroke,callback:function(t){e.$set(e.element,"stroke",t)},expression:"element.stroke"}})],1),a("el-col",{attrs:{span:10}},[a("el-input",{attrs:{size:"small"},model:{value:e.element.stroke,callback:function(t){e.$set(e.element,"stroke",t)},expression:"element.stroke"}})],1)],1),a("el-row",{attrs:{gutter:10}},[a("el-col",{staticClass:"center",attrs:{span:6}},[e._v("边框宽度")]),a("el-col",{staticClass:"center",attrs:{span:14}},[a("el-slider",{attrs:{min:1,max:20,step:1,size:"mini"},model:{value:e.element.strokeWidth,callback:function(t){e.$set(e.element,"strokeWidth",t)},expression:"element.strokeWidth"}})],1)],1),a("el-row",{attrs:{gutter:10}},[a("el-col",{staticClass:"center",attrs:{span:6}},[e._v("背景色")]),a("el-col",{staticClass:"center",attrs:{span:4}},[a("el-color-picker",{attrs:{predefine:e.predefineColors,size:"small"},model:{value:e.element.background,callback:function(t){e.$set(e.element,"background",t)},expression:"element.background"}})],1),a("el-col",{attrs:{span:10}},[a("el-input",{attrs:{size:"small"},model:{value:e.element.background,callback:function(t){e.$set(e.element,"background",t)},expression:"element.background"}})],1)],1),a("el-row",{attrs:{gutter:10}},[a("el-col",{staticClass:"center",attrs:{span:6}},[e._v("透明度")]),a("el-col",{staticClass:"center",attrs:{span:14}},[a("el-slider",{attrs:{min:.001,max:1,step:.005},model:{value:e.element.opacity,callback:function(t){e.$set(e.element,"opacity",t)},expression:"element.opacity"}})],1)],1),a("el-divider",{attrs:{"content-position":"left"}},[e._v("锁定")]),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:12}},[a("el-checkbox",{model:{value:e.element.horizontalLock,callback:function(t){e.$set(e.element,"horizontalLock",t)},expression:"element.horizontalLock"}}),a("span",[e._v("水平调整")])],1),a("el-col",{attrs:{span:12}},[a("el-checkbox",{model:{value:e.element.verticalLock,callback:function(t){e.$set(e.element,"verticalLock",t)},expression:"element.verticalLock"}}),a("span",[e._v("垂直调整")])],1)],1),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:12}},[a("el-checkbox",{model:{value:e.element.horizontalScale,callback:function(t){e.$set(e.element,"horizontalScale",t)},expression:"element.horizontalScale"}}),a("span",[e._v("水平缩放")])],1),a("el-col",{attrs:{span:12}},[a("el-checkbox",{model:{value:e.element.verticalScale,callback:function(t){e.$set(e.element,"verticalScale",t)},expression:"element.verticalScale"}}),a("span",[e._v("垂直缩放")])],1)],1),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:12}},[a("el-checkbox",{model:{value:e.element.rotation,callback:function(t){e.$set(e.element,"rotation",t)},expression:"element.rotation"}}),a("span",[e._v("旋转")])],1),a("el-col",{attrs:{span:12}},[a("el-checkbox",{model:{value:e.element.scaling,callback:function(t){e.$set(e.element,"scaling",t)},expression:"element.scaling"}}),a("span",[e._v("缩放")])],1)],1),a("el-divider",{attrs:{"content-position":"left"}},[e._v("特定文本组件")]),e.isText?[a("el-row",{attrs:{gutter:10}},[a("el-col",{staticClass:"center",attrs:{span:6}},[e._v("对齐方式")]),a("el-col",{staticClass:"center",attrs:{span:14}},[a("el-select",{attrs:{placeholder:"请选择",size:"small"},model:{value:e.element.textAlign,callback:function(t){e.$set(e.element,"textAlign",t)},expression:"element.textAlign"}},[a("el-option",{attrs:{value:"left"}},[e._v("left")]),a("el-option",{attrs:{value:"center"}},[e._v("center")]),a("el-option",{attrs:{value:"right"}},[e._v("right")]),a("el-option",{attrs:{value:"justify"}},[e._v("justify")]),a("el-option",{attrs:{value:"justify-left"}},[e._v("justify-left")]),a("el-option",{attrs:{value:"justify-right"}},[e._v("justify-right")]),a("el-option",{attrs:{value:"justify-center"}},[e._v("justify-center")])],1)],1)],1),a("el-row",{attrs:{gutter:10}},[a("el-col",{staticClass:"center",attrs:{span:6}},[e._v("字体大小")]),a("el-col",{staticClass:"center",attrs:{span:14}},[a("el-slider",{attrs:{min:10,max:60,step:1,size:"small"},model:{value:e.element.fontSize,callback:function(t){e.$set(e.element,"fontSize",t)},expression:"element.fontSize"}})],1)],1),a("el-row",{attrs:{gutter:10}},[a("el-col",{staticClass:"center",attrs:{span:6}},[e._v("行高")]),a("el-col",{staticClass:"center",attrs:{span:14}},[a("el-slider",{attrs:{min:10,max:60,step:1,size:"small"},model:{value:e.element.lineHeight,callback:function(t){e.$set(e.element,"lineHeight",t)},expression:"element.lineHeight"}})],1)],1),a("el-row",{attrs:{gutter:10}},[a("el-col",{staticClass:"center",attrs:{span:6}},[e._v("字符间距")]),a("el-col",{staticClass:"center",attrs:{span:14}},[a("el-slider",{attrs:{min:0,max:20,step:.1,size:"small"},model:{value:e.element.charSpacing,callback:function(t){e.$set(e.element,"charSpacing",t)},expression:"element.charSpacing"}})],1)],1),a("el-row",[a("i",{}),a("el-button",{attrs:{type:"primary",size:"mini"}},[e._v("粗体")]),a("el-button",{attrs:{type:"success",size:"mini"}},[e._v("斜体")]),a("el-button",{attrs:{type:"danger",size:"mini"}},[e._v("上划线")]),a("el-button",{attrs:{type:"info",size:"mini"}},[e._v("下划线")]),a("el-button",{attrs:{type:"danger",size:"mini"}},[e._v("上标")]),a("el-button",{attrs:{type:"info",size:"mini"}},[e._v("下标")]),a("el-button",{attrs:{type:"warning",size:"mini"}},[e._v("删除线")])],1)]:e._e()],2)},i=[],s=(a("c975"),a("b063")),o={name:"ElementProperties",props:{value:{type:Object,default:function(){}},drawType:{type:String}},data:function(){return{element:{fill:null,stroke:null,background:null,strokeWidth:3,opacity:1,textAlign:"left",fontSize:12,lineHeight:20,charSpacing:1,horizontalLock:!1,verticalLock:!1,horizontalScale:!1,verticalScale:!1,rotation:!1,scaling:!1},predefineColors:["#ff4500","#ff8c00","#ffd700","#90ee90","#00ced1","#1e90ff","#c71585","rgba(255, 69, 0, 0.68)","rgb(255, 120, 0)","hsv(51, 100, 98)","hsva(120, 40, 94, 0.5)"]}},computed:{isText:function(){return-1!=[s["a"].TEXTBOX,s["a"].ITEXT,s["a"].TEXT].indexOf(this.drawType)}},watch:{element:{deep:!0,handler:function(e){this.$emit("input",e)}}},created:function(){this.element=Object.assign({},this.element,this.value)}},r=o,c=(a("abb7"),a("2877")),l=function(e){e.options.__source="src/guide/views/canvas/drawboard/ElementProperties.vue"},h=l,d=Object(c["a"])(r,n,i,!1,null,"12127348",null);"function"===typeof h&&h(d);t["a"]=d.exports},b063:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ul",[a("li",{class:{active:e.selected(e.DrawType.SELECT)},on:{click:function(t){return e.drawTypeChange(e.DrawType.SELECT)}}},[e._v(" 选中 ")]),a("li",{staticClass:"divider"}),a("li",{class:{active:e.selected(e.DrawType.PEN)},on:{click:function(t){return e.drawTypeChange(e.DrawType.PEN)}}},[e._v(" 画笔 ")]),a("li",{class:{active:e.selected(e.DrawType.ARROW)},on:{click:function(t){return e.drawTypeChange(e.DrawType.ARROW)}}},[e._v(" 箭头 ")]),a("li",{class:{active:e.selected(e.DrawType.ARROW2)},on:{click:function(t){return e.drawTypeChange(e.DrawType.ARROW2)}}},[e._v(" 箭头2 ")]),a("li",{class:{active:e.selected(e.DrawType.LINE)},on:{click:function(t){return e.drawTypeChange(e.DrawType.LINE)}}},[e._v(" 直线 ")]),a("li",{class:{active:e.selected(e.DrawType.DOTTEDLINE)},on:{click:function(t){return e.drawTypeChange(e.DrawType.DOTTEDLINE)}}},[e._v(" 虚线 ")]),a("li",{class:{active:e.selected(e.DrawType.CIRCLE)},on:{click:function(t){return e.drawTypeChange(e.DrawType.CIRCLE)}}},[e._v(" 圆 ")]),a("li",{class:{active:e.selected(e.DrawType.ELLIPSE)},on:{click:function(t){return e.drawTypeChange(e.DrawType.ELLIPSE)}}},[e._v(" 椭圆 ")]),a("li",{class:{active:e.selected(e.DrawType.SQUARE)},on:{click:function(t){return e.drawTypeChange(e.DrawType.SQUARE)}}},[e._v(" 正方形 ")]),a("li",{class:{active:e.selected(e.DrawType.SQUARE)},on:{click:function(t){return e.drawTypeChange(e.DrawType.RECTANGLE)}}},[e._v(" 矩形 ")]),a("li",{class:{active:e.selected(e.DrawType.RIGHTANGLE)},on:{click:function(t){return e.drawTypeChange(e.DrawType.RIGHTANGLE)}}},[e._v(" 直角三角 ")]),a("li",{class:{active:e.selected(e.DrawType.EQUILATERAL)},on:{click:function(t){return e.drawTypeChange(e.DrawType.EQUILATERAL)}}},[e._v(" 正三角形 ")]),a("li",{class:{active:e.selected(e.DrawType.TEXT)},on:{click:function(t){return e.drawTypeChange(e.DrawType.TEXT)}}},[e._v(" 文字 ")]),a("li",{class:{active:e.selected(e.DrawType.TEXTBOX)},on:{click:function(t){return e.drawTypeChange(e.DrawType.TEXTBOX)}}},[e._v(" 文本框 ")]),a("li",{class:{active:e.selected(e.DrawType.ITEXT)},on:{click:function(t){return e.drawTypeChange(e.DrawType.ITEXT)}}},[e._v(" 文本域 ")]),a("li",{class:{active:e.selected(e.DrawType.ERASER)},on:{click:function(t){return e.drawTypeChange(e.DrawType.ERASER)}}},[e._v(" 橡皮擦 ")]),a("li",{staticClass:"divider"}),e._t("default")],2)},i=[],s={PEN:"pen",BRUSH:"brush",ARROW:"arrow",ARROW2:"arrow2",LINE:"line",DOTTEDLINE:"dottedline",CIRCLE:"circle",ELLIPSE:"ellipse",SQUARE:"square",RECTANGLE:"rectangle",RIGHTANGLE:"rightangle",EQUILATERAL:"equilateral",TEXT:"text",TEXTBOX:"textbox",ITEXT:"itext",SELECT:"select",ERASER:"eraser"},o={name:"DrawTypeBar",data:function(){return{drawType:"select",DrawType:s}},computed:{selected:function(){var e=this;return function(t){return e.drawType===t}}},methods:{drawTypeChange:function(e){this.drawType=e,this.$emit("change",e)}}},r=o,c=(a("1f4b"),a("2877")),l=function(e){e.options.__source="src/guide/views/canvas/drawboard/DrawTypeBar.vue"},h=l,d=Object(c["a"])(r,n,i,!1,null,"e2a46b82",null);"function"===typeof h&&h(d);t["b"]=d.exports},b343:function(e,t,a){"use strict";var n=a("591e"),i=a.n(n);i.a},b7c8:function(e,t,a){a("a15b");var n=" ";function i(e,t){return{x:e,y:t}}function s(e,t){return["M",e.x,e.y,"L",e.x,t.y,"L",t.x,t.y,"Z"].join(n)}function o(e,t){return""}function r(e,t){return["M",e.x,e.y,"L",t.x,e.y,"L",t.x,t.y,"L",e.x,t.y,"L",e.x,e.y,"z"].join(n)}function c(e,t){var a=e.x,i=e.y;return t.x-a>t.y-i?t.y=i+t.x-a:t.x=a+t.y-i,["M",e.x,e.y,"L",t.x,e.y,"L",t.x,t.y,"L",e.x,t.y,"L",e.x,e.y,"Z"].join(n)}function l(e,t){var a=(t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y);return Math.sqrt(a)}function h(e,t){var a=20,i=20,s=180*Math.atan2(e.y-t.y,e.x-t.x)/Math.PI,o=(s+a)*Math.PI/180,r=(s-a)*Math.PI/180,c=i*Math.cos(o),l=i*Math.sin(o),h=i*Math.cos(r),d=i*Math.sin(r);return["M",e.x,e.y,"L",t.x,t.y,"M",t.x+c,t.y+l,"L",t.x,t.y,"L",t.x+h,t.y+d].join(n)}e.exports={transformMouse:i,arrow:h,rightangle:s,equilateral:o,rectangle:r,square:c,circle:l}},b893:function(e,t){e.exports='<svg><symbol id="orioleselect" viewBox="0 0 1024 1024"><path d="M1014.122475 488.09331L866.183767 340.052222a33.99007 33.99007 0 0 0-48.118473 0v118.146207H565.904022V206.241916h118.453346c13.309365-13.309365 13.309365-34.809108 0-48.118472L536.31628 10.082356a33.99007 33.99007 0 0 0-48.118472 0L340.2591 158.123444a33.99007 33.99007 0 0 0 0 48.118472h118.146207v251.956513H206.448794V340.052222a33.99007 33.99007 0 0 0-48.118472 0L10.186854 487.99093c-13.309365 13.309365-13.309365 34.809108 0 48.118472L158.330322 684.04811c13.309365 13.309365 34.809108 13.309365 48.118472 0.10238V565.697144h251.854133v252.058892H340.2591a33.99007 33.99007 0 0 0 0 48.118473l147.938708 148.041088c13.309365 13.309365 34.809108 13.309365 48.118472 0l148.041088-148.041088c13.309365-13.309365 13.309365-34.809108 0-48.118473H565.904022V565.799524h252.161272v118.350966c13.309365 13.309365 34.809108 13.309365 48.118473 0l147.938708-147.938708c13.309365-13.309365 13.309365-34.809108 0-48.118472z"  ></path></symbol><symbol id="oriolearrow" viewBox="0 0 1024 1024"><path d="M139.08607033 853.67240896l468.62281276-468.62281277L651.09988438 428.44059749 182.47707162 897.06341025l-43.39100128-43.3910013z" ></path><path d="M475.22620999 257.84308963L875.75699299 153.70508632l-100.13269568 404.53609063-300.39808732-300.39808732z" ></path></symbol><symbol id="oriolecircle" viewBox="0 0 1024 1024"><path d="M512 0C229.218462 0 0 229.257846 0 512c0 282.781538 229.218462 512 512 512s512-229.218462 512-512C1024 229.257846 794.781538 0 512 0zM512 921.6C286.168615 921.6 102.4 737.831385 102.4 512S286.168615 102.439385 512 102.439385 921.6 286.168615 921.6 512 737.831385 921.6 512 921.6z"  ></path></symbol><symbol id="oriolepen" viewBox="0 0 1024 1024"><path d="M884.641557 138.571009C811.672662 65.565275 755.277234 56.513108 726.075145 85.715197l-79.284741 79.283718 211.422224 211.422224 79.31851-79.284741C966.698434 267.936355 957.646268 211.538881 884.641557 138.571009zM144.589584 667.200758c-14.600533 14.564717-68.333318 226.898707-68.333318 226.898707-3.193739 8.709359-10.073426 42.179658 0 52.855812 7.039323 7.460925 25.424042 10.638291 52.855812 0 0 0 212.33399-53.730739 226.938616-68.333318l449.309192-449.345008L593.934592 217.85575 144.589584 667.200758zM132.177903 891.034662 185.764356 708.376553l129.110543 129.071657L132.177903 891.034662z"></path></symbol><symbol id="oriolezhijiaosanjiaoxing" viewBox="0 0 1029 1024"><path d="M0 0v1024h1024z"  ></path></symbol><symbol id="oriolerectangle" viewBox="0 0 1024 1024"><path d="M0 896V128h1024v768H0zM960 192H64v640h896V192z"  ></path></symbol><symbol id="orioletriangle-solid" viewBox="0 0 1182 1024"><path d="M591.212918 0L0 1024h1182.425836L591.212918 0z"></path></symbol><symbol id="oriolehand" viewBox="0 0 1024 1024"><path d="M790.869333 322.346667C740.181333 311.594667 594.346667 283.776 554.666667 275.925333V126.08C554.666667 56.576 497.237333 0 426.666667 0S298.666667 56.576 298.666667 126.08v318.165333c-23.637333-14.336-50.688-26.496-78.421334-30.506666C142.506667 402.56 85.333333 453.845333 85.333333 520.32c0 34.346667 15.488 68.821333 43.605334 96.896C298.410667 786.688 371.626667 835.882667 387.456 1024H810.666667v-74.581333c0-219.904 128-257.322667 128-427.904 0-104.448-45.269333-177.365333-147.797334-199.168z m15.232 342.272c-35.029333 63.274667-78.421333 141.610667-80.682666 274.048h-261.546667c-30.976-162.986667-162.56-269.568-274.602667-381.824-29.354667-29.269333-16.768-58.453333 18.858667-58.581334 53.888-0.256 130.56 80.384 175.872 136.746667V126.08C384 104.021333 403.541333 85.333333 426.666667 85.333333s42.666667 18.688 42.666666 40.746667v296.448a24.405333 24.405333 0 0 0 48.725334 0v-24.533333a36.266667 36.266667 0 0 1 72.533333 0v54.314666a24.362667 24.362667 0 0 0 48.725333 0v-35.413333a36.053333 36.053333 0 0 1 72.106667 0v65.408a24.362667 24.362667 0 0 0 48.725333 0v-38.912a30.506667 30.506667 0 0 1 43.434667-27.562667c27.52 13.013333 49.749333 39.765333 49.749333 105.685334 0 57.813333-19.84 93.568-47.232 143.104z"  ></path></symbol><symbol id="orioleellipse-solid" viewBox="0 0 1024 1024"><path d="M3.44479238 512.02315012c0-217.08075243 225.26129333-393.02167871 503.22187429-393.02167773s503.22187429 176.00020523 503.22187429 393.02167774S784.56796771 905.04482883 506.66666668 905.04482883 3.44479237 729.04462262 3.44479238 512.02315012z"  ></path></symbol><symbol id="oriolesquare" viewBox="0 0 1024 1024"><path d="M808.079 981.684H215.921c-95.719 0-173.619-77.902-173.619-173.619V215.936c0-95.719 77.9-173.619 173.619-173.619h592.158c95.719 0 173.619 77.9 173.619 173.619v592.129c0 95.716-77.9 173.619-173.619 173.619M215.921 137.018c-43.466 0-78.919 35.39-78.919 78.918v592.129c0 43.543 35.453 78.917 78.919 78.917h592.158c43.498 0 78.919-35.374 78.919-78.917V215.936c0-43.528-35.421-78.918-78.919-78.918H215.921z"  ></path></symbol><symbol id="orioleline" viewBox="0 0 1024 1024"><path d="M29.281771 874.038672m60.339778-60.339779l724.077344-724.077344q60.339779-60.339779 120.679558 0l0 0q60.339779 60.339779 0 120.679558l-724.077344 724.077344q-60.339779 60.339779-120.679558 0l0 0q-60.339779-60.339779 0-120.679558Z"></path></symbol><symbol id="orioletriangle" viewBox="0 0 1170 1024"><path d="M585.142857 37.156571L1160.777143 1024H9.508571L585.142857 37.156571zM136.777143 950.857143h896.731428L585.142857 182.272 136.777143 950.857143z"></path></symbol><symbol id="orioleellipse" viewBox="0 0 1280 1024"><path d="M640 85.328571c305.842857 0 554.671429 191.428571 554.671429 426.671429S945.842857 938.671429 640 938.671429 85.328571 747.271429 85.328571 512 334.157143 85.328571 640 85.328571M640 0C286.542857 0 0 229.228571 0 512s286.542857 512 640 512 640-229.228571 640-512S993.457143 0 640 0z"></path></symbol><symbol id="oriolecircle-solid" viewBox="0 0 1024 1024"><path d="M64 512a448 448 0 1 0 896 0 448 448 0 1 0-896 0z"></path></symbol><symbol id="orioletextbox" viewBox="0 0 1024 1024"><path d="M59.733333 186.026667v244.053333l32.426667-1.706667c10.24-88.746667 81.92-150.186667 122.88-160.426666 40.96-10.24 119.466667 1.706667 119.466667 1.706666s-1.706667 503.466667-1.706667 537.6c0 35.84-47.786667 51.2-47.786667 51.2l-63.146666 1.706667-1.706667 44.373333h395.946667v-42.666666h-73.386667c-32.426667-3.413333-52.906667-46.08-52.906667-46.08l1.706667-551.253334s49.493333-8.533333 121.173333 3.413334 131.413333 163.84 131.413334 163.84h32.426666V186.026667h-716.8z"></path><path d="M564.906667 510.293333v134.826667h17.066666c6.826667-49.493333 46.08-81.92 68.266667-88.746667 22.186667-5.12 66.56 0 66.56 0V853.333333c0 18.773333-25.6 27.306667-25.6 27.306667h-35.84V904.533333h218.453333v-23.893333h-39.253333c-18.773333-1.706667-29.013333-25.6-29.013333-25.6V551.253333s27.306667-5.12 66.56 1.706667 73.386667 90.453333 73.386666 90.453333h17.066667v-136.533333H564.906667z"></path></symbol><symbol id="orioledottedline" viewBox="0 0 1024 1024"><path d="M835.6 288L736 188.4 860.4 64 960 163.6 835.6 288zM613.3 510.2l-99.6-99.6L636.4 288l99.6 99.6-122.7 122.6zM288 835.6L163.6 960 64 860.4 188.4 736l99.6 99.6z m99.6-99.6L288 636.4l126.2-126.2 99.6 99.6-126.2 126.2z"></path></symbol><symbol id="orioleeraser" viewBox="0 0 1026 1024"><path d="M980.19 925.65H633.34c4.53-5.08 8.86-10.41 12.96-16l328.86-448.7c63.93-87.23 44.87-210.91-42.36-274.84L740.3 45.02C705.46 19.48 664.8 7.19 624.46 7.19c-60.66 0-120.61 27.8-159 80.19L213.39 431.31a46.013 46.013 0 0 0-18.31 24.97l-67.91 92.66c-63.93 87.23-44.87 210.91 42.36 274.84l138.98 101.86H45.93C20.56 925.65 0 946.21 0 971.58c0 25.37 20.56 45.93 45.93 45.93h934.26c25.37 0 45.93-20.56 45.93-45.93s-20.56-45.93-45.93-45.93zM539.55 141.68c9.95-13.58 22.63-24.23 37.7-31.66 14.56-7.18 30.88-10.97 47.22-10.97V7.19v91.86c22.35 0 43.62 6.94 61.53 20.06L878.5 260.2c22.4 16.42 37.09 40.77 41.38 68.59 4.29 27.81-2.39 55.46-18.81 77.86L666.9 726.15c-0.92-0.79-1.86-1.56-2.86-2.29l-358.57-262.8 234.08-319.38z m-357.1 539.43c-4.29-27.81 2.39-55.46 18.81-77.86l49.92-68.11 358.57 262.8c0.99 0.73 2.01 1.41 3.04 2.05l-40.57 55.35c-11.58 15.8-26.25 28.18-43.6 36.77-16.64 8.25-35.3 12.61-53.96 12.61-25.72 0-50.34-8.08-71.2-23.37L223.83 749.7c-22.4-16.42-37.09-40.77-41.38-68.59z"  ></path></symbol><symbol id="oriolerightangle" viewBox="0 0 1024 1024"><path d="M70.4 169.6l787.2 787.2H70.4V169.6M0 0v1024h1024L0 0z"></path></symbol></svg>'},c5ea:function(e,t,a){a("99af"),a("cb29"),a("4160"),a("c975"),a("d3b7"),a("07ac"),a("ac1f"),a("25f0"),a("5319"),a("1276"),a("159b"),a("bf19");var n=a("ded3"),i=a("970b"),s=a("5bc3"),o=a("ed6d"),r=a("2d0d"),c=a("7a94"),l=c.fabric,h=a("610a"),d=a("7e33"),u=d.merge,v=a("b7c8"),p=v.arrow,f=v.rightangle,y=(v.equilateral,v.rectangle),m=v.square,b=v.circle,g={PEN:"pen",ARROW:"arrow",LINE:"line",DOTTEDLINE:"dottedline",CIRCLE:"circle",ELLIPSE:"ellipse",SQUARE:"square",RECTANGLE:"rectangle",RIGHTANGLE:"rightangle",TRIANGLE:"triangle",TEXT:"textbox",SELECT:"select",ERASER:"eraser"},x={DRAW_TYPE:"drawType",CHANGE_PAINT:"changePaint",SHAP_ADD:"shapAdd",SHAP_UPDATE:"shapUpdate",SHAP_DELETE:"shapDelete",ERROR:"error"},w=function(e){"use strict";o(a,e);var t=r(a);function a(e,n,s){var o;i(this,a),o=t.call(this),o.options=u({fill:"#409EFF",stroke:"#F56C6C",strokeWidth:2,fontSize:15,toolbar:Object.values(g),drawingMode:!0,writeMode:!0,drawType:g.PEN,size:{width:800,height:600},selectionLineWidth:1,selectionDashArray:[],selectionColor:"rgba(121, 187, 255, 0.25)",selectionBorderColor:"rgb(121, 187, 255)",borderColor:"rgb(64, 158, 255)",borderDashArray:[],cornerColor:"rgb(64, 158, 255)",cornerStrokeColor:"rgb(64, 158, 255)",cornerDashArray:[],cornerSize:10,cornerStyle:"circle",padding:5},n),o.canvas=new l.Canvas(e,{containerClass:"oriole-container"}),o.canvas.wrapperEl.style=s;var r=l.util.findScaleToFit(o.options.size,o.canvas);return o.canvas.stopContextMenu=!0,o.canvas.viewportTransform=[r,0,0,r,(o.canvas.getWidth()-o.options.size.width*r)/2,(o.canvas.getHeight()-o.options.size.height*r)/2],o.setPaint(o.options),o.createToolBar(r),o.eventListener(o.canvas),o.drawingMode=o.options.drawingMode,o.writeMode=o.options.writeMode,console.log("dom size",o.canvas.viewportTransform,r,o.canvas.getWidth()+"x"+o.canvas.getHeight()),o}return s(a,[{key:"createToolBar",value:function(e){var t=this,a=document.createElement("ul");a.style.transform="matrix(".concat(e,", 0, 0, ").concat(e,", 0, 0)");var n=this.options.toolbar||[];-1===n.indexOf(this.options.drawType)&&(this.options.drawType=n[0]),console.log("createToolBar",e,this.options),n.forEach((function(e){var n=document.createElement("li");n.className=e,n.innerHTML='<svg class="oriole-icon"><use xlink:href="#oriole'.concat(e,'"></use></svg>'),n.setAttribute("title",e),n.onclick=function(a){t.changeMode(e)},a.appendChild(n)})),this.canvas.toolbar=a,this.canvas.wrapperEl.appendChild(a),this.changeMode(this.options.drawType),this.drawingMode=this.options.drawingMode}},{key:"eventListener",value:function(e){var t=this;e.on("path:created",(function(e){var a=e.path;t.drawType===g.PEN&&a&&(console.log("自由绘图",a.toJSON()),a.id="line_"+Date.now(),t.emit(x.SHAP_ADD,n({id:a.id},a.toJSON())))})),e.on("text:changed",(function(a){var i=a.target;console.log("text:changed 文本更改",i),i.left+i.width>e.getWidth()&&(i.width=e.getWidth()-i.left,i.setOptions({width:e.getWidth()-i.left}),console.log("有效最大宽度",e.getWidth()-i.left,"越界宽度",i.width-e.getWidth()+i.left)),i.top+i.height>e.getHeight()&&(i.height=e.getHeight()-i.top,i.setOptions({height:e.getHeight()-i.top}),console.log("有效最大高度",e.getHeight()-i.top,"越界高度",i.height-e.getHeight()+i.top)),e.requestRenderAll(),t.emit(x.SHAP_UPDATE,[n({id:i.id},i.toJSON())])})),e.on("object:modified",(function(e){console.log("object:modified",e),t.activeObjectsUpdate()})),e.on("selection:updated",(function(e){var a=e.selected;console.log("selection:updated ----\x3e",a),t.updateSelectedStyle(a)})),e.on("selection:created",(function(e){var a=e.selected;if(console.log("selection:created",a),t.updateSelectedStyle(a),t.options.drawType===g.ERASER){var n=[];a.forEach((function(e){n.push({id:e.id}),t.remove(e)})),t.emit(x.SHAP_DELETE,n)}}))}},{key:"updateSelectedStyle",value:function(e){var t=this;e.forEach((function(e){e.setOptions({borderColor:t.options.borderColor,borderDashArray:t.options.borderDashArray,cornerColor:t.options.cornerColor,cornerStrokeColor:t.options.cornerStrokeColor,cornerDashArray:t.options.cornerDashArray,cornerSize:t.options.cornerSize,cornerStyle:t.options.cornerStyle,padding:t.options.padding})})),this.canvas.renderAll()}},{key:"setPaint",value:function(e){var t=this;this.options=u(this.options,e),console.log("___setPaint",this.options),this.canvas&&(this.canvas.selectionLineWidth=this.options.selectionLineWidth,this.canvas.selectionDashArray=this.options.selectionDashArray,this.canvas.selectionColor=this.options.selectionColor,this.canvas.selectionBorderColor=this.options.selectionBorderColor,this.canvas.freeDrawingBrush&&(this.canvas.freeDrawingBrush.color=this.options.stroke,this.canvas.freeDrawingBrush.width=this.options.strokeWidth),this.canvas.getActiveObjects().forEach((function(e){var a=n({},t.options);-1!=[g.ARROW,g.CIRCLE,g.ELLIPSE,g.SQUARE,g.RECTANGLE,g.RIGHTANGLE,g.TRIANGLE].indexOf(e.type)&&(a.fill="rgba(0, 0, 0, 0)"),g.TEXT==e.type&&(a.strokeWidth=1,a.fill=a.stroke,a.stroke=a.stroke),e.setOptions(a)})),this.canvas.renderAll(),this.emit(x.CHANGE_PAINT,this.options),this.activeObjectsUpdate())}},{key:"activeObjectsUpdate",value:function(){var e=[];this.canvas.getActiveObjects().forEach((function(t){var a=t.toJSON();e.push(n({id:t.id},a))})),e.length>0&&this.emit(x.SHAP_UPDATE,e)}},{key:"changeMode",value:function(e){var t=this;if(-1!=Object.values(g).indexOf(e)){if(this.options.drawType=e,this.canvas.toolbar){var a=this.canvas.toolbar.querySelectorAll("li");a.forEach((function(a){-1!=a.className.split(" ").indexOf(e)?-1==a.className.split(" ").indexOf("active")&&(a.className+=" active",t.emit(x.DRAW_TYPE,e)):a.className=a.className.replace(" active","")}))}if(this.options.writeMode){switch(this.canvas.selection=!1,e){case g.PEN:this.canvas.isDrawingMode=!0,this.canvas.skipTargetFind=!0;break;case g.SELECT:this.canvas.isDrawingMode=!1,this.canvas.skipTargetFind=!1;break;case g.ERASER:this.canvas.isDrawingMode=!1,this.canvas.skipTargetFind=!1,this.canvas.discardActiveObject();break;case g.TEXT:this.canvas.isDrawingMode=!1,this.canvas.skipTargetFind=!0,this.canvas.selection=!0,this.canvas.discardActiveObject();break;default:this.canvas.isDrawingMode=!1,this.canvas.skipTargetFind=!0,this.canvas.discardActiveObject();break}this.canvas.requestRenderAll()}}else this.emit(x.ERROR,"drawType","无效的工具类型")}},{key:"add",value:function(e,t,a){e&&(e.id=a||"shap_"+Date.now(),e.shapType=t,e.type=t,this.canvas.add(e))}},{key:"remove",value:function(e){e&&this.canvas.remove(e)}},{key:"removeById",value:function(e){var t=this;if(e){var a=this.canvas.getObjects();a.forEach((function(a){a.id===e&&t.remove(a)}))}}},{key:"createLine",value:function(e,t,a){return new l.Line([e.x,e.y,t.x,t.y],u({stroke:this.stroke,strokeWidth:this.strokeWidth,strokeLineJoin:"round"},a))}},{key:"createDottedline",value:function(e,t,a){return new l.Line([e.x,e.y,t.x,t.y],u({strokeDashArray:[this.strokeWidth,this.strokeWidth],stroke:this.stroke,strokeWidth:this.strokeWidth,strokeLineJoin:"round"},a))}},{key:"createArrow",value:function(e,t,a){return new l.Path(p(e,t),u({fill:"rgba(0,0,0,0)",stroke:this.options.stroke,strokeWidth:this.strokeWidth},a))}},{key:"createCircle",value:function(e,t,a){return new l.Circle(u({left:e.x,top:e.y,fill:"rgba(255, 255, 255, 0)",originX:"center",originY:"center",radius:b(e,t),stroke:this.stroke,strokeWidth:this.strokeWidth},a))}},{key:"createEllipse",value:function(e,t,a){return new l.Ellipse(u({left:(t.x-e.x)/2+e.x,top:(t.y-e.y)/2+e.y,fill:"rgba(255, 255, 255, 0)",originX:"center",originY:"center",rx:Math.abs(e.x-t.x),ry:Math.abs(e.y-t.y),stroke:this.stroke,strokeWidth:this.strokeWidth},a))}},{key:"createSquare",value:function(e,t,a){return new l.Path(m(e,t),u({left:t.x-(t.x-e.x)/2,top:t.y-(t.y-e.y)/2,fill:"rgba(255, 255, 255, 0)",originX:"center",originY:"center",stroke:this.stroke,strokeWidth:this.strokeWidth},a))}},{key:"createRectangle",value:function(e,t,a){return new l.Path(y(e,t),u({left:t.x-(t.x-e.x)/2,top:t.y-(t.y-e.y)/2,fill:"rgba(255, 255, 255, 0)",originX:"center",originY:"center",stroke:this.stroke,strokeWidth:this.strokeWidth},a))}},{key:"createRightangle",value:function(e,t,a){return new l.Path(f(e,t),u({left:t.x-(t.x-e.x)/2,top:t.y-(t.y-e.y)/2,fill:"rgba(255, 255, 255, 0)",originX:"center",originY:"center",stroke:this.stroke,strokeWidth:this.strokeWidth},a))}},{key:"createTriangle",value:function(e,t,a){var n=t.y-e.y;return new l.Triangle(u({left:e.x,top:e.y,fill:"rgba(255, 255, 255, 0)",originX:"center",originY:"center",width:Math.sqrt(Math.pow(n,2)+Math.pow(n/2,2)),height:n,stroke:this.stroke,strokeWidth:this.strokeWidth},a))}},{key:"createPath",value:function(e,t){return new l.Path(e,t)}},{key:"createTextBox",value:function(e,t,a,n){return new l.Textbox(a,u({fontSize:this.options.fontSize,left:e.x,top:e.y,fill:this.options.stroke,originX:"left",width:t.x-e.x,height:t.y-e.y,backgroundColor:"rgba(83, 168, 255, 0.35)",editingBorderColor:"rgb(83, 168, 255)",strokeWidth:10,breakWords:!0},n))}},{key:"createText",value:function(e,t){return new l.Textbox(e,u(t,{breakWords:!0}))}},{key:"setSize",value:function(e,t){this.canvas&&(this.canvas.setWidth(e),this.canvas.setHeight(t))}},{key:"toObject",value:function(){return this.canvas.isEmpty()?null:this.canvas.toObject()}},{key:"toJSON",value:function(){return this.canvas.isEmpty()?null:this.canvas.toJSON()}},{key:"toDatalessJSON",value:function(){return this.canvas.isEmpty()?null:this.canvas.toDatalessJSON()}},{key:"toSVG",value:function(e,t){return this.canvas.isEmpty()?null:this.canvas.toSVG(e,t)}},{key:"toDataURL",value:function(e){return this.canvas.isEmpty()?null:this.canvas.toDataURL(e)}},{key:"toString",value:function(){return this.canvas.toString()}},{key:"clear",value:function(){this.canvas&&this.canvas.clear()}},{key:"drawingMode",set:function(e){this.options.drawingMode=e,this.canvas&&(this.canvas.wrapperEl.style["pointer-events"]=e?"auto":"none",this.canvas.toolbar&&(this.canvas.toolbar.style.display=e?"":"none"))}},{key:"writeMode",set:function(e){this.options.writeMode=e,this.options.writeMode?(console.log("可以绘图,可以选择图形....."),this.changeMode(this.drawType)):(this.canvas.selection=!1,this.canvas.skipTargetFind=!0,this.canvas.isDrawingMode=!1,this.canvas.discardActiveObject(),this.canvas.renderAll(),console.log("禁止绘图.....")),this.canvas.requestRenderAll()}},{key:"drawType",get:function(){return this.options.drawType}},{key:"stroke",get:function(){return this.options.stroke}},{key:"strokeWidth",get:function(){return this.options.strokeWidth}}]),a}(h);e.exports={BaseCanvas:w,CanvasEvent:x,DrawType:g}},f5df3:function(e,t,a){}}]);