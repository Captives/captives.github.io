(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-47c62d13"],{"2e04":function(e,a,n){"use strict";n.r(a);var t=function(){var e=this,a=e.$createElement,n=e._self._c||a;return n("el-main",[n("el-header",[e._v("Shaka Player "),n("small",[e._v("dash/hls播放器")])]),n("url-input",{attrs:{list:e.$videoList},on:{change:e.changeHandler},model:{value:e.url,callback:function(a){e.url=a},expression:"url"}}),n("el-row",{ref:"videoContainer",staticClass:"videoContainer"},[n("video",{ref:"video",attrs:{autoplay:""}})]),n("p",[e._v("ffmpeg 自适应流")]),n("vue-code",[n("pre",{attrs:{lang:"bash"}},[e._v('# video streams\n$ ffmpeg -i bunny_1080p_60fps.mp4 -c:v libvpx-vp9 -s 160x90 -b:v 250k -keyint_min 150 -g 150 -an -f webm -dash 1 video_160x90_250k.webm\n\n$ ffmpeg -i bunny_1080p_60fps.mp4 -c:v libvpx-vp9 -s 320x180 -b:v 500k -keyint_min 150 -g 150 -an -f webm -dash 1 video_320x180_500k.webm\n\n$ ffmpeg -i bunny_1080p_60fps.mp4 -c:v libvpx-vp9 -s 640x360 -b:v 750k -keyint_min 150 -g 150 -an -f webm -dash 1 video_640x360_750k.webm\n\n$ ffmpeg -i bunny_1080p_60fps.mp4 -c:v libvpx-vp9 -s 640x360 -b:v 1000k -keyint_min 150 -g 150 -an -f webm -dash 1 video_640x360_1000k.webm\n\n$ ffmpeg -i bunny_1080p_60fps.mp4 -c:v libvpx-vp9 -s 1280x720 -b:v 1500k -keyint_min 150 -g 150 -an -f webm -dash 1 video_1280x720_1500k.webm\n\n# audio streams\n$ ffmpeg -i bunny_1080p_60fps.mp4 -c:a libvorbis -b:a 128k -vn -f webm -dash 1 audio_128k.webm\n\n$ ffmpeg -i bunny_1080p_60fps.mp4 -c:a libvorbis -b:a 320k -vn -f webm -dash 1 audio_320k.webm\n\n# the DASH manifest\n$ ffmpeg \\\n -f webm_dash_manifest -i video_160x90_250k.webm \\\n -f webm_dash_manifest -i video_320x180_500k.webm \\\n -f webm_dash_manifest -i video_640x360_750k.webm \\\n -f webm_dash_manifest -i video_640x360_1000k.webm \\\n -f webm_dash_manifest -i video_1280x720_1500k.webm \\\n -f webm_dash_manifest -i audio_128k.webm \\\n -f webm_dash_manifest -i audio_320k.webm \\\n -c copy -map 0 -map 1 -map 2 -map 3 -map 4 -map 5 -map 6 \\\n -f webm_dash_manifest \\\n -adaptation_sets "id=0,streams=0,1,2,3,4 id=1,streams=5,6" \\\n manifest.mpd\n      ')])]),n("p",[e._v("Dash.js")]),n("vue-code",[n("pre",{attrs:{lang:"js"}},[e._v('<body>\n  <video id="videoPlayer" controls></video>\n  ...\n  <script src="yourPathToDash/dash.all.min.js"><\/script> \n  \x3c!-- or debug --\x3e\n  <script src="yourPathToDash/dash.all.debug.js"><\/script> \n</body>\n\n<script>\n  var url = "https://dash.akamaized.net/envivio/EnvivioDash3/manifest.mpd";\n  var player = dashjs.MediaPlayer().create();\n  player.initialize(document.querySelector("#videoPlayer"), url, true);\n<\/script>\n      ')])])],1)},i=[],s=(n("b64b"),n("96cf"),n("1da1")),r=n("8682"),o=(n("bbab"),{name:"VueShakaPlayer",data:function(){return{url:null,player:null}},mounted:function(){console.log("播放示例列表, http://players.akamai.com/players"),console.log("ShakaPlayer",r),this.$videoList=[{label:"Dash 测试1",value:"https://dash.akamaized.net/dash264/TestCases/1c/qualcomm/2/MultiRate.mpd"},{label:"Dash 按需配置 ",value:"https://dash.akamaized.net/dash264/TestCases/1a/sony/SNE_DASH_SD_CASE1A_REVISED.mpd"},{label:"Dash 按需配置 ",value:"https://demo.unified-streaming.com/video/ateam/ateam.ism/ateam.mpd"},{label:"Dash 实时配置文件 ",value:"https://dash.akamaized.net/envivio/EnvivioDash3/manifest.mpd"},{label:"Dash 实时配置文件 最高4K",value:"https://dash.akamaized.net/akamai/bbb_30fps/bbb_30fps.mpd"},{label:"Dash live 1",value:"https://cph-msl.akamaized.net/dash/live/2003285/test/manifest.mpd"},{label:"Dash live 2 具有认证",value:"https://cph-msl-ta.akamaized.net/dash/live/2003285/test/manifest.mpd?hdnts=st=1576841519~exp=1892201519~acl=/*~hmac=2cd04fd6efa7c852ac45aa0866366879e485319f68cca2cf7ecfcc1463d8db0d"},{label:"HLS 测试1",value:"https://multiplatform-f.akamaihd.net/i/multi/april11/sintel/sintel-hd_,512x288_450_b,640x360_700_b,768x432_1000_b,1024x576_1400_m,.mp4.csmil/master.m3u8"},{label:"HLS 测试2",value:"https://cph-msl.akamaized.net/hls/live/2000341/test/master.m3u8"}]},methods:{init:function(e){r["polyfill"].installAll(),console.log("兼容性",r["Player"].isBrowserSupported()),r["Player"].isBrowserSupported()?this.initPlayer(e):console.error("Browser not supported!")},initPlayer2:function(e){var a=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var t,i,s,r,o,l,d,m;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return m=function(e){console.error("Unable to load the UI library!")},d=function(e){l(event.detail)},l=function(e){console.error("Error code",e.code,"object",e)},o=function(e){l(event.detail)},t=a.$refs.video,i=t["ui"],s=i.getControls(),r=s.getPlayer(),r.addEventListener("error",o),s.addEventListener("error",d),n.prev=10,n.next=13,r.load(e);case 13:console.log("The video has now been loaded!"),n.next=19;break;case 16:n.prev=16,n.t0=n["catch"](10),l(n.t0);case 19:document.addEventListener("shaka-ui-load-failed",m);case 20:case"end":return n.stop()}}),n,null,[[10,16]])})))()},initPlayer:function(e){var a=this.$refs.video;this.player=new r["Player"](a);var n=new r["ui"].Overlay(this.player,this.$refs.videoContainer.$el,a);n.configure({addSeekBar:!0,seekBarColors:{base:"rgba(255, 255, 255, 0.3)",buffered:"rgba(255, 255, 255, 0.54)",played:"rgb(255, 255, 255)",adBreaks:"rgb(255, 204, 0)"},controlPanelElements:["play_pause","time_and_duration","spacer","rewind","fast_forward","mute","fullscreen","overflow_menu","quality"],overflowMenuButtons:["captions","cast","quality","language","picture_in_picture","playback_rate","loop"]});var t=n.getControls();console.log("shaka.ui",Object.keys(r["ui"])),this.player.configure({drm:{servers:{"com.widevine.alpha":"https://widevine-proxy.appspot.com/proxy"}}}),t.addEventListener("error",(function(e){console.log(e.detail)})),this.player.load(e).then((function(){console.log("The video has now been loaded!")}))["catch"]((function(e){console.error("Error code",e.code,"object",e)}))},changeHandler:function(){this.init(this.url)}}}),l=o,d=(n("c938"),n("2877")),m=Object(d["a"])(l,t,i,!1,null,"5048771e",null);a["default"]=m.exports},3164:function(e,a,n){},c938:function(e,a,n){"use strict";var t=n("3164"),i=n.n(t);i.a}}]);