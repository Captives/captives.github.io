(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6e8c3c66"],{"50f8":function(t,e,i){},"863d":function(t,e,i){"use strict";var n=i("50f8"),r=i.n(n);r.a},eaaf:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-main",[i("el-row",{attrs:{gutter:20}},[i("el-col",{staticClass:"center",staticStyle:{height:"480px"},attrs:{xs:24,sm:24,md:12}},[i("el-divider",{attrs:{"content-position":"left"}},[t._v("编辑")]),i("div",{staticClass:"viewport"},[i("img",{ref:"imageElement",attrs:{src:"/assets/image.jpg"}})]),i("el-row",{staticClass:"center",staticStyle:{"padding-top":"2em"}},[i("el-button",{attrs:{icon:"el-icon-picture",type:"success",size:"mini"},on:{click:function(e){return t.setAspectRatio("4:3")}}},[t._v("4:3")]),i("el-button",{attrs:{icon:"el-icon-picture",type:"success",size:"mini"},on:{click:function(e){return t.setAspectRatio("1:1")}}},[t._v("1:1")]),i("el-button",{attrs:{icon:"el-icon-picture",type:"success",size:"mini"},on:{click:function(e){return t.setAspectRatio("2:3")}}},[t._v("2:3")]),i("el-button",{attrs:{icon:"el-icon-picture",type:"success",size:"mini"},on:{click:function(e){return t.setAspectRatio("16:9")}}},[t._v("16:9")]),i("el-button",{attrs:{icon:"el-icon-tickets",size:"mini",type:"primary"},on:{click:function(e){return t.setCropBoxWidthHander(800)}}},[t._v("800xAuto")]),i("el-button",{attrs:{icon:"el-icon-tickets",size:"mini",type:"primary"},on:{click:function(e){return t.setCropBoxWidthHander(400)}}},[t._v("400xAuto")])],1),i("el-row",{staticClass:"center",staticStyle:{"padding-top":"2em"}},[i("el-button",{attrs:{type:"primary",icon:"el-icon-refresh-left",size:"mini"},on:{click:function(e){return t.rotateHandler(90)}}}),i("el-button",{attrs:{type:"primary",icon:"el-icon-refresh-right",size:"mini"},on:{click:function(e){return t.rotateHandler(-90)}}}),i("el-button",{attrs:{type:"primary",icon:"el-icon-zoom-in",size:"mini"},on:{click:function(e){return t.changeScale(.2)}}}),i("el-button",{attrs:{type:"primary",icon:"el-icon-zoom-out",size:"mini"},on:{click:function(e){return t.changeScale(-.2)}}}),i("el-button",{attrs:{type:"primary",icon:"el-icon-back",size:"mini"},on:{click:function(e){return t.moveHandler(-10,0)}}}),i("el-button",{attrs:{type:"primary",icon:"el-icon-right",size:"mini"},on:{click:function(e){return t.moveHandler(10,0)}}}),i("el-button",{attrs:{type:"primary",icon:"el-icon-top",size:"mini"},on:{click:function(e){return t.moveHandler(0,-10)}}}),i("el-button",{attrs:{type:"primary",icon:"el-icon-bottom",size:"mini"},on:{click:function(e){return t.moveHandler(0,10)}}}),i("el-button",{staticClass:"vertical",attrs:{type:"primary",icon:"el-icon-sort",size:"mini"},on:{click:t.flipHHandler}}),i("el-button",{attrs:{type:"primary",icon:"el-icon-sort",size:"mini"},on:{click:t.flipVHandler}})],1),i("el-row",{staticClass:"center",staticStyle:{"padding-top":"2em"}},[i("input",{ref:"input",attrs:{type:"file",name:"image",hidden:"",accept:"image/*"},on:{change:t.fileChangeHandler}}),i("el-button",{attrs:{type:"primary",icon:"el-icon-picture"},on:{click:t.selectFileHandler}}),i("el-button",{attrs:{type:"primary",icon:"el-icon-delete"},on:{click:t.clearHandler}}),i("el-button",{attrs:{type:"primary",icon:"el-icon-refresh"},on:{click:t.resetHandler}}),i("el-button",{attrs:{type:"primary",icon:"el-icon-crop"},on:{click:t.previewHandler}})],1)],1),i("el-col",{staticClass:"center",attrs:{xs:24,sm:24,md:6}},[i("el-divider",{attrs:{"content-position":"left"}},[t._v("实时预览")]),i("div",{staticClass:"view-item",staticStyle:{height:"170px"}},[i("div",{staticClass:"img-preview preview-lg"}),i("div",{staticClass:"img-preview preview-md"}),i("div",{staticClass:"img-preview preview-sm"}),i("div",{staticClass:"img-preview preview-xs"})]),i("el-divider",{attrs:{"content-position":"left"}},[t._v("截图预览")]),i("div",{staticClass:"view-item"},[i("el-image",{staticClass:"view-item",attrs:{src:t.src}}),t._l(t.outputData,(function(e,n){return i("p",{key:"opt"+n},[t._v(t._s(n)+" : "+t._s(e))])}))],2)],1),i("el-col",{attrs:{xs:24,sm:24,md:6}},[i("el-divider",{attrs:{"content-position":"left"}},[t._v("Image Data")]),t._l(t.imageData,(function(e,n){return i("p",{key:"img"+n},[t._v(t._s(n)+" : "+t._s(t._f("fixed2")(e)))])})),i("el-divider",{attrs:{"content-position":"left"}},[t._v("Canvas Data")]),t._l(t.canvasData,(function(e,n){return i("p",{key:"cav"+n},[t._v(t._s(n)+" : "+t._s(t._f("fixed2")(e)))])})),i("el-divider",{attrs:{"content-position":"left"}},[t._v("CropBox Data")]),t._l(t.cropBoxData,(function(e,n){return i("p",{key:"crop"+n},[t._v(t._s(n)+" : "+t._s(t._f("fixed2")(e)))])}))],2),i("source-code",{attrs:{value:[{value:"guide/views/web/VueCropperjs.vue",lang:"html"}]}},[t._v("查看源码")])],1)],1)},r=[],o=(i("ac1f"),i("5319"),i("1276"),i("6107"),i("bab4")),a=i.n(o),c=i("f77c"),s={name:"VueCropperjs",data:function(){return{src:null,scaleX:1,scaleY:1,cropper:null,imageData:{},canvasData:{},cropBoxData:{},outputData:{}}},filters:{fixed2:function(t){return~~(100*t)/100}},methods:{selectFileHandler:function(t){this.$refs.input.click()},fileChangeHandler:function(t){var e=this;console.log(t);var i=t.target.files[0];if("function"===typeof FileReader){var n=new FileReader;n.onload=function(t){e.imgSrc=t.target.result,e.cropper.replace(t.target.result)},n.readAsDataURL(i)}else alert("Sorry, FileReader API not supported")},clearHandler:function(){this.cropper.clear()},setAspectRatio:function(t){var e=t.split(":");this.cropper.setAspectRatio(e[0]/e[1])},rotateHandler:function(t){this.cropper.rotate(t)},changeScale:function(t){this.cropper.zoom(t)},moveHandler:function(t,e){this.cropper.move(t,e)},flipHHandler:function(){this.scaleX=-this.scaleX,this.cropper.scale(this.scaleX,this.scaleY)},flipVHandler:function(){this.scaleY=-this.scaleY,this.cropper.scale(this.scaleX,this.scaleY)},setCropBoxWidthHander:function(t){var e=this.cropper.getCropBoxData();e.width=t,this.cropper.setCropBoxData(e)},previewHandler:function(){var t=this.cropper.getCroppedCanvas();this.src=t.toDataURL(),this.outputData={width:t.getAttribute("width"),height:t.getAttribute("height"),size:Object(c["a"])(Object(c["b"])(this.src))}},previewImageHandler:function(){this.imageData=this.cropper.getImageData(),this.canvasData=this.cropper.getCanvasData(),this.cropBoxData=this.cropper.getCropBoxData()},resetHandler:function(){this.cropper.reset()}},mounted:function(){var t=this;this.cropper=new a.a(this.$refs.imageElement,{aspectRatio:16/9,viewMode:1,dragMode:"move",preview:".img-preview",movable:!0,guides:!1,center:!1,autoCrop:!1,zoomOnWheel:!0,background:!0,rotatable:!0,ready:function(){console.log("image loaded"),t.cropper.crop()},cropstart:function(t){console.log(t.type,t.detail.action)},cropmove:function(t){console.log(t.type,t.detail.action)},cropend:function(e){console.log(e.type,e.detail.action),t.previewHandler()},crop:function(e){t.previewImageHandler()}})}},l=s,p=(i("863d"),i("2877")),u=Object(p["a"])(l,n,r,!1,null,"43dea87a",null);e["default"]=u.exports}}]);