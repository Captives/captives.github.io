(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4bf1c3ae"],{"0b25":function(t,e,r){var n=r("a691"),o=r("50c4");t.exports=function(t){if(void 0===t)return 0;var e=n(t),r=o(e);if(e!==r)throw RangeError("Wrong length or index");return r}},"145e":function(t,e,r){"use strict";var n=r("7b0b"),o=r("23cb"),i=r("50c4"),a=Math.min;t.exports=[].copyWithin||function(t,e){var r=n(this),c=i(r.length),s=o(t,c),u=o(e,c),f=arguments.length>2?arguments[2]:void 0,l=a((void 0===f?c:o(f,c))-u,c-s),d=1;u<s&&s<u+l&&(d=-1,u+=l-1,s+=l-1);while(l-- >0)u in r?r[s]=r[u]:delete r[s],s+=d,u+=d;return r}},"166a":function(t,e,r){var n=r("da84"),o=r("d039"),i=r("1c7e"),a=r("ebb5").NATIVE_ARRAY_BUFFER_VIEWS,c=n.ArrayBuffer,s=n.Int8Array;t.exports=!a||!o((function(){s(1)}))||!o((function(){new s(-1)}))||!i((function(t){new s,new s(null),new s(1.5),new s(t)}),!0)||o((function(){return 1!==new s(new c(2),1,void 0).length}))},"170b":function(t,e,r){"use strict";var n=r("ebb5"),o=r("50c4"),i=r("23cb"),a=r("4840"),c=n.aTypedArray;n.exportProto("subarray",(function(t,e){var r=c(this),n=r.length,s=i(t,n);return new(a(r,r.constructor))(r.buffer,r.byteOffset+s*r.BYTES_PER_ELEMENT,o((void 0===e?n:i(e,n))-s))}))},"182d":function(t,e,r){var n=r("f8cd");t.exports=function(t,e){var r=n(t);if(r%e)throw RangeError("Wrong offset");return r}},"1dde":function(t,e,r){var n=r("d039"),o=r("b622"),i=r("60ae"),a=o("species");t.exports=function(t){return i>=51||!n((function(){var e=[],r=e.constructor={};return r[a]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"1f93":function(t,e,r){},"219c":function(t,e,r){"use strict";var n=r("ebb5"),o=n.aTypedArray,i=[].sort;n.exportProto("sort",(function(t){return i.call(o(this),t)}))},"25a1":function(t,e,r){"use strict";var n=r("ebb5"),o=r("d58f").right,i=n.aTypedArray;n.exportProto("reduceRight",(function(t){return o(i(this),t,arguments.length,arguments.length>1?arguments[1]:void 0)}))},2954:function(t,e,r){"use strict";var n=r("ebb5"),o=r("4840"),i=r("d039"),a=n.aTypedArray,c=n.aTypedArrayConstructor,s=[].slice,u=i((function(){new Int8Array(1).slice()}));n.exportProto("slice",(function(t,e){var r=s.call(a(this),t,e),n=o(this,this.constructor),i=0,u=r.length,f=new(c(n))(u);while(u>i)f[i]=r[i++];return f}),u)},3280:function(t,e,r){"use strict";var n=r("ebb5"),o=r("e58c"),i=n.aTypedArray;n.exportProto("lastIndexOf",(function(t){return o.apply(i(this),arguments)}))},"372b":function(t,e,r){"use strict";var n=r("aba2"),o=r.n(n);o.a},"37d3":function(t,e,r){"use strict";var n=r("1f93"),o=r.n(n);o.a},"3a7b":function(t,e,r){"use strict";var n=r("ebb5"),o=r("b727").findIndex,i=n.aTypedArray;n.exportProto("findIndex",(function(t){return o(i(this),t,arguments.length>1?arguments[1]:void 0)}))},"3c5d":function(t,e,r){"use strict";var n=r("ebb5"),o=r("50c4"),i=r("182d"),a=r("7b0b"),c=r("d039"),s=n.aTypedArray,u=c((function(){new Int8Array(1).set({})}));n.exportProto("set",(function(t){s(this);var e=i(arguments.length>1?arguments[1]:void 0,1),r=this.length,n=a(t),c=o(n.length),u=0;if(c+e>r)throw RangeError("Wrong length");while(u<c)this[e+u]=n[u++]}),u)},"3fcc":function(t,e,r){"use strict";var n=r("ebb5"),o=r("b727").map,i=r("4840"),a=n.aTypedArray,c=n.aTypedArrayConstructor;n.exportProto("map",(function(t){return o(a(this),t,arguments.length>1?arguments[1]:void 0,(function(t,e){return new(c(i(t,t.constructor)))(e)}))}))},"5cc6":function(t,e,r){var n=r("74e8");n("Uint8",1,(function(t){return function(e,r,n){return t(this,e,r,n)}}))},"5f96":function(t,e,r){"use strict";var n=r("ebb5"),o=n.aTypedArray,i=[].join;n.exportProto("join",(function(t){return i.apply(o(this),arguments)}))},"60bd":function(t,e,r){"use strict";var n=r("da84"),o=r("ebb5"),i=r("e260"),a=r("b622"),c=a("iterator"),s=n.Uint8Array,u=i.values,f=i.keys,l=i.entries,d=o.aTypedArray,h=o.exportProto,y=s&&s.prototype[c],b=!!y&&("values"==y.name||void 0==y.name),p=function(){return u.call(d(this))};h("entries",(function(){return l.call(d(this))})),h("keys",(function(){return f.call(d(this))})),h("values",p,!b),h(c,p,!b)},"621a":function(t,e,r){"use strict";var n=r("da84"),o=r("83ab"),i=r("ebb5").NATIVE_ARRAY_BUFFER,a=r("9112"),c=r("e2cc"),s=r("d039"),u=r("19aa"),f=r("a691"),l=r("50c4"),d=r("0b25"),h=r("241c").f,y=r("9bf2").f,b=r("81d5"),p=r("d44e"),v=r("69f3"),g=v.get,w=v.set,A="ArrayBuffer",m="DataView",x="prototype",T="Wrong length",_="Wrong index",S=n[A],C=S,E=n[m],k=n.Math,I=n.RangeError,P=1/0,R=k.abs,B=k.pow,U=k.floor,V=k.log,D=k.LN2,L=function(t,e,r){var n,o,i,a=new Array(r),c=8*r-e-1,s=(1<<c)-1,u=s>>1,f=23===e?B(2,-24)-B(2,-77):0,l=t<0||0===t&&1/t<0?1:0,d=0;for(t=R(t),t!=t||t===P?(o=t!=t?1:0,n=s):(n=U(V(t)/D),t*(i=B(2,-n))<1&&(n--,i*=2),t+=n+u>=1?f/i:f*B(2,1-u),t*i>=2&&(n++,i/=2),n+u>=s?(o=0,n=s):n+u>=1?(o=(t*i-1)*B(2,e),n+=u):(o=t*B(2,u-1)*B(2,e),n=0));e>=8;a[d++]=255&o,o/=256,e-=8);for(n=n<<e|o,c+=e;c>0;a[d++]=255&n,n/=256,c-=8);return a[--d]|=128*l,a},O=function(t,e){var r,n=t.length,o=8*n-e-1,i=(1<<o)-1,a=i>>1,c=o-7,s=n-1,u=t[s--],f=127&u;for(u>>=7;c>0;f=256*f+t[s],s--,c-=8);for(r=f&(1<<-c)-1,f>>=-c,c+=e;c>0;r=256*r+t[s],s--,c-=8);if(0===f)f=1-a;else{if(f===i)return r?NaN:u?-P:P;r+=B(2,e),f-=a}return(u?-1:1)*r*B(2,f-e)},F=function(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]},q=function(t){return[255&t]},M=function(t){return[255&t,t>>8&255]},W=function(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]},Y=function(t){return L(t,23,4)},N=function(t){return L(t,52,8)},j=function(t,e){y(t[x],e,{get:function(){return g(this)[e]}})},$=function(t,e,r,n){var o=+r,i=d(o),a=g(t);if(i+e>a.byteLength)throw I(_);var c=g(a.buffer).bytes,s=i+a.byteOffset,u=c.slice(s,s+e);return n?u:u.reverse()},z=function(t,e,r,n,o,i){var a=+r,c=d(a),s=g(t);if(c+e>s.byteLength)throw I(_);for(var u=g(s.buffer).bytes,f=c+s.byteOffset,l=n(+o),h=0;h<e;h++)u[f+h]=l[i?h:e-h-1]};if(i){if(!s((function(){S(1)}))||!s((function(){new S(-1)}))||s((function(){return new S,new S(1.5),new S(NaN),S.name!=A}))){C=function(t){return u(this,C),new S(d(t))};for(var G,J=C[x]=S[x],H=h(S),K=0;H.length>K;)(G=H[K++])in C||a(C,G,S[G]);J.constructor=C}var Q=new E(new C(2)),X=E[x].setInt8;Q.setInt8(0,2147483648),Q.setInt8(1,2147483649),!Q.getInt8(0)&&Q.getInt8(1)||c(E[x],{setInt8:function(t,e){X.call(this,t,e<<24>>24)},setUint8:function(t,e){X.call(this,t,e<<24>>24)}},{unsafe:!0})}else C=function(t){u(this,C,A);var e=d(t);w(this,{bytes:b.call(new Array(e),0),byteLength:e}),o||(this.byteLength=e)},E=function(t,e,r){u(this,E,m),u(t,C,m);var n=g(t).byteLength,i=f(e);if(i<0||i>n)throw I("Wrong offset");if(r=void 0===r?n-i:l(r),i+r>n)throw I(T);w(this,{buffer:t,byteLength:r,byteOffset:i}),o||(this.buffer=t,this.byteLength=r,this.byteOffset=i)},o&&(j(C,"byteLength"),j(E,"buffer"),j(E,"byteLength"),j(E,"byteOffset")),c(E[x],{getInt8:function(t){return $(this,1,t)[0]<<24>>24},getUint8:function(t){return $(this,1,t)[0]},getInt16:function(t){var e=$(this,2,t,arguments.length>1?arguments[1]:void 0);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=$(this,2,t,arguments.length>1?arguments[1]:void 0);return e[1]<<8|e[0]},getInt32:function(t){return F($(this,4,t,arguments.length>1?arguments[1]:void 0))},getUint32:function(t){return F($(this,4,t,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(t){return O($(this,4,t,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(t){return O($(this,8,t,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(t,e){z(this,1,t,q,e)},setUint8:function(t,e){z(this,1,t,q,e)},setInt16:function(t,e){z(this,2,t,M,e,arguments.length>2?arguments[2]:void 0)},setUint16:function(t,e){z(this,2,t,M,e,arguments.length>2?arguments[2]:void 0)},setInt32:function(t,e){z(this,4,t,W,e,arguments.length>2?arguments[2]:void 0)},setUint32:function(t,e){z(this,4,t,W,e,arguments.length>2?arguments[2]:void 0)},setFloat32:function(t,e){z(this,4,t,Y,e,arguments.length>2?arguments[2]:void 0)},setFloat64:function(t,e){z(this,8,t,N,e,arguments.length>2?arguments[2]:void 0)}});p(C,A),p(E,m),t.exports={ArrayBuffer:C,DataView:E}},"649e":function(t,e,r){"use strict";var n=r("ebb5"),o=r("b727").some,i=n.aTypedArray;n.exportProto("some",(function(t){return o(i(this),t,arguments.length>1?arguments[1]:void 0)}))},7156:function(t,e,r){var n=r("861d"),o=r("d2bb");t.exports=function(t,e,r){var i,a;return o&&"function"==typeof(i=e.constructor)&&i!==r&&n(a=i.prototype)&&a!==r.prototype&&o(t,a),t}},"72f7":function(t,e,r){"use strict";var n=r("da84"),o=r("ebb5"),i=r("d039"),a=n.Uint8Array,c=a&&a.prototype,s=[].toString,u=[].join;i((function(){s.call({})}))&&(s=function(){return u.call(this)}),o.exportProto("toString",s,(c||{}).toString!=s)},"735e":function(t,e,r){"use strict";var n=r("ebb5"),o=r("81d5"),i=n.aTypedArray;n.exportProto("fill",(function(t){return o.apply(i(this),arguments)}))},"74e8":function(t,e,r){"use strict";var n=r("23e7"),o=r("da84"),i=r("83ab"),a=r("166a"),c=r("ebb5"),s=r("621a"),u=r("19aa"),f=r("5c6c"),l=r("9112"),d=r("50c4"),h=r("0b25"),y=r("182d"),b=r("c04e"),p=r("5135"),v=r("f5df"),g=r("861d"),w=r("7c73"),A=r("d2bb"),m=r("241c").f,x=r("a078"),T=r("b727").forEach,_=r("2626"),S=r("9bf2"),C=r("06cf"),E=r("69f3"),k=r("7156"),I=E.get,P=E.set,R=S.f,B=C.f,U=Math.round,V=o.RangeError,D=s.ArrayBuffer,L=s.DataView,O=c.NATIVE_ARRAY_BUFFER_VIEWS,F=c.TYPED_ARRAY_TAG,q=c.TypedArray,M=c.TypedArrayPrototype,W=c.aTypedArrayConstructor,Y=c.isTypedArray,N="BYTES_PER_ELEMENT",j="Wrong length",$=function(t,e){var r=0,n=e.length,o=new(W(t))(n);while(n>r)o[r]=e[r++];return o},z=function(t,e){R(t,e,{get:function(){return I(this)[e]}})},G=function(t){var e;return t instanceof D||"ArrayBuffer"==(e=v(t))||"SharedArrayBuffer"==e},J=function(t,e){return Y(t)&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},H=function(t,e){return J(t,e=b(e,!0))?f(2,t[e]):B(t,e)},K=function(t,e,r){return!(J(t,e=b(e,!0))&&g(r)&&p(r,"value"))||p(r,"get")||p(r,"set")||r.configurable||p(r,"writable")&&!r.writable||p(r,"enumerable")&&!r.enumerable?R(t,e,r):(t[e]=r.value,t)};i?(O||(C.f=H,S.f=K,z(M,"buffer"),z(M,"byteOffset"),z(M,"byteLength"),z(M,"length")),n({target:"Object",stat:!0,forced:!O},{getOwnPropertyDescriptor:H,defineProperty:K}),t.exports=function(t,e,r,i){var c=t+(i?"Clamped":"")+"Array",s="get"+t,f="set"+t,b=o[c],p=b,v=p&&p.prototype,S={},C=function(t,r){var n=I(t);return n.view[s](r*e+n.byteOffset,!0)},E=function(t,r,n){var o=I(t);i&&(n=(n=U(n))<0?0:n>255?255:255&n),o.view[f](r*e+o.byteOffset,n,!0)},B=function(t,e){R(t,e,{get:function(){return C(this,e)},set:function(t){return E(this,e,t)},enumerable:!0})};O?a&&(p=r((function(t,r,n,o){return u(t,p,c),k(function(){return g(r)?G(r)?void 0!==o?new b(r,y(n,e),o):void 0!==n?new b(r,y(n,e)):new b(r):Y(r)?$(p,r):x.call(p,r):new b(h(r))}(),t,p)})),A&&A(p,q),T(m(b),(function(t){t in p||l(p,t,b[t])})),p.prototype=v):(p=r((function(t,r,n,o){u(t,p,c);var i,a,s,f=0,l=0;if(g(r)){if(!G(r))return Y(r)?$(p,r):x.call(p,r);i=r,l=y(n,e);var b=r.byteLength;if(void 0===o){if(b%e)throw V(j);if(a=b-l,a<0)throw V(j)}else if(a=d(o)*e,a+l>b)throw V(j);s=a/e}else s=h(r),a=s*e,i=new D(a);P(t,{buffer:i,byteOffset:l,byteLength:a,length:s,view:new L(i)});while(f<s)B(t,f++)})),A&&A(p,q),v=p.prototype=w(M)),v.constructor!==p&&l(v,"constructor",p),F&&l(v,F,c),S[c]=p,n({global:!0,forced:p!=b,sham:!O},S),N in p||l(p,N,e),N in v||l(v,N,e),_(c)}):t.exports=function(){}},7775:function(t,e,r){"use strict";var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("el-table",{attrs:{data:t.tableData,stripe:""}},[r("el-table-column",{attrs:{label:"媒体流ID",align:"center"}},[r("el-table-column",{attrs:{label:"名称",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.label.substr(0,8))+"...")]}}])})],1),r("el-table-column",{attrs:{label:t.value&&t.value.id}},[r("el-table-column",{attrs:{prop:"kind",label:"类型",align:"center"}}),r("el-table-column",{attrs:{label:"id",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.id.substr(0,8))+"...")]}}])}),r("el-table-column",{attrs:{label:"state",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.readyState))]}}])}),r("el-table-column",{attrs:{label:"enabled",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.enabled))]}}])}),r("el-table-column",{attrs:{label:"muted",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.muted))]}}])}),t.edited?r("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"移除轨道",placement:"left"}},[r("el-link",{staticClass:"el-icon-minus",on:{click:function(r){return t.removeTrack(e.row)}}})],1)]}}],null,!1,3439156443)}):t._e(),r("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-main",{staticClass:"table-expand"},[r("el-row",[r("h4",[t._v("Base:")]),r("el-col",{attrs:{span:12}},[t._v("label: "+t._s(e.row.label))]),r("el-col",{attrs:{span:12}},[t._v("ID: "+t._s(e.row.id))])],1),r("el-row",[r("h4",[t._v("Constraints:")]),t._l(e.row.getConstraints(),(function(e,n){return r("el-col",{key:n,attrs:{span:12}},[t._v(t._s(n)+" : "+t._s(e))])}))],2),r("el-row",[r("h4",[t._v("Settings:")]),t._l(e.row.getSettings(),(function(e,n){return r("el-col",{key:n,attrs:{span:12}},[t._v(t._s(n)+" : "+t._s(e))])}))],2),r("el-row",[r("h4",[t._v("Capabilities:")]),t._l(e.row.getCapabilities(),(function(e,n){return r("el-col",{key:n,attrs:{span:12}},[t._v(t._s(n)+" : "+t._s(e))])}))],2)],1)]}}])})],1)],1)},o=[],i=(r("99af"),{name:"StreamTracks",props:{value:{type:MediaStream,default:null},edited:{type:Boolean,default:!1}},data:function(){return{id:null,tableData:[]}},watch:{value:function(t){this.id=t.id,this.tableData=[],this.tableData=this.tableData.concat(t.getVideoTracks(),t.getAudioTracks())}},methods:{removeTrack:function(t){this.value&&(t.stop(),this.value.removeTrack(t),console.log("remove track id",t.label,t.id),this.$emit("input",this.value))}}}),a=i,c=(r("37d3"),r("2877")),s=Object(c["a"])(a,n,o,!1,null,"82e6b8c4",null);e["a"]=s.exports},"81d5":function(t,e,r){"use strict";var n=r("7b0b"),o=r("23cb"),i=r("50c4");t.exports=function(t){var e=n(this),r=i(e.length),a=arguments.length,c=o(a>1?arguments[1]:void 0,r),s=a>2?arguments[2]:void 0,u=void 0===s?r:o(s,r);while(u>c)e[c++]=t;return e}},"82f8":function(t,e,r){"use strict";var n=r("ebb5"),o=r("4d64").includes,i=n.aTypedArray;n.exportProto("includes",(function(t){return o(i(this),t,arguments.length>1?arguments[1]:void 0)}))},8418:function(t,e,r){"use strict";var n=r("c04e"),o=r("9bf2"),i=r("5c6c");t.exports=function(t,e,r){var a=n(e);a in t?o.f(t,a,i(0,r)):t[a]=r}},"99af":function(t,e,r){"use strict";var n=r("23e7"),o=r("d039"),i=r("e8b5"),a=r("861d"),c=r("7b0b"),s=r("50c4"),u=r("8418"),f=r("65f0"),l=r("1dde"),d=r("b622"),h=r("60ae"),y=d("isConcatSpreadable"),b=9007199254740991,p="Maximum allowed index exceeded",v=h>=51||!o((function(){var t=[];return t[y]=!1,t.concat()[0]!==t})),g=l("concat"),w=function(t){if(!a(t))return!1;var e=t[y];return void 0!==e?!!e:i(t)},A=!v||!g;n({target:"Array",proto:!0,forced:A},{concat:function(t){var e,r,n,o,i,a=c(this),l=f(a,0),d=0;for(e=-1,n=arguments.length;e<n;e++)if(i=-1===e?a:arguments[e],w(i)){if(o=s(i.length),d+o>b)throw TypeError(p);for(r=0;r<o;r++,d++)r in i&&u(l,d,i[r])}else{if(d>=b)throw TypeError(p);u(l,d++,i)}return l.length=d,l}})},"9a8c":function(t,e,r){"use strict";var n=r("ebb5"),o=r("145e"),i=n.aTypedArray;n.exportProto("copyWithin",(function(t,e){return o.call(i(this),t,e,arguments.length>2?arguments[2]:void 0)}))},a078:function(t,e,r){var n=r("7b0b"),o=r("50c4"),i=r("35a1"),a=r("e95a"),c=r("f8c2"),s=r("ebb5").aTypedArrayConstructor;t.exports=function(t){var e,r,u,f,l,d,h=n(t),y=arguments.length,b=y>1?arguments[1]:void 0,p=void 0!==b,v=i(h);if(void 0!=v&&!a(v)){l=v.call(h),d=l.next,h=[];while(!(f=d.call(l)).done)h.push(f.value)}for(p&&y>2&&(b=c(b,arguments[2],2)),r=o(h.length),u=new(s(this))(r),e=0;r>e;e++)u[e]=p?b(h[e],e):h[e];return u}},a975:function(t,e,r){"use strict";var n=r("ebb5"),o=r("b727").every,i=n.aTypedArray;n.exportProto("every",(function(t){return o(i(this),t,arguments.length>1?arguments[1]:void 0)}))},aba2:function(t,e,r){},ace4:function(t,e,r){"use strict";var n=r("23e7"),o=r("d039"),i=r("621a"),a=r("825a"),c=r("23cb"),s=r("50c4"),u=r("4840"),f=i.ArrayBuffer,l=i.DataView,d=f.prototype.slice,h=o((function(){return!new f(2).slice(1,void 0).byteLength}));n({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:h},{slice:function(t,e){if(void 0!==d&&void 0===e)return d.call(a(this),t);var r=a(this).byteLength,n=c(t,r),o=c(void 0===e?r:e,r),i=new(u(this,f))(s(o-n)),h=new l(this),y=new l(i),b=0;while(n<o)y.setUint8(b++,h.getUint8(n++));return i}})},af4b:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("el-main",{staticClass:"center"},[r("el-row",{attrs:{gutter:50}},[r("el-col",{staticClass:"center",attrs:{xs:24,sm:24,md:12}},[r("el-divider",{attrs:{"content-position":"left"}},[t._v("Camera")]),r("video",{ref:"localVideo",staticClass:"video-item",attrs:{autoplay:""}})],1),r("el-col",{staticClass:"center",attrs:{xs:24,sm:24,md:12}},[r("el-divider",{attrs:{"content-position":"left"}},[t._v("Audio Spectrum")]),r("canvas",{ref:"canvas",staticClass:"video-item"})],1)],1),r("StreamTracks",{model:{value:t.localStream,callback:function(e){t.localStream=e},expression:"localStream"}}),t.error?r("el-tag",{staticClass:"error",attrs:{type:"danger"}},[t._v(t._s(t.error))]):t._e(),r("vue-source",{attrs:{src:"/webrtc/views/webrtc/MediaStreamVisualizer.vue",lang:"html"}})],1)},o=[],i=(r("4160"),r("159b"),r("7775")),a=(r("ace4"),r("d3b7"),r("5cc6"),r("9a8c"),r("a975"),r("735e"),r("c1ac"),r("d139"),r("3a7b"),r("d5d6"),r("82f8"),r("e91f"),r("60bd"),r("5f96"),r("3280"),r("3fcc"),r("ca91"),r("25a1"),r("cd26"),r("3c5d"),r("2954"),r("649e"),r("219c"),r("170b"),r("b39a9"),r("72f7"),308),c=231,s=.8,u=2048;function f(t,e){console.log("Creating StreamVisualizer with stream and canvas: ",t,e),this.canvas=e,this.drawContext=this.canvas.getContext("2d"),"function"===typeof AudioContext?this.context=new AudioContext:"function"===typeof webkitAudioContext?this.context=new webkitAudioContext:alert("Sorry! Web Audio is not supported by this browser"),this.source=this.context.createMediaStreamSource(t),console.log("Created Web Audio source from remote stream: ",this.source),this.analyser=this.context.createAnalyser(),this.analyser.minDecibels=-140,this.analyser.maxDecibels=0,this.freqs=new Uint8Array(this.analyser.frequencyBinCount),this.times=new Uint8Array(this.analyser.frequencyBinCount),this.source.connect(this.analyser),this.startTime=0,this.startOffset=0}f.prototype.start=function(){requestAnimationFrame(this.draw.bind(this))},f.prototype.draw=function(){this.analyser.smoothingTimeConstant=s,this.analyser.fftSize=u,this.analyser.getByteFrequencyData(this.freqs),this.analyser.getByteTimeDomainData(this.times),this.canvas.width=a,this.canvas.height=c;for(var t=0;t<this.analyser.frequencyBinCount;t++){var e=this.freqs[t],r=e/256,n=c*r,o=c-n-1,i=a/this.analyser.frequencyBinCount,f=t/this.analyser.frequencyBinCount*360;this.drawContext.fillStyle="hsl("+f+", 100%, 50%)",this.drawContext.fillRect(t*i,o,i,n)}for(t=0;t<this.analyser.frequencyBinCount;t++)e=this.times[t],r=e/256,n=c*r,o=c-n-1,i=a/this.analyser.frequencyBinCount,this.drawContext.fillStyle="white",this.drawContext.fillRect(t*i,o,1,2);requestAnimationFrame(this.draw.bind(this))},f.prototype.getFrequencyValue=function(t){var e=this.context.sampleRate/2,r=Math.round(t/e*this.freqs.length);return this.freqs[r]};var l=f,d={name:"MediaStreamVisualizer",components:{StreamTracks:i["a"]},data:function(){return{localStream:null,options:{audio:!0,video:{width:{exact:720},height:{exact:405}}},error:null}},methods:{init:function(){var t=this,e=this,r=this.$refs.localVideo;navigator.mediaDevices.getUserMedia(this.options).then((function(e){t.localStream=e,e.oninactive=function(){console.log("Stream inactive")},r.onloadedmetadata=function(t){console.log("AudioTracks",e.getAudioTracks()),console.log("VideoTracks",e.getVideoTracks())},r.srcObject=e;var n=new l(e,t.$refs.canvas);n.start()}))["catch"]((function(t){e.error=t,console.log("navigator.getUserMedia error: ",t)}))}},mounted:function(){this.init()},destroyed:function(){this.localStream&&this.localStream.getTracks().forEach((function(t){t.stop()}))}},h=d,y=(r("372b"),r("2877")),b=Object(y["a"])(h,n,o,!1,null,"7d6f8580",null);e["default"]=b.exports},b39a9:function(t,e,r){"use strict";var n=r("da84"),o=r("ebb5"),i=r("d039"),a=n.Int8Array,c=o.aTypedArray,s=[].toLocaleString,u=[].slice,f=!!a&&i((function(){s.call(new a(1))})),l=i((function(){return[1,2].toLocaleString()!=new a([1,2]).toLocaleString()}))||!i((function(){a.prototype.toLocaleString.call([1,2])}));o.exportProto("toLocaleString",(function(){return s.apply(f?u.call(c(this)):c(this),arguments)}),l)},c1ac:function(t,e,r){"use strict";var n=r("ebb5"),o=r("b727").filter,i=r("4840"),a=n.aTypedArray,c=n.aTypedArrayConstructor;n.exportProto("filter",(function(t){var e=o(a(this),t,arguments.length>1?arguments[1]:void 0),r=i(this,this.constructor),n=0,s=e.length,u=new(c(r))(s);while(s>n)u[n]=e[n++];return u}))},ca91:function(t,e,r){"use strict";var n=r("ebb5"),o=r("d58f").left,i=n.aTypedArray;n.exportProto("reduce",(function(t){return o(i(this),t,arguments.length,arguments.length>1?arguments[1]:void 0)}))},cd26:function(t,e,r){"use strict";var n=r("ebb5"),o=n.aTypedArray,i=Math.floor;n.exportProto("reverse",(function(){var t,e=this,r=o(e).length,n=i(r/2),a=0;while(a<n)t=e[a],e[a++]=e[--r],e[r]=t;return e}))},d139:function(t,e,r){"use strict";var n=r("ebb5"),o=r("b727").find,i=n.aTypedArray;n.exportProto("find",(function(t){return o(i(this),t,arguments.length>1?arguments[1]:void 0)}))},d58f:function(t,e,r){var n=r("1c0b"),o=r("7b0b"),i=r("44ad"),a=r("50c4"),c=function(t){return function(e,r,c,s){n(r);var u=o(e),f=i(u),l=a(u.length),d=t?l-1:0,h=t?-1:1;if(c<2)while(1){if(d in f){s=f[d],d+=h;break}if(d+=h,t?d<0:l<=d)throw TypeError("Reduce of empty array with no initial value")}for(;t?d>=0:l>d;d+=h)d in f&&(s=r(s,f[d],d,u));return s}};t.exports={left:c(!1),right:c(!0)}},d5d6:function(t,e,r){"use strict";var n=r("ebb5"),o=r("b727").forEach,i=n.aTypedArray;n.exportProto("forEach",(function(t){o(i(this),t,arguments.length>1?arguments[1]:void 0)}))},e91f:function(t,e,r){"use strict";var n=r("ebb5"),o=r("4d64").indexOf,i=n.aTypedArray;n.exportProto("indexOf",(function(t){return o(i(this),t,arguments.length>1?arguments[1]:void 0)}))},ebb5:function(t,e,r){"use strict";var n,o=r("83ab"),i=r("da84"),a=r("861d"),c=r("5135"),s=r("f5df"),u=r("9112"),f=r("6eeb"),l=r("9bf2").f,d=r("e163"),h=r("d2bb"),y=r("b622"),b=r("90e3"),p=i.DataView,v=p&&p.prototype,g=i.Int8Array,w=g&&g.prototype,A=i.Uint8ClampedArray,m=A&&A.prototype,x=g&&d(g),T=w&&d(w),_=Object.prototype,S=_.isPrototypeOf,C=y("toStringTag"),E=b("TYPED_ARRAY_TAG"),k=!(!i.ArrayBuffer||!p),I=k&&!!h&&"Opera"!==s(i.opera),P=!1,R={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},B=function(t){var e=s(t);return"DataView"===e||c(R,e)},U=function(t){return a(t)&&c(R,s(t))},V=function(t){if(U(t))return t;throw TypeError("Target is not a typed array")},D=function(t){if(h){if(S.call(x,t))return t}else for(var e in R)if(c(R,n)){var r=i[e];if(r&&(t===r||S.call(r,t)))return t}throw TypeError("Target is not a typed array constructor")},L=function(t,e,r){if(o){if(r)for(var n in R){var a=i[n];a&&c(a.prototype,t)&&delete a.prototype[t]}T[t]&&!r||f(T,t,r?e:I&&w[t]||e)}},O=function(t,e,r){var n,a;if(o){if(h){if(r)for(n in R)a=i[n],a&&c(a,t)&&delete a[t];if(x[t]&&!r)return;try{return f(x,t,r?e:I&&g[t]||e)}catch(s){}}for(n in R)a=i[n],!a||a[t]&&!r||f(a,t,e)}};for(n in R)i[n]||(I=!1);if((!I||"function"!=typeof x||x===Function.prototype)&&(x=function(){throw TypeError("Incorrect invocation")},I))for(n in R)i[n]&&h(i[n],x);if((!I||!T||T===_)&&(T=x.prototype,I))for(n in R)i[n]&&h(i[n].prototype,T);if(I&&d(m)!==T&&h(m,T),o&&!c(T,C))for(n in P=!0,l(T,C,{get:function(){return a(this)?this[E]:void 0}}),R)i[n]&&u(i[n],E,n);k&&h&&d(v)!==_&&h(v,_),t.exports={NATIVE_ARRAY_BUFFER:k,NATIVE_ARRAY_BUFFER_VIEWS:I,TYPED_ARRAY_TAG:P&&E,aTypedArray:V,aTypedArrayConstructor:D,exportProto:L,exportStatic:O,isView:B,isTypedArray:U,TypedArray:x,TypedArrayPrototype:T}},f8cd:function(t,e,r){var n=r("a691");t.exports=function(t){var e=n(t);if(e<0)throw RangeError("The argument can't be less than 0");return e}}}]);