(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2268194f"],{6:function(e,t){},7:function(e,t){},8:function(e,t){},"862c":function(e,t,i){},db03:function(e,t,i){"use strict";var r=i("862c"),n=i.n(r);n.a},e324:function(e,t,i){"use strict";i.r(t);var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-container",[i("el-main",[i("canvas",{ref:"draw",staticClass:"panel",attrs:{width:"1360px",height:"720px"}}),i("ul",[i("li",[i("el-button",{attrs:{type:"primary",icon:"el-icon-edit",circle:""},on:{click:e.drawHandler}})],1),i("li",[i("el-button",{attrs:{type:"success",icon:"el-icon-rank",circle:""},on:{click:e.selectHandler}})],1),i("li",[i("el-button",{attrs:{type:"warning",icon:"el-icon-delete",circle:""},on:{click:e.clearHandler}})],1),i("li",[i("el-button",{attrs:{type:"danger",icon:"el-icon-refresh",circle:""},on:{click:e.resetHandler}})],1),i("li",[i("el-link",{attrs:{href:"https://github.com/Couy69/vue-fabric-drawingboard"}},[e._v("例1")])],1),i("li",[i("el-link",{attrs:{href:"https://github.com/vipstone/drawingboard"}},[e._v("例2")])],1)])]),i("el-footer",[i("ul"),e._e()],1),i("el-footer",[i("FabricJS")],1)],1)},n=[],a=i("7a94"),c=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-main",[i("h2",[e._v("简介")]),e._v(" \b "),i("p",[e._v(" Fabric.js是一个可以简化canvas程序编写的库。 Fabric.js为canvas提供所缺少的对象模型, svg parser, 交互和一整套其他不可或缺的工具。基于MIT协议开源，在github上有许多人贡献代码。"),i("a",{attrs:{href:"https://github.com/Rookie-Birds/Fabric-Tutorial_zh-CN",target:"_blank"}},[e._v("中文教程")])]),i("h3",[e._v("配置参数")]),i("ul",[i("li",[e._v("width宽：number")]),i("li",[e._v("height高：number")]),i("li",[e._v("fill填充颜色：string")]),i("li",[e._v("stroke描边颜色:string")]),i("li",[e._v("strokeWidth描边宽度：number")]),i("li",[e._v("angle角度:number")]),i("li",[e._v("left左边距:number")]),i("li",[e._v("top上边距:number")]),i("li",[e._v("originX横轴中心点:['center'|'left'|'right]")]),i("li",[e._v("originY纵轴中心点:['center|'top'|'bottom']")]),i("li",[e._v("flipX水平翻转:boolean")]),i("li",[e._v("flipY垂直翻转：boolean")]),i("li",[i("p",[e._v(" 更多配置参数请参考："),i("a",{attrs:{href:"http://fabricjs.com/docs/fabric.Object.html",rel:"nofollow noreferrer",target:"_blank"}},[e._v("fabric.Object")]),e._v("，以及其子类 ")])])]),i("h3",[e._v("对象")]),i("ul",[i("li",[e._v("fabric.Circle 圆")]),i("li",[e._v("fabric.Ellipse 椭圆")]),i("li",[e._v("fabric.Line 直线")]),i("li",[e._v("fabric.Polygon")]),i("li",[e._v("fabric.Polyline")]),i("li",[e._v("fabric.Rect 矩形")]),i("li",[e._v("fabric.Triangle 三角形")])]),i("h3",[e._v("方法")]),i("ul",[i("li",[e._v("add(object) 添加")]),i("li",[e._v("insertAt(object,index) 添加")]),i("li",[e._v("remove(object) 移除")]),i("li",[e._v("forEachObject 循环遍历")]),i("li",[e._v("getObjects() 获取所有对象")]),i("li",[e._v("item(int) 获取子项")]),i("li",[e._v("isEmpty() 判断是否空画板")]),i("li",[e._v("size() 画板元素个数")]),i("li",[e._v("contains(object) 查询是否包含某个元素")]),i("li",[e._v("fabric.util.cos")]),i("li",[e._v("fabric.util.sin")]),i("li",[e._v("fabric.util.drawDashedLine 绘制虚线")]),i("li",[e._v("getWidth() setWidth()")]),i("li",[e._v("getHeight()")]),i("li",[e._v("clear() 清空")]),i("li",[e._v("renderAll() 重绘")]),i("li",[e._v("requestRenderAll() 请求重新渲染")]),i("li",[e._v("rendercanvas() 重绘画板")]),i("li",[e._v("getCenter().top/left 获取中心坐标")]),i("li",[e._v("toDatalessJSON() 画板信息序列化成最小的json")]),i("li",[e._v("toJSON() 画板信息序列化成json")]),i("li",[e._v("moveTo(object,index) 移动")]),i("li",[e._v("dispose() 释放")]),i("li",[e._v("setCursor() 设置手势图标")]),i("li",[e._v("getSelectionContext()获取选中的context")]),i("li",[e._v("getSelectionElement()获取选中的元素")]),i("li",[e._v("getActiveObject() 获取选中的对象")]),i("li",[e._v("getActiveObjects() 获取选中的多个对象")]),i("li",[e._v("discardActiveObject()取消当前选中对象")]),i("li",[e._v("isType() 图片的类型")]),i("li",[e._v('setColor(color) = canvas.set("full","");')]),i("li",[e._v("rotate() 设置旋转角度")]),i("li",[e._v("setCoords() 设置坐标")])]),i("h3",[e._v("常用属性")]),i("ul",[i("li",[e._v("canvas.isDrawingMode = true; 可以自由绘制")]),i("li",[e._v("canvas.selectable = false; 控件不能被选择，不会被操作")]),i("li",[e._v("canvas.selection = true; 画板显示选中")]),i("li",[e._v("canvas.skipTargetFind = true; 整个画板元素不能被选中")]),i("li",[e._v('canvas.freeDrawingBrush.color = "#E34F51" 设置自由绘画笔的颜色')]),i("li",[e._v("freeDrawingBrush.width 自由绘笔触宽度")])]),i("h3",[e._v("IText的方法")]),i("ul",[i("li",[e._v("selectAll() 选择全部")]),i("li",[e._v("getSelectedText() 获取选中的文本")]),i("li",[e._v("exitEditing() 退出编辑模式")])]),i("h3",[e._v("样式修改")]),i("ul",[i("li",[e._v("canvas.selectionLineWidth = 1; //拖曳区块边框")]),i("li",[e._v(' canvas.selectionBorderColor = "rgb(121, 187, 255)"; //设定拖曳区块边框颜色 ')]),i("li",[e._v(' canvas.selectionColor = "rgba(236, 245, 255, 0.25)"; //拖曳区块背景顏色 ')]),i("li",[e._v("canvas.selectionDashArray = [5, 5]; //设定拖曳区块虚线样式")])]),i("h3",[e._v("知识点")]),i("ul",[i("li",[e._v(" //1: 获得画布上的所有对象："),i("br"),e._v(" var items = canvas.getObjects(); ")]),i("li",[e._v(" //2: 设置画布上的某个对象为活动对象。"),i("br"),e._v(" canvas.setActiveObject(items[i]); ")]),i("li",[e._v(" //3：获得画布上的活动对象"),i("br"),e._v(" canvas.getActiveObject() ")]),i("li",[e._v(" //4：取消画布中的所有对象的选中状态。"),i("br"),e._v(" canvas.discardActiveObject(); ")]),i("li",[e._v(" //5: 设置画布中的对象的某个属性值，比如第 0 个对象的 id"),i("br"),e._v(" var items = canvas.getObjects();"),i("br"),e._v(' tems[0].id ="items_id0" 或 items[0].set("id","items_id0") ')]),i("li",[e._v(" //6：获得画布中对象的某个属性，比如 第0 个对象的 id"),i("br"),e._v(" var items = canvas.getObjects();"),i("br"),e._v(" items[0].id;"),i("br"),e._v(" //或"),i("br"),e._v(' items[0].get("id");'),i("br")]),i("li",[e._v(" //7: 重新渲染一遍画布，当画布中的对象有变更，在最后显示的时候，需要执行一次该操作"),i("br"),e._v(" canvas.renderAll() ")]),i("li",[e._v(" //8: 清除画布中所有对象："),i("br"),e._v(" canvas.clear(); ")]),i("li",[e._v(" //9:清除画布中的活动对象："),i("br"),e._v(" var t = canvas.getActiveObject(); t && canvas.remove(t); ")]),i("li",[e._v(" //10: 设置活动对象在画布中的层级"),i("br"),e._v(" var t = canvas.getActiveObject();"),i("br"),e._v(" canvas.sendBackwards(t) //向下跳一层"),i("br"),e._v(" canvas.sendToBack(t) //向下跳底层："),i("br"),e._v(" canvas.bringForward(t) //向上跳一层："),i("br"),e._v(" canvas.bringToFront(t) //向上跳顶层："),i("br"),e._v(" //或者："),i("br"),e._v(" t.sendBackwards();"),i("br"),e._v(" t.sendToBack();"),i("br"),e._v(" t.bringForward();"),i("br"),e._v(" t.bringToFront();"),i("br")]),i("li",[e._v(" //11：当选择画布中的对象时，该对象不出现在顶层。"),i("br"),e._v(" canvas.preserveObjectStacking = true; ")])])])},l=[],o={name:"FabricJS"},s=o,v=i("2877"),b=function(e){e.options.__source="src/guide/views/canvas/drawboard/FabricJS.vue"},_=b,u=Object(v["a"])(s,c,l,!1,null,null,null);"function"===typeof _&&_(u);var d=u.exports,f={name:"BaseFabric",components:{FabricJS:d},data:function(){return{canvas:null}},mounted:function(){var e=this;this.$nextTick((function(){e.init()})),document.addEventListener("keydown",(function(t){var i=window.event?t.keyCode:t.which;8==i&&e.canvas.remove(e.canvas.getActiveObject())}))},methods:{init:function(){var e=this.canvas=new a["fabric"].Canvas(this.$refs.draw,{isDrawingMode:!0});a["fabric"].Object.prototype.transparentCorners=!1,e.freeDrawingBrush&&(e.freeDrawingBrush.color="#ff0",e.freeDrawingBrush.width=10,e.freeDrawingBrush.shadow=new a["fabric"].Shadow({blur:0,offsetX:0,offsetY:0,affectStroke:!0,color:"blue"})),console.log("canvas",e,this.$refs.draw),e.on("object:moved",(function(e){var t=e.e,i=e.target;e.subTargets;console.log("object:moved",i,t)})),e.on("object:moving",(function(e){var t=e.e,i=e.target;e.subTargets;console.log("object:moving",i,t)})),e.on("mouse:up",(function(t){var i=t.e;t.target,t.subTargets;console.log("mouse:up",i),e.renderAll()})),e.on("mouse:down",(function(t){var i=t.e,r=t.target;t.subTargets;console.log("mouse:down",i,r),e.renderAll()})),e.on("mouse:move:before",(function(e){var t=e.e;e.target,e.subTargets;console.log("mouse:move:before",t)})),e.on("mouse:move",(function(e){var t=e.e;e.target,e.subTargets;console.log("mouse:move",t)}))},drawHandler:function(){this.canvas&&(this.canvas.isDrawingMode=!0)},selectHandler:function(){this.canvas&&(this.canvas.isDrawingMode=!1,console.log("对象集合",this.canvas.getObjects()))},resetHandler:function(){var e=this;this.clearHandler();for(var t=this.$refs.draw,i=t.offsetWidth,r=t.offsetHeight,n=15;n--;){var c=a["fabric"].util.getRandomInt(30,60),l=["image","Rect","Triangle","Circle"][a["fabric"].util.getRandomInt(0,2)],o={top:a["fabric"].util.getRandomInt(0,i),left:a["fabric"].util.getRandomInt(0,r),fill:"green"};if("Circle"===l){o.radius=c;var s=new a["fabric"].Circle({radius:c,fill:"blue",originX:"center",originY:"center"}),v=new a["fabric"].Text("F"+c,{fontSize:c,fill:"#FFF",originX:"center",originY:"center"});this.canvas.add(new a["fabric"].Group([s,v],o))}else"image"==l?a["fabric"].Image.fromURL("/assets/image.jpg",(function(t){t.scale(.5).set({left:a["fabric"].util.getRandomInt(0,i/2),top:a["fabric"].util.getRandomInt(0,r)/2,angle:-15,clipTo:function(e){e.arc(0,0,300,0,2*Math.PI,!0)}}),e.canvas.add(t).setActiveObject(t)})):(o.width=c,o.height=c,this.canvas.add(new a["fabric"][l](o)))}},clearHandler:function(){this.canvas.clear()}}},g=f,h=(i("db03"),function(e){e.options.__source="src/guide/views/canvas/BaseFabric.vue"}),m=h,w=Object(v["a"])(g,r,n,!1,null,"44750c1e",null);"function"===typeof m&&m(w);t["default"]=w.exports}}]);