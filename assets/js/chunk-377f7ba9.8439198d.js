(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-377f7ba9"],{5:function(e,t){},6:function(e,t){},7:function(e,t){},ad0e:function(e,t,s){},de86:function(e,t,s){"use strict";s.r(t);var o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-container",[s("el-main",[s("span",[e._v(e._s(e.mouseFrom)+" \\ "+e._s(e.mouseTo))]),s("div",{ref:"element",staticClass:"canvas",attrs:{width:"1360px",height:"720px"},on:{mousedown:e.mouseDownHandler,mousemove:e.mouseMoveHandler,mouseleave:e.mouseLeaveHandler,mouseup:e.mouseLeaveHandler}}),s("ul",[s("li",{class:{active:e.selected(e.DrawType.SELECT)},on:{click:function(t){return e.drawTypeChange(e.DrawType.SELECT)}}},[e._v(" 选中 ")]),s("li",{class:{active:e.selected(e.DrawType.PEN)},on:{click:function(t){return e.drawTypeChange(e.DrawType.PEN)}}},[e._v(" 画笔 ")]),s("li",{class:{active:e.selected(e.DrawType.ARROW)},on:{click:function(t){return e.drawTypeChange(e.DrawType.ARROW)}}},[e._v(" 箭头 ")]),s("li",{class:{active:e.selected(e.DrawType.LINE)},on:{click:function(t){return e.drawTypeChange(e.DrawType.LINE)}}},[e._v(" 直线 ")]),s("li",{class:{active:e.selected(e.DrawType.DOTTEDLINE)},on:{click:function(t){return e.drawTypeChange(e.DrawType.DOTTEDLINE)}}},[e._v(" 虚线 ")]),s("li",{class:{active:e.selected(e.DrawType.CIRCLE)},on:{click:function(t){return e.drawTypeChange(e.DrawType.CIRCLE)}}},[e._v(" 圆 ")]),s("li",{class:{active:e.selected(e.DrawType.ELLIPSE)},on:{click:function(t){return e.drawTypeChange(e.DrawType.ELLIPSE)}}},[e._v(" 椭圆 ")]),s("li",{class:{active:e.selected(e.DrawType.SQUARE)},on:{click:function(t){return e.drawTypeChange(e.DrawType.SQUARE)}}},[e._v(" 矩形 ")]),s("li",{class:{active:e.selected(e.DrawType.RIGHTANGLE)},on:{click:function(t){return e.drawTypeChange(e.DrawType.RIGHTANGLE)}}},[e._v(" 直角三角 ")]),s("li",{class:{active:e.selected(e.DrawType.EQUILATERAL)},on:{click:function(t){return e.drawTypeChange(e.DrawType.EQUILATERAL)}}},[e._v(" 等边三角 ")]),s("li",{class:{active:e.selected(e.DrawType.TEXT)},on:{click:function(t){return e.drawTypeChange(e.DrawType.TEXT)}}},[e._v(" 文字 ")]),s("li",[s("el-color-picker",{attrs:{"show-alpha":"",predefine:e.predefineColors},on:{change:e.colorPickerChangeHandler},model:{value:e.selectColor,callback:function(t){e.selectColor=t},expression:"selectColor"}})],1),s("li",[s("el-popover",{attrs:{placement:"left",width:"200",trigger:"hover"}},[s("el-slider",{on:{change:e.widthSliderChangeHandler},model:{value:e.selecteWidth,callback:function(t){e.selecteWidth=t},expression:"selecteWidth"}}),s("span",{attrs:{slot:"reference"},slot:"reference"},[e._v(" 宽度 "),s("small",[e._v(e._s(e.selecteWidth))])])],1)],1),s("li",{on:{click:e.clear}},[e._v("清屏")])])])],1)},i=[],r=(s("cb29"),s("7a94"),s("f077")),n={name:"DrawTwojsBoardFabric",data:function(){return{two:null,canvas:null,drawing:!1,mouseDown:!1,mouseFrom:{x:0,y:0},mouseTo:{x:0,y:0},mousePoints:[],drawType:"select",rectObject:null,DrawType:{PEN:"pen",BRUSH:"brush",ARROW:"arrow",LINE:"line",DOTTEDLINE:"dottedline",CIRCLE:"circle",ELLIPSE:"ellipse",SQUARE:"square",RECTANGLE:"rectangle",RIGHTANGLE:"rightangle",EQUILATERAL:"equilateral",TEXT:"text",SELECT:"select"},selectColor:"rgba(255, 69, 0, 0.68)",selecteWidth:5,activeNames:"2",predefineColors:["#ff4500","#ff8c00","#ffd700","#90ee90","#00ced1","#1e90ff","#c71585","rgba(255, 69, 0, 0.68)","rgb(255, 120, 0)","hsv(51, 100, 98)","hsva(120, 40, 94, 0.5)","hsl(181, 100%, 37%)","hsla(209, 100%, 56%, 0.73)","#c7158577"]}},computed:{selected:function(){var e=this;return function(t){return e.drawType===t}}},mounted:function(){this.init(),document.addEventListener("keydown",(function(e){window.event?e.keyCode:e.which}))},methods:{init:function(){console.log(this.$refs.element.clientWidth,this.$refs.element.clientHeight);var e=new r["a"]({width:this.$refs.element.clientWidth,height:this.$refs.element.clientHeight,autostart:!0}).appendTo(this.$refs.element);e.update(),this.two=e},transformMouse:function(e,t){return{x:e,y:t}},mouseDownHandler:function(e){this.mousePoints=[],this.mouseDown=!0,this.mouseFrom=this.transformMouse(e.offsetX,e.offsetY),this.rectObject=null},mouseMoveHandler:function(e){this.mouseDown&&(this.mouseTo=this.transformMouse(e.offsetX,e.offsetY),this.startDrawing())},mouseLeaveHandler:function(e){this.mouseDown&&(this.mouseTo=this.transformMouse(e.offsetX,e.offsetY),this.rectObject=null,this.mouseDown=!1)},drawTypeChange:function(e){this.drawType=e},startDrawing:function(){var e=this.mouseTo.x-this.mouseFrom.x,t=this.mouseTo.y-this.mouseFrom.y;switch(this.drawType){case this.DrawType.PEN:this.rectObject=new r["a"].Line(this.mouseFrom.x,this.mouseFrom.y,this.mouseTo.x,this.mouseTo.y),this.mouseFrom=this.mouseTo;break;case this.DrawType.LINE:this.rectObject=new r["a"].Line(this.mouseFrom.x,this.mouseFrom.y,this.mouseTo.x,this.mouseTo.y),this.mouseFrom=this.mouseTo;break;case this.DrawType.CIRCLE:this.rectObject&&this.two.remove(this.rectObject);var s=(this.mouseTo.x-this.mouseFrom.x)*(this.mouseTo.x-this.mouseFrom.x)+(this.mouseTo.y-this.mouseFrom.y)*(this.mouseTo.y-this.mouseFrom.y);console.log(this.mouseFrom,this.mouseTo);var o=Math.sqrt(s)/2||20;this.rectObject=new r["a"].Circle(this.mouseFrom.x,this.mouseFrom.y,o);break;case this.DrawType.ELLIPSE:this.rectObject&&this.two.remove(this.rectObject),this.rectObject=new r["a"].Ellipse(this.mouseFrom.x,this.mouseFrom.y,e,t);break;case this.DrawType.RECTANGLE:this.rectObject&&this.two.remove(this.rectObject),this.rectObject=new r["a"].Rectangle(this.mouseFrom.x,this.mouseFrom.y,e,t);break}this.rectObject&&(this.two.add(this.rectObject),this.fill="#FFF",this.rectObject.stroke=this.selectColor,this.rectObject.linewidth=this.selecteWidth)},colorPickerChangeHandler:function(e){},widthSliderChangeHandler:function(e){},clear:function(){this.two.clear()}}},c=n,a=(s("dffb"),s("2877")),l=Object(a["a"])(c,o,i,!1,null,"1914dac8",null);t["default"]=l.exports},dffb:function(e,t,s){"use strict";var o=s("ad0e"),i=s.n(o);i.a}}]);