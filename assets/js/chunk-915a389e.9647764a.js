(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-915a389e"],{4795:function(t,r,n){var e=n("23e7"),i=n("da84"),a=n("342f"),s=[].slice,o=/MSIE .\./.test(a),c=function(t){return function(r,n){var e=arguments.length>2,i=e?s.call(arguments,2):void 0;return t(e?function(){("function"==typeof r?r:Function(r)).apply(this,i)}:r,n)}};e({global:!0,bind:!0,forced:o},{setTimeout:c(i.setTimeout),setInterval:c(i.setInterval)})},"498a":function(t,r,n){"use strict";var e=n("23e7"),i=n("58a8").trim,a=n("c8d2");e({target:"String",proto:!0,forced:a("trim")},{trim:function(){return i(this)}})},"4e82":function(t,r,n){"use strict";var e=n("23e7"),i=n("1c0b"),a=n("7b0b"),s=n("d039"),o=n("a640"),c=[],u=c.sort,l=s((function(){c.sort(void 0)})),f=s((function(){c.sort(null)})),p=o("sort"),d=l||!f||!p;e({target:"Array",proto:!0,forced:d},{sort:function(t){return void 0===t?u.call(a(this)):u.call(a(this),i(t))}})},5319:function(t,r,n){"use strict";var e=n("d784"),i=n("825a"),a=n("7b0b"),s=n("50c4"),o=n("a691"),c=n("1d80"),u=n("8aa5"),l=n("14c3"),f=Math.max,p=Math.min,d=Math.floor,v=/\$([$&'`]|\d\d?|<[^>]*>)/g,h=/\$([$&'`]|\d\d?)/g,g=function(t){return void 0===t?t:String(t)};e("replace",2,(function(t,r,n,e){var m=e.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,w=e.REPLACE_KEEPS_$0,y=m?"$":"$0";return[function(n,e){var i=c(this),a=void 0==n?void 0:n[t];return void 0!==a?a.call(n,i,e):r.call(String(i),n,e)},function(t,e){if(!m&&w||"string"===typeof e&&-1===e.indexOf(y)){var a=n(r,t,this,e);if(a.done)return a.value}var c=i(t),d=String(this),v="function"===typeof e;v||(e=String(e));var h=c.global;if(h){var x=c.unicode;c.lastIndex=0}var E=[];while(1){var S=l(c,d);if(null===S)break;if(E.push(S),!h)break;var I=String(S[0]);""===I&&(c.lastIndex=u(d,s(c.lastIndex),x))}for(var $="",T=0,L=0;L<E.length;L++){S=E[L];for(var A=String(S[0]),M=f(p(o(S.index),d.length),0),N=[],P=1;P<S.length;P++)N.push(g(S[P]));var R=S.groups;if(v){var _=[A].concat(N,M,d);void 0!==R&&_.push(R);var k=String(e.apply(void 0,_))}else k=b(A,d,M,N,R,e);M>=T&&($+=d.slice(T,M)+k,T=M+A.length)}return $+d.slice(T)}];function b(t,n,e,i,s,o){var c=e+t.length,u=i.length,l=h;return void 0!==s&&(s=a(s),l=v),r.call(o,l,(function(r,a){var o;switch(a.charAt(0)){case"$":return"$";case"&":return t;case"`":return n.slice(0,e);case"'":return n.slice(c);case"<":o=s[a.slice(1,-1)];break;default:var l=+a;if(0===l)return r;if(l>u){var f=d(l/10);return 0===f?r:f<=u?void 0===i[f-1]?a.charAt(1):i[f-1]+a.charAt(1):r}o=i[l-1]}return void 0===o?"":o}))}}))},5899:function(t,r){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,r,n){var e=n("1d80"),i=n("5899"),a="["+i+"]",s=RegExp("^"+a+a+"*"),o=RegExp(a+a+"*$"),c=function(t){return function(r){var n=String(e(r));return 1&t&&(n=n.replace(s,"")),2&t&&(n=n.replace(o,"")),n}};t.exports={start:c(1),end:c(2),trim:c(3)}},"7e12":function(t,r,n){var e=n("da84"),i=n("58a8").trim,a=n("5899"),s=e.parseFloat,o=1/s(a+"-0")!==-1/0;t.exports=o?function(t){var r=i(String(t)),n=s(r);return 0===n&&"-"==r.charAt(0)?-0:n}:s},a7ec:function(t,r,n){"use strict";n.r(r);var e=function(){var t=this,r=t.$createElement,n=t._self._c||r;return n("el-main",[n("audio",{ref:"audio",attrs:{controls:"",autoplay:""}}),n("div",{ref:"wrapper",staticClass:"wrapper"})])},i=[];n("4e82"),n("acd8"),n("e25e"),n("ac1f"),n("5319"),n("1276"),n("498a"),n("4795");function a(t,r){for(var n in t)void 0!=t[n]&&(r[n]=t[n])}function s(t){this.settings={},a(s.settings,this.settings),a(t,this.settings),this.init()}s.version="1.0.0",s.settings={row:7,lineHeight:40,currentPlayTime:function(){return 0},lrc:[],url:"",wrapper:null,el:"",delay:0,freq:250},s.prototype.getLrc=function(t,r){var n=new XMLHttpRequest;n.onreadystatechange=function(){if(4==n.readyState)if(200==n.status){var t=n.responseText;r(t)}else r()},n.open("GET",t,!0),n.send(null)},s.prototype.parseLrc=function(t){for(var r=t.split("\n"),n=[],e=0;e<r.length;e++){var i=r[e].split("]");if(/^\[\d+:\d+/g.test(i[0]))for(var a=i.pop().trim(),s=0;s<i.length;s++){var o=i[s].replace(/^\s*\[/g,"").split(":"),c=60*parseInt(o[0])+parseFloat(o[1]);n.push([c,a])}}return n.sort((function(t,r){return t[0]<r[0]?-1:t[0]>r[0]?1:0})),n},s.prototype.init=function(){this.settings.el&&(this.settings.wrapper=this.settings.el);var t=this;this.getLrc(this.settings.url,(function(r){if(!r)throw new Error("下载歌词文件失败！");console.log(r),window.fff=r,t.settings.lrc=t.parseLrc(r),t.initDOM(),t.start()}))},s.prototype.initDOM=function(){for(var t=document.createElement("ul"),r="",n=this.settings.lrc,e=0;e<n.length;e++)r+="<li>"+n[e][1]+"</li>";t.innerHTML=r,this.settings.wrapper.appendChild(t),this.childNodes=t.childNodes,this.ul=t},s.prototype.start=function(){var t=this;this.currentLine=-1;var r=Math.floor(t.settings.row/2);function n(t,r,n){(n<0||void 0==n)&&(n=0);for(var e=n;e<t.length;e++)if(r>=t[e][0]&&(!t[e+1]||t[e+1]&&r<t[e+1][0]))return e;return-1}this.interval=setInterval((function(){var e=t.settings.currentPlayTime()-t.settings.delay,i=t.settings.lrc,a=t.currentLine,s=n(i,e,a);s<0&&(s=n(i,e)),s<0&&(s=a),a!=s&&(t.currentLine=s,a>=0&&(t.childNodes[a].className=""),s>=0&&(t.childNodes[s].className="current"),s>r&&(t.ul.style.top=(r-s)*t.settings.lineHeight+"px"))}),this.settings.freq)},s.prototype.stop=function(){this.interval&&clearInterval(this.interval)};var o=s,c={name:"AudioLRC",data:function(){return{lrc:null}},methods:{init:function(t){var r=this.$refs.audio;r.src=t.url,r.play(),console.log(this.$refs.wrapper),this.lrc=new o({el:this.$refs.wrapper,url:t.lrc,row:7,lineHeight:40,delay:0,currentPlayTime:function(){return r.currentTime||0}})}},mounted:function(){this.init({url:"/medias/xnbsw.mp3",lrc:"/medias/xnbsw.lrc"})}},u=c,l=(n("b986"),n("2877")),f=Object(l["a"])(u,e,i,!1,null,"429b8164",null);r["default"]=f.exports},acd8:function(t,r,n){var e=n("23e7"),i=n("7e12");e({global:!0,forced:parseFloat!=i},{parseFloat:i})},b986:function(t,r,n){"use strict";var e=n("cc92"),i=n.n(e);i.a},c20d:function(t,r,n){var e=n("da84"),i=n("58a8").trim,a=n("5899"),s=e.parseInt,o=/^[+-]?0[Xx]/,c=8!==s(a+"08")||22!==s(a+"0x16");t.exports=c?function(t,r){var n=i(String(t));return s(n,r>>>0||(o.test(n)?16:10))}:s},c8d2:function(t,r,n){var e=n("d039"),i=n("5899"),a="​᠎";t.exports=function(t){return e((function(){return!!i[t]()||a[t]()!=a||i[t].name!==t}))}},cc92:function(t,r,n){},e25e:function(t,r,n){var e=n("23e7"),i=n("c20d");e({global:!0,forced:parseInt!=i},{parseInt:i})}}]);